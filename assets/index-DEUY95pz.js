var IL=Object.defineProperty;var kL=(e,t,n)=>t in e?IL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vg=(e,t,n)=>kL(e,typeof t!="symbol"?t+"":t,n);function LL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gg={exports:{}},Gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function zL(){if(GN)return Gu;GN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:o,ref:a!==void 0?a:null,props:s}}return Gu.Fragment=t,Gu.jsx=n,Gu.jsxs=n,Gu}var YN;function BL(){return YN||(YN=1,Gg.exports=zL()),Gg.exports}var p=BL(),Yg={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function UL(){if(WN)return ke;WN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(R,Z,ue){this.props=R,this.context=Z,this.refs=E,this.updater=ue||w}C.prototype.isReactComponent={},C.prototype.setState=function(R,Z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Z,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function j(){}j.prototype=C.prototype;function A(R,Z,ue){this.props=R,this.context=Z,this.refs=E,this.updater=ue||w}var T=A.prototype=new j;T.constructor=A,S(T,C.prototype),T.isPureReactComponent=!0;var D=Array.isArray;function M(){}var k={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function te(R,Z,ue){var oe=ue.ref;return{$$typeof:e,type:R,key:Z,ref:oe!==void 0?oe:null,props:ue}}function U(R,Z){return te(R.type,Z,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function P(R){var Z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ue){return Z[ue]})}var q=/\/+/g;function ee(R,Z){return typeof R=="object"&&R!==null&&R.key!=null?P(""+R.key):Z.toString(36)}function ae(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(M,M):(R.status="pending",R.then(function(Z){R.status==="pending"&&(R.status="fulfilled",R.value=Z)},function(Z){R.status==="pending"&&(R.status="rejected",R.reason=Z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,Z,ue,oe,me){var Oe=typeof R;(Oe==="undefined"||Oe==="boolean")&&(R=null);var je=!1;if(R===null)je=!0;else switch(Oe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(R.$$typeof){case e:case t:je=!0;break;case m:return je=R._init,L(je(R._payload),Z,ue,oe,me)}}if(je)return me=me(R),je=oe===""?"."+ee(R,0):oe,D(me)?(ue="",je!=null&&(ue=je.replace(q,"$&/")+"/"),L(me,Z,ue,"",function(Ce){return Ce})):me!=null&&($(me)&&(me=U(me,ue+(me.key==null||R&&R.key===me.key?"":(""+me.key).replace(q,"$&/")+"/")+je)),Z.push(me)),1;je=0;var nt=oe===""?".":oe+":";if(D(R))for(var J=0;J<R.length;J++)oe=R[J],Oe=nt+ee(oe,J),je+=L(oe,Z,ue,Oe,me);else if(J=x(R),typeof J=="function")for(R=J.call(R),J=0;!(oe=R.next()).done;)oe=oe.value,Oe=nt+ee(oe,J++),je+=L(oe,Z,ue,Oe,me);else if(Oe==="object"){if(typeof R.then=="function")return L(ae(R),Z,ue,oe,me);throw Z=String(R),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function X(R,Z,ue){if(R==null)return R;var oe=[],me=0;return L(R,oe,"","",function(Oe){return Z.call(ue,Oe,me++)}),oe}function se(R){if(R._status===-1){var Z=R._result;Z=Z(),Z.then(function(ue){(R._status===0||R._status===-1)&&(R._status=1,R._result=ue)},function(ue){(R._status===0||R._status===-1)&&(R._status=2,R._result=ue)}),R._status===-1&&(R._status=0,R._result=Z)}if(R._status===1)return R._result.default;throw R._result}var he=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ve={map:X,forEach:function(R,Z,ue){X(R,function(){Z.apply(this,arguments)},ue)},count:function(R){var Z=0;return X(R,function(){Z++}),Z},toArray:function(R){return X(R,function(Z){return Z})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ke.Activity=v,ke.Children=ve,ke.Component=C,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=A,ke.StrictMode=r,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ke.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},ke.cache=function(R){return function(){return R.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(R,Z,ue){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=S({},R.props),me=R.key;if(Z!=null)for(Oe in Z.key!==void 0&&(me=""+Z.key),Z)!K.call(Z,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&Z.ref===void 0||(oe[Oe]=Z[Oe]);var Oe=arguments.length-2;if(Oe===1)oe.children=ue;else if(1<Oe){for(var je=Array(Oe),nt=0;nt<Oe;nt++)je[nt]=arguments[nt+2];oe.children=je}return te(R.type,me,oe)},ke.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},ke.createElement=function(R,Z,ue){var oe,me={},Oe=null;if(Z!=null)for(oe in Z.key!==void 0&&(Oe=""+Z.key),Z)K.call(Z,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(me[oe]=Z[oe]);var je=arguments.length-2;if(je===1)me.children=ue;else if(1<je){for(var nt=Array(je),J=0;J<je;J++)nt[J]=arguments[J+2];me.children=nt}if(R&&R.defaultProps)for(oe in je=R.defaultProps,je)me[oe]===void 0&&(me[oe]=je[oe]);return te(R,Oe,me)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(R){return{$$typeof:c,render:R}},ke.isValidElement=$,ke.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:se}},ke.memo=function(R,Z){return{$$typeof:h,type:R,compare:Z===void 0?null:Z}},ke.startTransition=function(R){var Z=k.T,ue={};k.T=ue;try{var oe=R(),me=k.S;me!==null&&me(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(M,he)}catch(Oe){he(Oe)}finally{Z!==null&&ue.types!==null&&(Z.types=ue.types),k.T=Z}},ke.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ke.use=function(R){return k.H.use(R)},ke.useActionState=function(R,Z,ue){return k.H.useActionState(R,Z,ue)},ke.useCallback=function(R,Z){return k.H.useCallback(R,Z)},ke.useContext=function(R){return k.H.useContext(R)},ke.useDebugValue=function(){},ke.useDeferredValue=function(R,Z){return k.H.useDeferredValue(R,Z)},ke.useEffect=function(R,Z){return k.H.useEffect(R,Z)},ke.useEffectEvent=function(R){return k.H.useEffectEvent(R)},ke.useId=function(){return k.H.useId()},ke.useImperativeHandle=function(R,Z,ue){return k.H.useImperativeHandle(R,Z,ue)},ke.useInsertionEffect=function(R,Z){return k.H.useInsertionEffect(R,Z)},ke.useLayoutEffect=function(R,Z){return k.H.useLayoutEffect(R,Z)},ke.useMemo=function(R,Z){return k.H.useMemo(R,Z)},ke.useOptimistic=function(R,Z){return k.H.useOptimistic(R,Z)},ke.useReducer=function(R,Z,ue){return k.H.useReducer(R,Z,ue)},ke.useRef=function(R){return k.H.useRef(R)},ke.useState=function(R){return k.H.useState(R)},ke.useSyncExternalStore=function(R,Z,ue){return k.H.useSyncExternalStore(R,Z,ue)},ke.useTransition=function(){return k.H.useTransition()},ke.version="19.2.0",ke}var XN;function zo(){return XN||(XN=1,Yg.exports=UL()),Yg.exports}var _=zo();const C2=Mi(_),$L=LL({__proto__:null,default:C2},[_]);var Wg={exports:{}},Yu={},Xg={exports:{}},Qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function HL(){return QN||(QN=1,(function(e){function t(L,X){var se=L.length;L.push(X);e:for(;0<se;){var he=se-1>>>1,ve=L[he];if(0<a(ve,X))L[he]=X,L[se]=ve,se=he;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var X=L[0],se=L.pop();if(se!==X){L[0]=se;e:for(var he=0,ve=L.length,R=ve>>>1;he<R;){var Z=2*(he+1)-1,ue=L[Z],oe=Z+1,me=L[oe];if(0>a(ue,se))oe<ve&&0>a(me,ue)?(L[he]=me,L[oe]=se,he=oe):(L[he]=ue,L[Z]=se,he=Z);else if(oe<ve&&0>a(me,se))L[he]=me,L[oe]=se,he=oe;else break e}}return X}function a(L,X){var se=L.sortIndex-X.sortIndex;return se!==0?se:L.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var f=[],h=[],m=1,v=null,y=3,x=!1,w=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=L)r(h),X.sortIndex=X.expirationTime,t(f,X);else break;X=n(h)}}function D(L){if(S=!1,T(L),!w)if(n(f)!==null)w=!0,M||(M=!0,P());else{var X=n(h);X!==null&&ae(D,X.startTime-L)}}var M=!1,k=-1,K=5,te=-1;function U(){return E?!0:!(e.unstable_now()-te<K)}function $(){if(E=!1,M){var L=e.unstable_now();te=L;var X=!0;try{e:{w=!1,S&&(S=!1,j(k),k=-1),x=!0;var se=y;try{t:{for(T(L),v=n(f);v!==null&&!(v.expirationTime>L&&U());){var he=v.callback;if(typeof he=="function"){v.callback=null,y=v.priorityLevel;var ve=he(v.expirationTime<=L);if(L=e.unstable_now(),typeof ve=="function"){v.callback=ve,T(L),X=!0;break t}v===n(f)&&r(f),T(L)}else r(f);v=n(f)}if(v!==null)X=!0;else{var R=n(h);R!==null&&ae(D,R.startTime-L),X=!1}}break e}finally{v=null,y=se,x=!1}X=void 0}}finally{X?P():M=!1}}}var P;if(typeof A=="function")P=function(){A($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=$,P=function(){ee.postMessage(null)}}else P=function(){C($,0)};function ae(L,X){k=C(function(){L(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var se=y;y=X;try{return L()}finally{y=se}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=y;y=L;try{return X()}finally{y=se}},e.unstable_scheduleCallback=function(L,X,se){var he=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?he+se:he):se=he,L){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=se+ve,L={id:m++,callback:X,priorityLevel:L,startTime:se,expirationTime:ve,sortIndex:-1},se>he?(L.sortIndex=se,t(h,L),n(f)===null&&L===n(h)&&(S?(j(k),k=-1):S=!0,ae(D,se-he))):(L.sortIndex=ve,t(f,L),w||x||(w=!0,M||(M=!0,P()))),L},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(L){var X=y;return function(){var se=y;y=X;try{return L.apply(this,arguments)}finally{y=se}}}})(Qg)),Qg}var ZN;function qL(){return ZN||(ZN=1,Xg.exports=HL()),Xg.exports}var Zg={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN;function FL(){if(JN)return Yn;JN=1;var e=zo();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,m)},Yn.flushSync=function(f){var h=o.T,m=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=h,r.p=m,r.d.f()}},Yn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Yn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:x}):m==="script"&&r.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Yn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Yn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Yn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Yn.requestFormReset=function(f){r.d.r(f)},Yn.unstable_batchedUpdates=function(f,h){return f(h)},Yn.useFormState=function(f,h,m){return o.H.useFormState(f,h,m)},Yn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Yn.version="19.2.0",Yn}var eC;function A2(){if(eC)return Zg.exports;eC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zg.exports=FL(),Zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function KL(){if(tC)return Yu;tC=1;var e=qL(),t=zo(),n=A2();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function o(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,d=l;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return f(g),i;if(b===d)return f(g),l;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=g,d=b;else{for(var N=!1,O=g.child;O;){if(O===u){N=!0,u=g,d=b;break}if(O===d){N=!0,d=g,u=b;break}O=O.sibling}if(!N){for(O=b.child;O;){if(O===u){N=!0,u=b,d=g;break}if(O===d){N=!0,d=b,u=g;break}O=O.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case te:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case T:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return l=i.displayName||null,l!==null?l:ee(i.type)||"Memo";case K:l=i._payload,i=i._init;try{return ee(i(l))}catch{}}return null}var ae=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},he=[],ve=-1;function R(i){return{current:i}}function Z(i){0>ve||(i.current=he[ve],he[ve]=null,ve--)}function ue(i,l){ve++,he[ve]=i.current,i.current=l}var oe=R(null),me=R(null),Oe=R(null),je=R(null);function nt(i,l){switch(ue(Oe,l),ue(me,i),ue(oe,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?vN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=vN(l),i=gN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(oe),ue(oe,i)}function J(){Z(oe),Z(me),Z(Oe)}function Ce(i){i.memoizedState!==null&&ue(je,i);var l=oe.current,u=gN(l,i.type);l!==u&&(ue(me,i),ue(oe,u))}function Re(i){me.current===i&&(Z(oe),Z(me)),je.current===i&&(Z(je),qu._currentValue=se)}var le,Nt;function Le(i){if(le===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);le=l&&l[1]||"",Nt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+i+Nt}var W=!1;function pe(i,l){if(!i||W)return"";W=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var G=Q}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Q){G=Q}i.call(ie.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),N=b[0],O=b[1];if(N&&O){var I=N.split(`
`),F=O.split(`
`);for(g=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(d===I.length||g===F.length)for(d=I.length-1,g=F.length-1;1<=d&&0<=g&&I[d]!==F[g];)g--;for(;1<=d&&0<=g;d--,g--)if(I[d]!==F[g]){if(d!==1||g!==1)do if(d--,g--,0>g||I[d]!==F[g]){var ne=`
`+I[d].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=d&&0<=g);break}}}finally{W=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Le(u):""}function ye(i,l){switch(i.tag){case 26:case 27:case 5:return Le(i.type);case 16:return Le("Lazy");case 13:return i.child!==l&&l!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return pe(i.type,!1);case 11:return pe(i.type.render,!1);case 1:return pe(i.type,!0);case 31:return Le("Activity");default:return""}}function Ie(i){try{var l="",u=null;do l+=ye(i,u),u=i,i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Lt=Object.prototype.hasOwnProperty,ln=e.unstable_scheduleCallback,Sr=e.unstable_cancelCallback,Ta=e.unstable_shouldYield,Sl=e.unstable_requestPaint,kn=e.unstable_now,fe=e.unstable_getCurrentPriorityLevel,de=e.unstable_ImmediatePriority,Ee=e.unstable_UserBlockingPriority,Te=e.unstable_NormalPriority,bt=e.unstable_LowPriority,Ae=e.unstable_IdlePriority,Tt=e.log,Ln=e.unstable_setDisableYieldValue,xt=null,Be=null;function Dt(i){if(typeof Tt=="function"&&Ln(i),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(xt,i)}catch{}}var Pe=Math.clz32?Math.clz32:Jn,zn=Math.log,Er=Math.LN2;function Jn(i){return i>>>=0,i===0?32:31-(zn(i)/Er|0)|0}var sn=256,ft=262144,ht=4194304;function Bn(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,l,u){var d=i.pendingLanes;if(d===0)return 0;var g=0,b=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var O=d&134217727;return O!==0?(d=O&~b,d!==0?g=Bn(d):(N&=O,N!==0?g=Bn(N):u||(u=O&~i,u!==0&&(g=Bn(u))))):(O=d&~b,O!==0?g=Bn(O):N!==0?g=Bn(N):u||(u=d&~i,u!==0&&(g=Bn(u)))),g===0?0:l!==0&&l!==g&&(l&b)===0&&(b=g&-g,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:g}function lt(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Yt(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var i=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),i}function at(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Nr(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Y(i,l,u,d,g,b){var N=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var O=i.entanglements,I=i.expirationTimes,F=i.hiddenUpdates;for(u=N&~u;0<u;){var ne=31-Pe(u),ie=1<<ne;O[ne]=0,I[ne]=-1;var G=F[ne];if(G!==null)for(F[ne]=null,ne=0;ne<G.length;ne++){var Q=G[ne];Q!==null&&(Q.lane&=-536870913)}u&=~ie}d!==0&&Se(i,d,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(N&~l))}function Se(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var d=31-Pe(l);i.entangledLanes|=l,i.entanglements[d]=i.entanglements[d]|1073741824|u&261930}function _t(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var d=31-Pe(u),g=1<<d;g&l|i[d]&l&&(i[d]|=l),u&=~g}}function er(i,l){var u=l&-l;return u=(u&42)!==0?1:Gn(u),(u&(i.suspendedLanes|l))!==0?0:u}function Gn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ur(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function El(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:UN(i.type))}function wi(i,l){var u=X.p;try{return X.p=i,l()}finally{X.p=u}}var ot=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ot,gn="__reactProps$"+ot,Nn="__reactContainer$"+ot,iu="__reactEvents$"+ot,Lp="__reactListeners$"+ot,Od="__reactHandles$"+ot,jd="__reactResources$"+ot,Nl="__reactMarker$"+ot;function zp(i){delete i[Wt],delete i[gn],delete i[iu],delete i[Lp],delete i[Od]}function _s(i){var l=i[Wt];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Nn]||u[Wt]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=EN(i);i!==null;){if(u=i[Wt])return u;i=EN(i)}return l}i=u,u=i.parentNode}return null}function ws(i){if(i=i[Wt]||i[Nn]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function au(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function Ss(i){var l=i[jd];return l||(l=i[jd]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Cn(i){i[Nl]=!0}var iw=new Set,aw={};function Cl(i,l){Es(i,l),Es(i+"Capture",l)}function Es(i,l){for(aw[i]=l,i=0;i<l.length;i++)iw.add(l[i])}var C3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lw={},sw={};function A3(i){return Lt.call(sw,i)?!0:Lt.call(lw,i)?!1:C3.test(i)?sw[i]=!0:(lw[i]=!0,!1)}function Td(i,l,u){if(A3(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Dd(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function Li(i,l,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+d)}}function Ur(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ow(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function O3(i,l,u){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(N){u=""+N,b.call(this,N)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Bp(i){if(!i._valueTracker){var l=ow(i)?"checked":"value";i._valueTracker=O3(i,l,""+i[l])}}function uw(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),d="";return i&&(d=ow(i)?i.checked?"true":"false":i.value),i=d,i!==u?(l.setValue(i),!0):!1}function Pd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var j3=/[\n"\\]/g;function $r(i){return i.replace(j3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Up(i,l,u,d,g,b,N,O){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),l!=null?N==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Ur(l)):i.value!==""+Ur(l)&&(i.value=""+Ur(l)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),l!=null?$p(i,N,Ur(l)):u!=null?$p(i,N,Ur(u)):d!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Ur(O):i.removeAttribute("name")}function cw(i,l,u,d,g,b,N,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){Bp(i);return}u=u!=null?""+Ur(u):"",l=l!=null?""+Ur(l):u,O||l===i.value||(i.value=l),i.defaultValue=l}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=O?i.checked:!!d,i.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),Bp(i)}function $p(i,l,u){l==="number"&&Pd(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ns(i,l,u,d){if(i=i.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=l.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Ur(u),l=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function dw(i,l,u){if(l!=null&&(l=""+Ur(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+Ur(u):""}function fw(i,l,u,d){if(l==null){if(d!=null){if(u!=null)throw Error(r(92));if(ae(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),l=u}u=Ur(l),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d),Bp(i)}function Cs(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var T3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hw(i,l,u){var d=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":d?i.setProperty(l,u):typeof u!="number"||u===0||T3.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function mw(i,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var g in l)d=l[g],l.hasOwnProperty(g)&&u[g]!==d&&hw(i,g,d)}else for(var b in l)l.hasOwnProperty(b)&&hw(i,b,l[b])}function Hp(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Md(i){return P3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zi(){}var qp=null;function Fp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var As=null,Os=null;function pw(i){var l=ws(i);if(l&&(i=l.stateNode)){var u=i[gn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Up(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+$r(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var d=u[l];if(d!==i&&d.form===i.form){var g=d[gn]||null;if(!g)throw Error(r(90));Up(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)d=u[l],d.form===i.form&&uw(d)}break e;case"textarea":dw(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ns(i,!!u.multiple,l,!1)}}}var Kp=!1;function vw(i,l,u){if(Kp)return i(l,u);Kp=!0;try{var d=i(l);return d}finally{if(Kp=!1,(As!==null||Os!==null)&&(_f(),As&&(l=As,i=Os,Os=As=null,pw(l),i)))for(l=0;l<i.length;l++)pw(i[l])}}function lu(i,l){var u=i.stateNode;if(u===null)return null;var d=u[gn]||null;if(d===null)return null;u=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=!1;if(Bi)try{var su={};Object.defineProperty(su,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Vp=!1}var Pa=null,Gp=null,Rd=null;function gw(){if(Rd)return Rd;var i,l=Gp,u=l.length,d,g="value"in Pa?Pa.value:Pa.textContent,b=g.length;for(i=0;i<u&&l[i]===g[i];i++);var N=u-i;for(d=1;d<=N&&l[u-d]===g[b-d];d++);return Rd=g.slice(i,1<d?1-d:void 0)}function Id(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function kd(){return!0}function yw(){return!1}function cr(i){function l(u,d,g,b,N){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?kd:yw,this.isPropagationStopped=yw,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),l}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=cr(Al),ou=v({},Al,{view:0,detail:0}),M3=cr(ou),Yp,Wp,uu,zd=v({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==uu&&(uu&&i.type==="mousemove"?(Yp=i.screenX-uu.screenX,Wp=i.screenY-uu.screenY):Wp=Yp=0,uu=i),Yp)},movementY:function(i){return"movementY"in i?i.movementY:Wp}}),bw=cr(zd),R3=v({},zd,{dataTransfer:0}),I3=cr(R3),k3=v({},ou,{relatedTarget:0}),Xp=cr(k3),L3=v({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),z3=cr(L3),B3=v({},Al,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),U3=cr(B3),$3=v({},Al,{data:0}),xw=cr($3),H3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K3(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=F3[i])?!!l[i]:!1}function Qp(){return K3}var V3=v({},ou,{key:function(i){if(i.key){var l=H3[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Id(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?q3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(i){return i.type==="keypress"?Id(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Id(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),G3=cr(V3),Y3=v({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_w=cr(Y3),W3=v({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),X3=cr(W3),Q3=v({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z3=cr(Q3),J3=v({},zd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),e4=cr(J3),t4=v({},Al,{newState:0,oldState:0}),n4=cr(t4),r4=[9,13,27,32],Zp=Bi&&"CompositionEvent"in window,cu=null;Bi&&"documentMode"in document&&(cu=document.documentMode);var i4=Bi&&"TextEvent"in window&&!cu,ww=Bi&&(!Zp||cu&&8<cu&&11>=cu),Sw=" ",Ew=!1;function Nw(i,l){switch(i){case"keyup":return r4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var js=!1;function a4(i,l){switch(i){case"compositionend":return Cw(l);case"keypress":return l.which!==32?null:(Ew=!0,Sw);case"textInput":return i=l.data,i===Sw&&Ew?null:i;default:return null}}function l4(i,l){if(js)return i==="compositionend"||!Zp&&Nw(i,l)?(i=gw(),Rd=Gp=Pa=null,js=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ww&&l.locale!=="ko"?null:l.data;default:return null}}var s4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!s4[i.type]:l==="textarea"}function Ow(i,l,u,d){As?Os?Os.push(d):Os=[d]:As=d,l=Of(l,"onChange"),0<l.length&&(u=new Ld("onChange","change",null,u,d),i.push({event:u,listeners:l}))}var du=null,fu=null;function o4(i){cN(i,0)}function Bd(i){var l=au(i);if(uw(l))return i}function jw(i,l){if(i==="change")return l}var Tw=!1;if(Bi){var Jp;if(Bi){var ev="oninput"in document;if(!ev){var Dw=document.createElement("div");Dw.setAttribute("oninput","return;"),ev=typeof Dw.oninput=="function"}Jp=ev}else Jp=!1;Tw=Jp&&(!document.documentMode||9<document.documentMode)}function Pw(){du&&(du.detachEvent("onpropertychange",Mw),fu=du=null)}function Mw(i){if(i.propertyName==="value"&&Bd(fu)){var l=[];Ow(l,fu,i,Fp(i)),vw(o4,l)}}function u4(i,l,u){i==="focusin"?(Pw(),du=l,fu=u,du.attachEvent("onpropertychange",Mw)):i==="focusout"&&Pw()}function c4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bd(fu)}function d4(i,l){if(i==="click")return Bd(l)}function f4(i,l){if(i==="input"||i==="change")return Bd(l)}function h4(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Cr=typeof Object.is=="function"?Object.is:h4;function hu(i,l){if(Cr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),d=Object.keys(l);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!Lt.call(l,g)||!Cr(i[g],l[g]))return!1}return!0}function Rw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Iw(i,l){var u=Rw(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=l&&d>=l)return{node:u,offset:l-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Rw(u)}}function kw(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?kw(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Lw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Pd(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Pd(i.document)}return l}function tv(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var m4=Bi&&"documentMode"in document&&11>=document.documentMode,Ts=null,nv=null,mu=null,rv=!1;function zw(i,l,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;rv||Ts==null||Ts!==Pd(d)||(d=Ts,"selectionStart"in d&&tv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mu&&hu(mu,d)||(mu=d,d=Of(nv,"onSelect"),0<d.length&&(l=new Ld("onSelect","select",null,l,u),i.push({event:l,listeners:d}),l.target=Ts)))}function Ol(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Ds={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionrun:Ol("Transition","TransitionRun"),transitionstart:Ol("Transition","TransitionStart"),transitioncancel:Ol("Transition","TransitionCancel"),transitionend:Ol("Transition","TransitionEnd")},iv={},Bw={};Bi&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function jl(i){if(iv[i])return iv[i];if(!Ds[i])return i;var l=Ds[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in Bw)return iv[i]=l[u];return i}var Uw=jl("animationend"),$w=jl("animationiteration"),Hw=jl("animationstart"),p4=jl("transitionrun"),v4=jl("transitionstart"),g4=jl("transitioncancel"),qw=jl("transitionend"),Fw=new Map,av="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");av.push("scrollEnd");function oi(i,l){Fw.set(i,l),Cl(l,[i])}var Ud=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Hr=[],Ps=0,lv=0;function $d(){for(var i=Ps,l=lv=Ps=0;l<i;){var u=Hr[l];Hr[l++]=null;var d=Hr[l];Hr[l++]=null;var g=Hr[l];Hr[l++]=null;var b=Hr[l];if(Hr[l++]=null,d!==null&&g!==null){var N=d.pending;N===null?g.next=g:(g.next=N.next,N.next=g),d.pending=g}b!==0&&Kw(u,g,b)}}function Hd(i,l,u,d){Hr[Ps++]=i,Hr[Ps++]=l,Hr[Ps++]=u,Hr[Ps++]=d,lv|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function sv(i,l,u,d){return Hd(i,l,u,d),qd(i)}function Tl(i,l){return Hd(i,null,null,l),qd(i)}function Kw(i,l,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var g=!1,b=i.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&l!==null&&(g=31-Pe(u),i=b.hiddenUpdates,d=i[g],d===null?i[g]=[l]:d.push(l),l.lane=u|536870912),b):null}function qd(i){if(50<ku)throw ku=0,vg=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Ms={};function y4(i,l,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(i,l,u,d){return new y4(i,l,u,d)}function ov(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ui(i,l){var u=i.alternate;return u===null?(u=Ar(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Vw(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Fd(i,l,u,d,g,b){var N=0;if(d=i,typeof i=="function")ov(i)&&(N=1);else if(typeof i=="string")N=SL(i,u,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case te:return i=Ar(31,u,l,g),i.elementType=te,i.lanes=b,i;case S:return Dl(u.children,g,b,l);case E:N=8,g|=24;break;case C:return i=Ar(12,u,l,g|2),i.elementType=C,i.lanes=b,i;case D:return i=Ar(13,u,l,g),i.elementType=D,i.lanes=b,i;case M:return i=Ar(19,u,l,g),i.elementType=M,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:N=10;break e;case j:N=9;break e;case T:N=11;break e;case k:N=14;break e;case K:N=16,d=null;break e}N=29,u=Error(r(130,i===null?"null":typeof i,"")),d=null}return l=Ar(N,u,l,g),l.elementType=i,l.type=d,l.lanes=b,l}function Dl(i,l,u,d){return i=Ar(7,i,d,l),i.lanes=u,i}function uv(i,l,u){return i=Ar(6,i,null,l),i.lanes=u,i}function Gw(i){var l=Ar(18,null,null,0);return l.stateNode=i,l}function cv(i,l,u){return l=Ar(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Yw=new WeakMap;function qr(i,l){if(typeof i=="object"&&i!==null){var u=Yw.get(i);return u!==void 0?u:(l={value:i,source:l,stack:Ie(l)},Yw.set(i,l),l)}return{value:i,source:l,stack:Ie(l)}}var Rs=[],Is=0,Kd=null,pu=0,Fr=[],Kr=0,Ma=null,Si=1,Ei="";function $i(i,l){Rs[Is++]=pu,Rs[Is++]=Kd,Kd=i,pu=l}function Ww(i,l,u){Fr[Kr++]=Si,Fr[Kr++]=Ei,Fr[Kr++]=Ma,Ma=i;var d=Si;i=Ei;var g=32-Pe(d)-1;d&=~(1<<g),u+=1;var b=32-Pe(l)+g;if(30<b){var N=g-g%5;b=(d&(1<<N)-1).toString(32),d>>=N,g-=N,Si=1<<32-Pe(l)+g|u<<g|d,Ei=b+i}else Si=1<<b|u<<g|d,Ei=i}function dv(i){i.return!==null&&($i(i,1),Ww(i,1,0))}function fv(i){for(;i===Kd;)Kd=Rs[--Is],Rs[Is]=null,pu=Rs[--Is],Rs[Is]=null;for(;i===Ma;)Ma=Fr[--Kr],Fr[Kr]=null,Ei=Fr[--Kr],Fr[Kr]=null,Si=Fr[--Kr],Fr[Kr]=null}function Xw(i,l){Fr[Kr++]=Si,Fr[Kr++]=Ei,Fr[Kr++]=Ma,Si=l.id,Ei=l.overflow,Ma=i}var Un=null,Pt=null,We=!1,Ra=null,Vr=!1,hv=Error(r(519));function Ia(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vu(qr(l,i)),hv}function Qw(i){var l=i.stateNode,u=i.type,d=i.memoizedProps;switch(l[Wt]=i,l[gn]=d,u){case"dialog":Fe("cancel",l),Fe("close",l);break;case"iframe":case"object":case"embed":Fe("load",l);break;case"video":case"audio":for(u=0;u<zu.length;u++)Fe(zu[u],l);break;case"source":Fe("error",l);break;case"img":case"image":case"link":Fe("error",l),Fe("load",l);break;case"details":Fe("toggle",l);break;case"input":Fe("invalid",l),cw(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Fe("invalid",l);break;case"textarea":Fe("invalid",l),fw(l,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||d.suppressHydrationWarning===!0||mN(l.textContent,u)?(d.popover!=null&&(Fe("beforetoggle",l),Fe("toggle",l)),d.onScroll!=null&&Fe("scroll",l),d.onScrollEnd!=null&&Fe("scrollend",l),d.onClick!=null&&(l.onclick=zi),l=!0):l=!1,l||Ia(i,!0)}function Zw(i){for(Un=i.return;Un;)switch(Un.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:Un=Un.return}}function ks(i){if(i!==Un)return!1;if(!We)return Zw(i),We=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Dg(i.type,i.memoizedProps)),u=!u),u&&Pt&&Ia(i),Zw(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Pt=SN(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Pt=SN(i)}else l===27?(l=Pt,Wa(i.type)?(i=kg,kg=null,Pt=i):Pt=l):Pt=Un?Yr(i.stateNode.nextSibling):null;return!0}function Pl(){Pt=Un=null,We=!1}function mv(){var i=Ra;return i!==null&&(mr===null?mr=i:mr.push.apply(mr,i),Ra=null),i}function vu(i){Ra===null?Ra=[i]:Ra.push(i)}var pv=R(null),Ml=null,Hi=null;function ka(i,l,u){ue(pv,l._currentValue),l._currentValue=u}function qi(i){i._currentValue=pv.current,Z(pv)}function vv(i,l,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),i===u)break;i=i.return}}function gv(i,l,u,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var N=g.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=g;for(var I=0;I<l.length;I++)if(O.context===l[I]){b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),vv(b.return,u,i),d||(N=null);break e}b=O.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(r(341));N.lanes|=u,b=N.alternate,b!==null&&(b.lanes|=u),vv(N,u,i),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===i){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function Ls(i,l,u,d){i=null;for(var g=l,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=g.type;Cr(g.pendingProps.value,N.value)||(i!==null?i.push(O):i=[O])}}else if(g===je.current){if(N=g.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qu):i=[qu])}g=g.return}i!==null&&gv(l,i,u,d),l.flags|=262144}function Vd(i){for(i=i.firstContext;i!==null;){if(!Cr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Rl(i){Ml=i,Hi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $n(i){return Jw(Ml,i)}function Gd(i,l){return Ml===null&&Rl(i),Jw(i,l)}function Jw(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Hi===null){if(i===null)throw Error(r(308));Hi=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Hi=Hi.next=l;return u}var b4=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},x4=e.unstable_scheduleCallback,_4=e.unstable_NormalPriority,on={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yv(){return{controller:new b4,data:new Map,refCount:0}}function gu(i){i.refCount--,i.refCount===0&&x4(_4,function(){i.controller.abort()})}var yu=null,bv=0,zs=0,Bs=null;function w4(i,l){if(yu===null){var u=yu=[];bv=0,zs=wg(),Bs={status:"pending",value:void 0,then:function(d){u.push(d)}}}return bv++,l.then(eS,eS),l}function eS(){if(--bv===0&&yu!==null){Bs!==null&&(Bs.status="fulfilled");var i=yu;yu=null,zs=0,Bs=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function S4(i,l){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){d.status="fulfilled",d.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}var tS=L.S;L.S=function(i,l){zE=kn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&w4(i,l),tS!==null&&tS(i,l)};var Il=R(null);function xv(){var i=Il.current;return i!==null?i:wt.pooledCache}function Yd(i,l){l===null?ue(Il,Il.current):ue(Il,l.pool)}function nS(){var i=xv();return i===null?null:{parent:on._currentValue,pool:i}}var Us=Error(r(460)),_v=Error(r(474)),Wd=Error(r(542)),Xd={then:function(){}};function rS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function iS(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(zi,zi),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,lS(i),i;default:if(typeof l.status=="string")l.then(zi,zi);else{if(i=wt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(d){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=d}},function(d){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,lS(i),i}throw Ll=l,Us}}function kl(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ll=u,Us):u}}var Ll=null;function aS(){if(Ll===null)throw Error(r(459));var i=Ll;return Ll=null,i}function lS(i){if(i===Us||i===Wd)throw Error(r(483))}var $s=null,bu=0;function Qd(i){var l=bu;return bu+=1,$s===null&&($s=[]),iS($s,i,l)}function xu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Zd(i,l){throw l.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function sS(i){function l(B,z){if(i){var H=B.deletions;H===null?(B.deletions=[z],B.flags|=16):H.push(z)}}function u(B,z){if(!i)return null;for(;z!==null;)l(B,z),z=z.sibling;return null}function d(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function g(B,z){return B=Ui(B,z),B.index=0,B.sibling=null,B}function b(B,z,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<z?(B.flags|=67108866,z):H):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function N(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function O(B,z,H,re){return z===null||z.tag!==6?(z=uv(H,B.mode,re),z.return=B,z):(z=g(z,H),z.return=B,z)}function I(B,z,H,re){var Ne=H.type;return Ne===S?ne(B,z,H.props.children,re,H.key):z!==null&&(z.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===K&&kl(Ne)===z.type)?(z=g(z,H.props),xu(z,H),z.return=B,z):(z=Fd(H.type,H.key,H.props,null,B.mode,re),xu(z,H),z.return=B,z)}function F(B,z,H,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=cv(H,B.mode,re),z.return=B,z):(z=g(z,H.children||[]),z.return=B,z)}function ne(B,z,H,re,Ne){return z===null||z.tag!==7?(z=Dl(H,B.mode,re,Ne),z.return=B,z):(z=g(z,H),z.return=B,z)}function ie(B,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=uv(""+z,B.mode,H),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return H=Fd(z.type,z.key,z.props,null,B.mode,H),xu(H,z),H.return=B,H;case w:return z=cv(z,B.mode,H),z.return=B,z;case K:return z=kl(z),ie(B,z,H)}if(ae(z)||P(z))return z=Dl(z,B.mode,H,null),z.return=B,z;if(typeof z.then=="function")return ie(B,Qd(z),H);if(z.$$typeof===A)return ie(B,Gd(B,z),H);Zd(B,z)}return null}function G(B,z,H,re){var Ne=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ne!==null?null:O(B,z,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===Ne?I(B,z,H,re):null;case w:return H.key===Ne?F(B,z,H,re):null;case K:return H=kl(H),G(B,z,H,re)}if(ae(H)||P(H))return Ne!==null?null:ne(B,z,H,re,null);if(typeof H.then=="function")return G(B,z,Qd(H),re);if(H.$$typeof===A)return G(B,z,Gd(B,H),re);Zd(B,H)}return null}function Q(B,z,H,re,Ne){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(H)||null,O(z,B,""+re,Ne);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return B=B.get(re.key===null?H:re.key)||null,I(z,B,re,Ne);case w:return B=B.get(re.key===null?H:re.key)||null,F(z,B,re,Ne);case K:return re=kl(re),Q(B,z,H,re,Ne)}if(ae(re)||P(re))return B=B.get(H)||null,ne(z,B,re,Ne,null);if(typeof re.then=="function")return Q(B,z,H,Qd(re),Ne);if(re.$$typeof===A)return Q(B,z,H,Gd(z,re),Ne);Zd(z,re)}return null}function xe(B,z,H,re){for(var Ne=null,Ze=null,we=z,Ue=z=0,Ge=null;we!==null&&Ue<H.length;Ue++){we.index>Ue?(Ge=we,we=null):Ge=we.sibling;var Je=G(B,we,H[Ue],re);if(Je===null){we===null&&(we=Ge);break}i&&we&&Je.alternate===null&&l(B,we),z=b(Je,z,Ue),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je,we=Ge}if(Ue===H.length)return u(B,we),We&&$i(B,Ue),Ne;if(we===null){for(;Ue<H.length;Ue++)we=ie(B,H[Ue],re),we!==null&&(z=b(we,z,Ue),Ze===null?Ne=we:Ze.sibling=we,Ze=we);return We&&$i(B,Ue),Ne}for(we=d(we);Ue<H.length;Ue++)Ge=Q(we,B,Ue,H[Ue],re),Ge!==null&&(i&&Ge.alternate!==null&&we.delete(Ge.key===null?Ue:Ge.key),z=b(Ge,z,Ue),Ze===null?Ne=Ge:Ze.sibling=Ge,Ze=Ge);return i&&we.forEach(function(el){return l(B,el)}),We&&$i(B,Ue),Ne}function De(B,z,H,re){if(H==null)throw Error(r(151));for(var Ne=null,Ze=null,we=z,Ue=z=0,Ge=null,Je=H.next();we!==null&&!Je.done;Ue++,Je=H.next()){we.index>Ue?(Ge=we,we=null):Ge=we.sibling;var el=G(B,we,Je.value,re);if(el===null){we===null&&(we=Ge);break}i&&we&&el.alternate===null&&l(B,we),z=b(el,z,Ue),Ze===null?Ne=el:Ze.sibling=el,Ze=el,we=Ge}if(Je.done)return u(B,we),We&&$i(B,Ue),Ne;if(we===null){for(;!Je.done;Ue++,Je=H.next())Je=ie(B,Je.value,re),Je!==null&&(z=b(Je,z,Ue),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je);return We&&$i(B,Ue),Ne}for(we=d(we);!Je.done;Ue++,Je=H.next())Je=Q(we,B,Ue,Je.value,re),Je!==null&&(i&&Je.alternate!==null&&we.delete(Je.key===null?Ue:Je.key),z=b(Je,z,Ue),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je);return i&&we.forEach(function(RL){return l(B,RL)}),We&&$i(B,Ue),Ne}function vt(B,z,H,re){if(typeof H=="object"&&H!==null&&H.type===S&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var Ne=H.key;z!==null;){if(z.key===Ne){if(Ne=H.type,Ne===S){if(z.tag===7){u(B,z.sibling),re=g(z,H.props.children),re.return=B,B=re;break e}}else if(z.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===K&&kl(Ne)===z.type){u(B,z.sibling),re=g(z,H.props),xu(re,H),re.return=B,B=re;break e}u(B,z);break}else l(B,z);z=z.sibling}H.type===S?(re=Dl(H.props.children,B.mode,re,H.key),re.return=B,B=re):(re=Fd(H.type,H.key,H.props,null,B.mode,re),xu(re,H),re.return=B,B=re)}return N(B);case w:e:{for(Ne=H.key;z!==null;){if(z.key===Ne)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){u(B,z.sibling),re=g(z,H.children||[]),re.return=B,B=re;break e}else{u(B,z);break}else l(B,z);z=z.sibling}re=cv(H,B.mode,re),re.return=B,B=re}return N(B);case K:return H=kl(H),vt(B,z,H,re)}if(ae(H))return xe(B,z,H,re);if(P(H)){if(Ne=P(H),typeof Ne!="function")throw Error(r(150));return H=Ne.call(H),De(B,z,H,re)}if(typeof H.then=="function")return vt(B,z,Qd(H),re);if(H.$$typeof===A)return vt(B,z,Gd(B,H),re);Zd(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(u(B,z.sibling),re=g(z,H),re.return=B,B=re):(u(B,z),re=uv(H,B.mode,re),re.return=B,B=re),N(B)):u(B,z)}return function(B,z,H,re){try{bu=0;var Ne=vt(B,z,H,re);return $s=null,Ne}catch(we){if(we===Us||we===Wd)throw we;var Ze=Ar(29,we,null,B.mode);return Ze.lanes=re,Ze.return=B,Ze}finally{}}}var zl=sS(!0),oS=sS(!1),La=!1;function wv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sv(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function za(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ba(i,l,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(rt&2)!==0){var g=d.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),d.pending=l,l=qd(i),Kw(i,null,u),l}return Hd(i,d,l,u),qd(i)}function _u(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var d=l.lanes;d&=i.pendingLanes,u|=d,l.lanes=u,_t(i,u)}}function Ev(i,l){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=N:b=b.next=N,u=u.next}while(u!==null);b===null?g=b=l:b=b.next=l}else g=b=l;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Nv=!1;function wu(){if(Nv){var i=Bs;if(i!==null)throw i}}function Su(i,l,u,d){Nv=!1;var g=i.updateQueue;La=!1;var b=g.firstBaseUpdate,N=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var I=O,F=I.next;I.next=null,N===null?b=F:N.next=F,N=I;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==N&&(O===null?ne.firstBaseUpdate=F:O.next=F,ne.lastBaseUpdate=I))}if(b!==null){var ie=g.baseState;N=0,ne=F=I=null,O=b;do{var G=O.lane&-536870913,Q=G!==O.lane;if(Q?(Ve&G)===G:(d&G)===G){G!==0&&G===zs&&(Nv=!0),ne!==null&&(ne=ne.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var xe=i,De=O;G=l;var vt=u;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){ie=xe.call(vt,ie,G);break e}ie=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,G=typeof xe=="function"?xe.call(vt,ie,G):xe,G==null)break e;ie=v({},ie,G);break e;case 2:La=!0}}G=O.callback,G!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(F=ne=Q,I=ie):ne=ne.next=Q,N|=G;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;Q=O,O=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);ne===null&&(I=ie),g.baseState=I,g.firstBaseUpdate=F,g.lastBaseUpdate=ne,b===null&&(g.shared.lanes=0),Fa|=N,i.lanes=N,i.memoizedState=ie}}function uS(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function cS(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)uS(u[i],l)}var Hs=R(null),Jd=R(0);function dS(i,l){i=Zi,ue(Jd,i),ue(Hs,l),Zi=i|l.baseLanes}function Cv(){ue(Jd,Zi),ue(Hs,Hs.current)}function Av(){Zi=Jd.current,Z(Hs),Z(Jd)}var Or=R(null),Gr=null;function Ua(i){var l=i.alternate;ue(tn,tn.current&1),ue(Or,i),Gr===null&&(l===null||Hs.current!==null||l.memoizedState!==null)&&(Gr=i)}function Ov(i){ue(tn,tn.current),ue(Or,i),Gr===null&&(Gr=i)}function fS(i){i.tag===22?(ue(tn,tn.current),ue(Or,i),Gr===null&&(Gr=i)):$a()}function $a(){ue(tn,tn.current),ue(Or,Or.current)}function jr(i){Z(Or),Gr===i&&(Gr=null),Z(tn)}var tn=R(0);function ef(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Rg(u)||Ig(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fi=0,ze=null,mt=null,un=null,tf=!1,qs=!1,Bl=!1,nf=0,Eu=0,Fs=null,E4=0;function Xt(){throw Error(r(321))}function jv(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Cr(i[u],l[u]))return!1;return!0}function Tv(i,l,u,d,g,b){return Fi=b,ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=i===null||i.memoizedState===null?WS:Kv,Bl=!1,b=u(d,g),Bl=!1,qs&&(b=mS(l,u,d,g)),hS(i),b}function hS(i){L.H=Au;var l=mt!==null&&mt.next!==null;if(Fi=0,un=mt=ze=null,tf=!1,Eu=0,Fs=null,l)throw Error(r(300));i===null||cn||(i=i.dependencies,i!==null&&Vd(i)&&(cn=!0))}function mS(i,l,u,d){ze=i;var g=0;do{if(qs&&(Fs=null),Eu=0,qs=!1,25<=g)throw Error(r(301));if(g+=1,un=mt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=XS,b=l(u,d)}while(qs);return b}function N4(){var i=L.H,l=i.useState()[0];return l=typeof l.then=="function"?Nu(l):l,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(ze.flags|=1024),l}function Dv(){var i=nf!==0;return nf=0,i}function Pv(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Mv(i){if(tf){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}tf=!1}Fi=0,un=mt=ze=null,qs=!1,Eu=nf=0,Fs=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?ze.memoizedState=un=i:un=un.next=i,un}function nn(){if(mt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var l=un===null?ze.memoizedState:un.next;if(l!==null)un=l,mt=i;else{if(i===null)throw ze.alternate===null?Error(r(467)):Error(r(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},un===null?ze.memoizedState=un=i:un=un.next=i}return un}function rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(i){var l=Eu;return Eu+=1,Fs===null&&(Fs=[]),i=iS(Fs,i,l),l=ze,(un===null?l.memoizedState:un.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?WS:Kv),i}function af(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===A)return $n(i)}throw Error(r(438,String(i)))}function Rv(i){var l=null,u=ze.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var d=ze.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=rf(),ze.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),d=0;d<i;d++)u[d]=U;return l.index++,u}function Ki(i,l){return typeof l=="function"?l(i):l}function lf(i){var l=nn();return Iv(l,mt,i)}function Iv(i,l,u){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var g=i.baseQueue,b=d.pending;if(b!==null){if(g!==null){var N=g.next;g.next=b.next,b.next=N}l.baseQueue=g=b,d.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{l=g.next;var O=N=null,I=null,F=l,ne=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Ve&ie)===ie:(Fi&ie)===ie){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===zs&&(ne=!0);else if((Fi&G)===G){F=F.next,G===zs&&(ne=!0);continue}else ie={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(O=I=ie,N=b):I=I.next=ie,ze.lanes|=G,Fa|=G;ie=F.action,Bl&&u(b,ie),b=F.hasEagerState?F.eagerState:u(b,ie)}else G={lane:ie,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(O=I=G,N=b):I=I.next=G,ze.lanes|=ie,Fa|=ie;F=F.next}while(F!==null&&F!==l);if(I===null?N=b:I.next=O,!Cr(b,i.memoizedState)&&(cn=!0,ne&&(u=Bs,u!==null)))throw u;i.memoizedState=b,i.baseState=N,i.baseQueue=I,d.lastRenderedState=b}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function kv(i){var l=nn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var d=u.dispatch,g=u.pending,b=l.memoizedState;if(g!==null){u.pending=null;var N=g=g.next;do b=i(b,N.action),N=N.next;while(N!==g);Cr(b,l.memoizedState)||(cn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,d]}function pS(i,l,u){var d=ze,g=nn(),b=We;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=l();var N=!Cr((mt||g).memoizedState,u);if(N&&(g.memoizedState=u,cn=!0),g=g.queue,Bv(yS.bind(null,d,g,i),[i]),g.getSnapshot!==l||N||un!==null&&un.memoizedState.tag&1){if(d.flags|=2048,Ks(9,{destroy:void 0},gS.bind(null,d,g,u,l),null),wt===null)throw Error(r(349));b||(Fi&127)!==0||vS(d,l,u)}return u}function vS(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=ze.updateQueue,l===null?(l=rf(),ze.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function gS(i,l,u,d){l.value=u,l.getSnapshot=d,bS(l)&&xS(i)}function yS(i,l,u){return u(function(){bS(l)&&xS(i)})}function bS(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Cr(i,u)}catch{return!0}}function xS(i){var l=Tl(i,2);l!==null&&pr(l,i,2)}function Lv(i){var l=tr();if(typeof i=="function"){var u=i;if(i=u(),Bl){Dt(!0);try{u()}finally{Dt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},l}function _S(i,l,u,d){return i.baseState=u,Iv(i,mt,typeof d=="function"?d:Ki)}function C4(i,l,u,d,g){if(uf(i))throw Error(r(485));if(i=l.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};L.T!==null?u(!0):b.isTransition=!1,d(b),u=l.pending,u===null?(b.next=l.pending=b,wS(l,b)):(b.next=u.next,l.pending=u.next=b)}}function wS(i,l){var u=l.action,d=l.payload,g=i.state;if(l.isTransition){var b=L.T,N={};L.T=N;try{var O=u(g,d),I=L.S;I!==null&&I(N,O),SS(i,l,O)}catch(F){zv(i,l,F)}finally{b!==null&&N.types!==null&&(b.types=N.types),L.T=b}}else try{b=u(g,d),SS(i,l,b)}catch(F){zv(i,l,F)}}function SS(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){ES(i,l,d)},function(d){return zv(i,l,d)}):ES(i,l,u)}function ES(i,l,u){l.status="fulfilled",l.value=u,NS(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,wS(i,u)))}function zv(i,l,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=u,NS(l),l=l.next;while(l!==d)}i.action=null}function NS(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function CS(i,l){return l}function AS(i,l){if(We){var u=wt.formState;if(u!==null){e:{var d=ze;if(We){if(Pt){t:{for(var g=Pt,b=Vr;g.nodeType!==8;){if(!b){g=null;break t}if(g=Yr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Pt=Yr(g.nextSibling),d=g.data==="F!";break e}}Ia(d)}d=!1}d&&(l=u[0])}}return u=tr(),u.memoizedState=u.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CS,lastRenderedState:l},u.queue=d,u=VS.bind(null,ze,d),d.dispatch=u,d=Lv(!1),b=Fv.bind(null,ze,!1,d.queue),d=tr(),g={state:l,dispatch:null,action:i,pending:null},d.queue=g,u=C4.bind(null,ze,g,b,u),g.dispatch=u,d.memoizedState=i,[l,u,!1]}function OS(i){var l=nn();return jS(l,mt,i)}function jS(i,l,u){if(l=Iv(i,l,CS)[0],i=lf(Ki)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Nu(l)}catch(N){throw N===Us?Wd:N}else d=l;l=nn();var g=l.queue,b=g.dispatch;return u!==l.memoizedState&&(ze.flags|=2048,Ks(9,{destroy:void 0},A4.bind(null,g,u),null)),[d,b,i]}function A4(i,l){i.action=l}function TS(i){var l=nn(),u=mt;if(u!==null)return jS(l,u,i);nn(),l=l.memoizedState,u=nn();var d=u.queue.dispatch;return u.memoizedState=i,[l,d,!1]}function Ks(i,l,u,d){return i={tag:i,create:u,deps:d,inst:l,next:null},l=ze.updateQueue,l===null&&(l=rf(),ze.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,l.lastEffect=i),i}function DS(){return nn().memoizedState}function sf(i,l,u,d){var g=tr();ze.flags|=i,g.memoizedState=Ks(1|l,{destroy:void 0},u,d===void 0?null:d)}function of(i,l,u,d){var g=nn();d=d===void 0?null:d;var b=g.memoizedState.inst;mt!==null&&d!==null&&jv(d,mt.memoizedState.deps)?g.memoizedState=Ks(l,b,u,d):(ze.flags|=i,g.memoizedState=Ks(1|l,b,u,d))}function PS(i,l){sf(8390656,8,i,l)}function Bv(i,l){of(2048,8,i,l)}function O4(i){ze.flags|=4;var l=ze.updateQueue;if(l===null)l=rf(),ze.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function MS(i){var l=nn().memoizedState;return O4({ref:l,nextImpl:i}),function(){if((rt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function RS(i,l){return of(4,2,i,l)}function IS(i,l){return of(4,4,i,l)}function kS(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function LS(i,l,u){u=u!=null?u.concat([i]):null,of(4,4,kS.bind(null,l,i),u)}function Uv(){}function zS(i,l){var u=nn();l=l===void 0?null:l;var d=u.memoizedState;return l!==null&&jv(l,d[1])?d[0]:(u.memoizedState=[i,l],i)}function BS(i,l){var u=nn();l=l===void 0?null:l;var d=u.memoizedState;if(l!==null&&jv(l,d[1]))return d[0];if(d=i(),Bl){Dt(!0);try{i()}finally{Dt(!1)}}return u.memoizedState=[d,l],d}function $v(i,l,u){return u===void 0||(Fi&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=UE(),ze.lanes|=i,Fa|=i,u)}function US(i,l,u,d){return Cr(u,l)?u:Hs.current!==null?(i=$v(i,u,d),Cr(i,l)||(cn=!0),i):(Fi&42)===0||(Fi&1073741824)!==0&&(Ve&261930)===0?(cn=!0,i.memoizedState=u):(i=UE(),ze.lanes|=i,Fa|=i,l)}function $S(i,l,u,d,g){var b=X.p;X.p=b!==0&&8>b?b:8;var N=L.T,O={};L.T=O,Fv(i,!1,l,u);try{var I=g(),F=L.S;if(F!==null&&F(O,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ne=S4(I,d);Cu(i,l,ne,Pr(i))}else Cu(i,l,d,Pr(i))}catch(ie){Cu(i,l,{then:function(){},status:"rejected",reason:ie},Pr())}finally{X.p=b,N!==null&&O.types!==null&&(N.types=O.types),L.T=N}}function j4(){}function Hv(i,l,u,d){if(i.tag!==5)throw Error(r(476));var g=HS(i).queue;$S(i,g,l,se,u===null?j4:function(){return qS(i),u(d)})}function HS(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:se},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function qS(i){var l=HS(i);l.next===null&&(l=i.alternate.memoizedState),Cu(i,l.next.queue,{},Pr())}function qv(){return $n(qu)}function FS(){return nn().memoizedState}function KS(){return nn().memoizedState}function T4(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=Pr();i=za(u);var d=Ba(l,i,u);d!==null&&(pr(d,l,u),_u(d,l,u)),l={cache:yv()},i.payload=l;return}l=l.return}}function D4(i,l,u){var d=Pr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uf(i)?GS(l,u):(u=sv(i,l,u,d),u!==null&&(pr(u,i,d),YS(u,l,d)))}function VS(i,l,u){var d=Pr();Cu(i,l,u,d)}function Cu(i,l,u,d){var g={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(uf(i))GS(l,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var N=l.lastRenderedState,O=b(N,u);if(g.hasEagerState=!0,g.eagerState=O,Cr(O,N))return Hd(i,l,g,0),wt===null&&$d(),!1}catch{}finally{}if(u=sv(i,l,g,d),u!==null)return pr(u,i,d),YS(u,l,d),!0}return!1}function Fv(i,l,u,d){if(d={lane:2,revertLane:wg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},uf(i)){if(l)throw Error(r(479))}else l=sv(i,u,d,2),l!==null&&pr(l,i,2)}function uf(i){var l=i.alternate;return i===ze||l!==null&&l===ze}function GS(i,l){qs=tf=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function YS(i,l,u){if((u&4194048)!==0){var d=l.lanes;d&=i.pendingLanes,u|=d,l.lanes=u,_t(i,u)}}var Au={readContext:$n,use:af,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};Au.useEffectEvent=Xt;var WS={readContext:$n,use:af,useCallback:function(i,l){return tr().memoizedState=[i,l===void 0?null:l],i},useContext:$n,useEffect:PS,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,sf(4194308,4,kS.bind(null,l,i),u)},useLayoutEffect:function(i,l){return sf(4194308,4,i,l)},useInsertionEffect:function(i,l){sf(4,2,i,l)},useMemo:function(i,l){var u=tr();l=l===void 0?null:l;var d=i();if(Bl){Dt(!0);try{i()}finally{Dt(!1)}}return u.memoizedState=[d,l],d},useReducer:function(i,l,u){var d=tr();if(u!==void 0){var g=u(l);if(Bl){Dt(!0);try{u(l)}finally{Dt(!1)}}}else g=l;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=D4.bind(null,ze,i),[d.memoizedState,i]},useRef:function(i){var l=tr();return i={current:i},l.memoizedState=i},useState:function(i){i=Lv(i);var l=i.queue,u=VS.bind(null,ze,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Uv,useDeferredValue:function(i,l){var u=tr();return $v(u,i,l)},useTransition:function(){var i=Lv(!1);return i=$S.bind(null,ze,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var d=ze,g=tr();if(We){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),wt===null)throw Error(r(349));(Ve&127)!==0||vS(d,l,u)}g.memoizedState=u;var b={value:u,getSnapshot:l};return g.queue=b,PS(yS.bind(null,d,b,i),[i]),d.flags|=2048,Ks(9,{destroy:void 0},gS.bind(null,d,b,u,l),null),u},useId:function(){var i=tr(),l=wt.identifierPrefix;if(We){var u=Ei,d=Si;u=(d&~(1<<32-Pe(d)-1)).toString(32)+u,l="_"+l+"R_"+u,u=nf++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=E4++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:qv,useFormState:AS,useActionState:AS,useOptimistic:function(i){var l=tr();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Fv.bind(null,ze,!0,u),u.dispatch=l,[i,l]},useMemoCache:Rv,useCacheRefresh:function(){return tr().memoizedState=T4.bind(null,ze)},useEffectEvent:function(i){var l=tr(),u={impl:i};return l.memoizedState=u,function(){if((rt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Kv={readContext:$n,use:af,useCallback:zS,useContext:$n,useEffect:Bv,useImperativeHandle:LS,useInsertionEffect:RS,useLayoutEffect:IS,useMemo:BS,useReducer:lf,useRef:DS,useState:function(){return lf(Ki)},useDebugValue:Uv,useDeferredValue:function(i,l){var u=nn();return US(u,mt.memoizedState,i,l)},useTransition:function(){var i=lf(Ki)[0],l=nn().memoizedState;return[typeof i=="boolean"?i:Nu(i),l]},useSyncExternalStore:pS,useId:FS,useHostTransitionStatus:qv,useFormState:OS,useActionState:OS,useOptimistic:function(i,l){var u=nn();return _S(u,mt,i,l)},useMemoCache:Rv,useCacheRefresh:KS};Kv.useEffectEvent=MS;var XS={readContext:$n,use:af,useCallback:zS,useContext:$n,useEffect:Bv,useImperativeHandle:LS,useInsertionEffect:RS,useLayoutEffect:IS,useMemo:BS,useReducer:kv,useRef:DS,useState:function(){return kv(Ki)},useDebugValue:Uv,useDeferredValue:function(i,l){var u=nn();return mt===null?$v(u,i,l):US(u,mt.memoizedState,i,l)},useTransition:function(){var i=kv(Ki)[0],l=nn().memoizedState;return[typeof i=="boolean"?i:Nu(i),l]},useSyncExternalStore:pS,useId:FS,useHostTransitionStatus:qv,useFormState:TS,useActionState:TS,useOptimistic:function(i,l){var u=nn();return mt!==null?_S(u,mt,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Rv,useCacheRefresh:KS};XS.useEffectEvent=MS;function Vv(i,l,u,d){l=i.memoizedState,u=u(d,l),u=u==null?l:v({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Gv={enqueueSetState:function(i,l,u){i=i._reactInternals;var d=Pr(),g=za(d);g.payload=l,u!=null&&(g.callback=u),l=Ba(i,g,d),l!==null&&(pr(l,i,d),_u(l,i,d))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var d=Pr(),g=za(d);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=Ba(i,g,d),l!==null&&(pr(l,i,d),_u(l,i,d))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Pr(),d=za(u);d.tag=2,l!=null&&(d.callback=l),l=Ba(i,d,u),l!==null&&(pr(l,i,u),_u(l,i,u))}};function QS(i,l,u,d,g,b,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,N):l.prototype&&l.prototype.isPureReactComponent?!hu(u,d)||!hu(g,b):!0}function ZS(i,l,u,d){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,d),l.state!==i&&Gv.enqueueReplaceState(l,l.state,null)}function Ul(i,l){var u=l;if("ref"in l){u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}if(i=i.defaultProps){u===l&&(u=v({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}function JS(i){Ud(i)}function eE(i){console.error(i)}function tE(i){Ud(i)}function cf(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function nE(i,l,u){try{var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Yv(i,l,u){return u=za(u),u.tag=3,u.payload={element:null},u.callback=function(){cf(i,l)},u}function rE(i){return i=za(i),i.tag=3,i}function iE(i,l,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=d.value;i.payload=function(){return g(b)},i.callback=function(){nE(l,u,d)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){nE(l,u,d),typeof g!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function P4(i,l,u,d,g){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=u.alternate,l!==null&&Ls(l,u,g,!0),u=Or.current,u!==null){switch(u.tag){case 31:case 13:return Gr===null?wf():u.alternate===null&&Qt===0&&(Qt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,d===Xd?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([d]):l.add(d),bg(i,d,g)),!1;case 22:return u.flags|=65536,d===Xd?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([d]):u.add(d)),bg(i,d,g)),!1}throw Error(r(435,u.tag))}return bg(i,d,g),wf(),!1}if(We)return l=Or.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,d!==hv&&(i=Error(r(422),{cause:d}),vu(qr(i,u)))):(d!==hv&&(l=Error(r(423),{cause:d}),vu(qr(l,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=qr(d,u),g=Yv(i.stateNode,d,g),Ev(i,g),Qt!==4&&(Qt=2)),!1;var b=Error(r(520),{cause:d});if(b=qr(b,u),Iu===null?Iu=[b]:Iu.push(b),Qt!==4&&(Qt=2),l===null)return!0;d=qr(d,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=Yv(u.stateNode,d,i),Ev(u,i),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ka===null||!Ka.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=rE(g),iE(g,i,u,d),Ev(u,g),!1}u=u.return}while(u!==null);return!1}var Wv=Error(r(461)),cn=!1;function Hn(i,l,u,d){l.child=i===null?oS(l,null,u,d):zl(l,i.child,u,d)}function aE(i,l,u,d,g){u=u.render;var b=l.ref;if("ref"in d){var N={};for(var O in d)O!=="ref"&&(N[O]=d[O])}else N=d;return Rl(l),d=Tv(i,l,u,N,b,g),O=Dv(),i!==null&&!cn?(Pv(i,l,g),Vi(i,l,g)):(We&&O&&dv(l),l.flags|=1,Hn(i,l,d,g),l.child)}function lE(i,l,u,d,g){if(i===null){var b=u.type;return typeof b=="function"&&!ov(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,sE(i,l,b,d,g)):(i=Fd(u.type,null,d,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!rg(i,g)){var N=b.memoizedProps;if(u=u.compare,u=u!==null?u:hu,u(N,d)&&i.ref===l.ref)return Vi(i,l,g)}return l.flags|=1,i=Ui(b,d),i.ref=l.ref,i.return=l,l.child=i}function sE(i,l,u,d,g){if(i!==null){var b=i.memoizedProps;if(hu(b,d)&&i.ref===l.ref)if(cn=!1,l.pendingProps=d=b,rg(i,g))(i.flags&131072)!==0&&(cn=!0);else return l.lanes=i.lanes,Vi(i,l,g)}return Xv(i,l,u,d,g)}function oE(i,l,u,d){var g=d.children,b=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(d=l.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~b}else d=0,l.child=null;return uE(i,l,b,u,d)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yd(l,b!==null?b.cachePool:null),b!==null?dS(l,b):Cv(),fS(l);else return d=l.lanes=536870912,uE(i,l,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(Yd(l,b.cachePool),dS(l,b),$a(),l.memoizedState=null):(i!==null&&Yd(l,null),Cv(),$a());return Hn(i,l,g,u),l.child}function Ou(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function uE(i,l,u,d,g){var b=xv();return b=b===null?null:{parent:on._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&Yd(l,null),Cv(),fS(l),i!==null&&Ls(i,l,d,!0),l.childLanes=g,null}function df(i,l){return l=hf({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function cE(i,l,u){return zl(l,i.child,null,u),i=df(l,l.pendingProps),i.flags|=2,jr(l),l.memoizedState=null,i}function M4(i,l,u){var d=l.pendingProps,g=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(We){if(d.mode==="hidden")return i=df(l,d),l.lanes=536870912,Ou(null,i);if(Ov(l),(i=Pt)?(i=wN(i,Vr),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Ma!==null?{id:Si,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},u=Gw(i),u.return=l,l.child=u,Un=l,Pt=null)):i=null,i===null)throw Ia(l);return l.lanes=536870912,null}return df(l,d)}var b=i.memoizedState;if(b!==null){var N=b.dehydrated;if(Ov(l),g)if(l.flags&256)l.flags&=-257,l=cE(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(cn||Ls(i,l,u,!1),g=(u&i.childLanes)!==0,cn||g){if(d=wt,d!==null&&(N=er(d,u),N!==0&&N!==b.retryLane))throw b.retryLane=N,Tl(i,N),pr(d,i,N),Wv;wf(),l=cE(i,l,u)}else i=b.treeContext,Pt=Yr(N.nextSibling),Un=l,We=!0,Ra=null,Vr=!1,i!==null&&Xw(l,i),l=df(l,d),l.flags|=4096;return l}return i=Ui(i.child,{mode:d.mode,children:d.children}),i.ref=l.ref,l.child=i,i.return=l,i}function ff(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function Xv(i,l,u,d,g){return Rl(l),u=Tv(i,l,u,d,void 0,g),d=Dv(),i!==null&&!cn?(Pv(i,l,g),Vi(i,l,g)):(We&&d&&dv(l),l.flags|=1,Hn(i,l,u,g),l.child)}function dE(i,l,u,d,g,b){return Rl(l),l.updateQueue=null,u=mS(l,d,u,g),hS(i),d=Dv(),i!==null&&!cn?(Pv(i,l,b),Vi(i,l,b)):(We&&d&&dv(l),l.flags|=1,Hn(i,l,u,b),l.child)}function fE(i,l,u,d,g){if(Rl(l),l.stateNode===null){var b=Ms,N=u.contextType;typeof N=="object"&&N!==null&&(b=$n(N)),b=new u(d,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Gv,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=d,b.state=l.memoizedState,b.refs={},wv(l),N=u.contextType,b.context=typeof N=="object"&&N!==null?$n(N):Ms,b.state=l.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Vv(l,u,N,d),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Gv.enqueueReplaceState(b,b.state,null),Su(l,d,b,g),wu(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(i===null){b=l.stateNode;var O=l.memoizedProps,I=Ul(u,O);b.props=I;var F=b.context,ne=u.contextType;N=Ms,typeof ne=="object"&&ne!==null&&(N=$n(ne));var ie=u.getDerivedStateFromProps;ne=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||F!==N)&&ZS(l,b,d,N),La=!1;var G=l.memoizedState;b.state=G,Su(l,d,b,g),wu(),F=l.memoizedState,O||G!==F||La?(typeof ie=="function"&&(Vv(l,u,ie,d),F=l.memoizedState),(I=La||QS(l,u,I,d,G,F,N))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=F),b.props=d,b.state=F,b.context=N,d=I):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{b=l.stateNode,Sv(i,l),N=l.memoizedProps,ne=Ul(u,N),b.props=ne,ie=l.pendingProps,G=b.context,F=u.contextType,I=Ms,typeof F=="object"&&F!==null&&(I=$n(F)),O=u.getDerivedStateFromProps,(F=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==ie||G!==I)&&ZS(l,b,d,I),La=!1,G=l.memoizedState,b.state=G,Su(l,d,b,g),wu();var Q=l.memoizedState;N!==ie||G!==Q||La||i!==null&&i.dependencies!==null&&Vd(i.dependencies)?(typeof O=="function"&&(Vv(l,u,O,d),Q=l.memoizedState),(ne=La||QS(l,u,ne,d,G,Q,I)||i!==null&&i.dependencies!==null&&Vd(i.dependencies))?(F||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Q,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Q,I)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===i.memoizedProps&&G===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&G===i.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=Q),b.props=d,b.state=Q,b.context=I,d=ne):(typeof b.componentDidUpdate!="function"||N===i.memoizedProps&&G===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&G===i.memoizedState||(l.flags|=1024),d=!1)}return b=d,ff(i,l),d=(l.flags&128)!==0,b||d?(b=l.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&d?(l.child=zl(l,i.child,null,g),l.child=zl(l,null,u,g)):Hn(i,l,u,g),l.memoizedState=b.state,i=l.child):i=Vi(i,l,g),i}function hE(i,l,u,d){return Pl(),l.flags|=256,Hn(i,l,u,d),l.child}var Qv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zv(i){return{baseLanes:i,cachePool:nS()}}function Jv(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=Dr),i}function mE(i,l,u){var d=l.pendingProps,g=!1,b=(l.flags&128)!==0,N;if((N=b)||(N=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),N&&(g=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,i===null){if(We){if(g?Ua(l):$a(),(i=Pt)?(i=wN(i,Vr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Ma!==null?{id:Si,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},u=Gw(i),u.return=l,l.child=u,Un=l,Pt=null)):i=null,i===null)throw Ia(l);return Ig(i)?l.lanes=32:l.lanes=536870912,null}var O=d.children;return d=d.fallback,g?($a(),g=l.mode,O=hf({mode:"hidden",children:O},g),d=Dl(d,g,u,null),O.return=l,d.return=l,O.sibling=d,l.child=O,d=l.child,d.memoizedState=Zv(u),d.childLanes=Jv(i,N,u),l.memoizedState=Qv,Ou(null,d)):(Ua(l),eg(l,O))}var I=i.memoizedState;if(I!==null&&(O=I.dehydrated,O!==null)){if(b)l.flags&256?(Ua(l),l.flags&=-257,l=tg(i,l,u)):l.memoizedState!==null?($a(),l.child=i.child,l.flags|=128,l=null):($a(),O=d.fallback,g=l.mode,d=hf({mode:"visible",children:d.children},g),O=Dl(O,g,u,null),O.flags|=2,d.return=l,O.return=l,d.sibling=O,l.child=d,zl(l,i.child,null,u),d=l.child,d.memoizedState=Zv(u),d.childLanes=Jv(i,N,u),l.memoizedState=Qv,l=Ou(null,d));else if(Ua(l),Ig(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var F=N.dgst;N=F,d=Error(r(419)),d.stack="",d.digest=N,vu({value:d,source:null,stack:null}),l=tg(i,l,u)}else if(cn||Ls(i,l,u,!1),N=(u&i.childLanes)!==0,cn||N){if(N=wt,N!==null&&(d=er(N,u),d!==0&&d!==I.retryLane))throw I.retryLane=d,Tl(i,d),pr(N,i,d),Wv;Rg(O)||wf(),l=tg(i,l,u)}else Rg(O)?(l.flags|=192,l.child=i.child,l=null):(i=I.treeContext,Pt=Yr(O.nextSibling),Un=l,We=!0,Ra=null,Vr=!1,i!==null&&Xw(l,i),l=eg(l,d.children),l.flags|=4096);return l}return g?($a(),O=d.fallback,g=l.mode,I=i.child,F=I.sibling,d=Ui(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,F!==null?O=Ui(F,O):(O=Dl(O,g,u,null),O.flags|=2),O.return=l,d.return=l,d.sibling=O,l.child=d,Ou(null,d),d=l.child,O=i.child.memoizedState,O===null?O=Zv(u):(g=O.cachePool,g!==null?(I=on._currentValue,g=g.parent!==I?{parent:I,pool:I}:g):g=nS(),O={baseLanes:O.baseLanes|u,cachePool:g}),d.memoizedState=O,d.childLanes=Jv(i,N,u),l.memoizedState=Qv,Ou(i.child,d)):(Ua(l),u=i.child,i=u.sibling,u=Ui(u,{mode:"visible",children:d.children}),u.return=l,u.sibling=null,i!==null&&(N=l.deletions,N===null?(l.deletions=[i],l.flags|=16):N.push(i)),l.child=u,l.memoizedState=null,u)}function eg(i,l){return l=hf({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function hf(i,l){return i=Ar(22,i,null,l),i.lanes=0,i}function tg(i,l,u){return zl(l,i.child,null,u),i=eg(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function pE(i,l,u){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l),vv(i.return,l,u)}function ng(i,l,u,d,g,b){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g,treeForkCount:b}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=u,N.tailMode=g,N.treeForkCount=b)}function vE(i,l,u){var d=l.pendingProps,g=d.revealOrder,b=d.tail;d=d.children;var N=tn.current,O=(N&2)!==0;if(O?(N=N&1|2,l.flags|=128):N&=1,ue(tn,N),Hn(i,l,d,u),d=We?pu:0,!O&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pE(i,u,l);else if(i.tag===19)pE(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(u=l.child,g=null;u!==null;)i=u.alternate,i!==null&&ef(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),ng(l,!1,g,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&ef(i)===null){l.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}ng(l,!0,u,null,b,d);break;case"together":ng(l,!1,null,null,void 0,d);break;default:l.memoizedState=null}return l.child}function Vi(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Fa|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Ls(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=Ui(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ui(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function rg(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Vd(i)))}function R4(i,l,u){switch(l.tag){case 3:nt(l,l.stateNode.containerInfo),ka(l,on,i.memoizedState.cache),Pl();break;case 27:case 5:Ce(l);break;case 4:nt(l,l.stateNode.containerInfo);break;case 10:ka(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Ov(l),null;break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Ua(l),l.flags|=128,null):(u&l.child.childLanes)!==0?mE(i,l,u):(Ua(l),i=Vi(i,l,u),i!==null?i.sibling:null);Ua(l);break;case 19:var g=(i.flags&128)!==0;if(d=(u&l.childLanes)!==0,d||(Ls(i,l,u,!1),d=(u&l.childLanes)!==0),g){if(d)return vE(i,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(tn,tn.current),d)break;return null;case 22:return l.lanes=0,oE(i,l,u,l.pendingProps);case 24:ka(l,on,i.memoizedState.cache)}return Vi(i,l,u)}function gE(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)cn=!0;else{if(!rg(i,u)&&(l.flags&128)===0)return cn=!1,R4(i,l,u);cn=(i.flags&131072)!==0}else cn=!1,We&&(l.flags&1048576)!==0&&Ww(l,pu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var d=l.pendingProps;if(i=kl(l.elementType),l.type=i,typeof i=="function")ov(i)?(d=Ul(i,d),l.tag=1,l=fE(null,l,i,d,u)):(l.tag=0,l=Xv(null,l,i,d,u));else{if(i!=null){var g=i.$$typeof;if(g===T){l.tag=11,l=aE(null,l,i,d,u);break e}else if(g===k){l.tag=14,l=lE(null,l,i,d,u);break e}}throw l=ee(i)||i,Error(r(306,l,""))}}return l;case 0:return Xv(i,l,l.type,l.pendingProps,u);case 1:return d=l.type,g=Ul(d,l.pendingProps),fE(i,l,d,g,u);case 3:e:{if(nt(l,l.stateNode.containerInfo),i===null)throw Error(r(387));d=l.pendingProps;var b=l.memoizedState;g=b.element,Sv(i,l),Su(l,d,null,u);var N=l.memoizedState;if(d=N.cache,ka(l,on,d),d!==b.cache&&gv(l,[on],u,!0),wu(),d=N.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=hE(i,l,d,u);break e}else if(d!==g){g=qr(Error(r(424)),l),vu(g),l=hE(i,l,d,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=Yr(i.firstChild),Un=l,We=!0,Ra=null,Vr=!0,u=oS(l,null,d,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Pl(),d===g){l=Vi(i,l,u);break e}Hn(i,l,d,u)}l=l.child}return l;case 26:return ff(i,l),i===null?(u=ON(l.type,null,l.pendingProps,null))?l.memoizedState=u:We||(u=l.type,i=l.pendingProps,d=jf(Oe.current).createElement(u),d[Wt]=l,d[gn]=i,qn(d,u,i),Cn(d),l.stateNode=d):l.memoizedState=ON(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Ce(l),i===null&&We&&(d=l.stateNode=NN(l.type,l.pendingProps,Oe.current),Un=l,Vr=!0,g=Pt,Wa(l.type)?(kg=g,Pt=Yr(d.firstChild)):Pt=g),Hn(i,l,l.pendingProps.children,u),ff(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&We&&((g=d=Pt)&&(d=cL(d,l.type,l.pendingProps,Vr),d!==null?(l.stateNode=d,Un=l,Pt=Yr(d.firstChild),Vr=!1,g=!0):g=!1),g||Ia(l)),Ce(l),g=l.type,b=l.pendingProps,N=i!==null?i.memoizedProps:null,d=b.children,Dg(g,b)?d=null:N!==null&&Dg(g,N)&&(l.flags|=32),l.memoizedState!==null&&(g=Tv(i,l,N4,null,null,u),qu._currentValue=g),ff(i,l),Hn(i,l,d,u),l.child;case 6:return i===null&&We&&((i=u=Pt)&&(u=dL(u,l.pendingProps,Vr),u!==null?(l.stateNode=u,Un=l,Pt=null,i=!0):i=!1),i||Ia(l)),null;case 13:return mE(i,l,u);case 4:return nt(l,l.stateNode.containerInfo),d=l.pendingProps,i===null?l.child=zl(l,null,d,u):Hn(i,l,d,u),l.child;case 11:return aE(i,l,l.type,l.pendingProps,u);case 7:return Hn(i,l,l.pendingProps,u),l.child;case 8:return Hn(i,l,l.pendingProps.children,u),l.child;case 12:return Hn(i,l,l.pendingProps.children,u),l.child;case 10:return d=l.pendingProps,ka(l,l.type,d.value),Hn(i,l,d.children,u),l.child;case 9:return g=l.type._context,d=l.pendingProps.children,Rl(l),g=$n(g),d=d(g),l.flags|=1,Hn(i,l,d,u),l.child;case 14:return lE(i,l,l.type,l.pendingProps,u);case 15:return sE(i,l,l.type,l.pendingProps,u);case 19:return vE(i,l,u);case 31:return M4(i,l,u);case 22:return oE(i,l,u,l.pendingProps);case 24:return Rl(l),d=$n(on),i===null?(g=xv(),g===null&&(g=wt,b=yv(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),l.memoizedState={parent:d,cache:g},wv(l),ka(l,on,g)):((i.lanes&u)!==0&&(Sv(i,l),Su(l,null,null,u),wu()),g=i.memoizedState,b=l.memoizedState,g.parent!==d?(g={parent:d,cache:d},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),ka(l,on,d)):(d=b.cache,ka(l,on,d),d!==g.cache&&gv(l,[on],u,!0))),Hn(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Gi(i){i.flags|=4}function ig(i,l,u,d,g){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(FE())i.flags|=8192;else throw Ll=Xd,_v}else i.flags&=-16777217}function yE(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!MN(l))if(FE())i.flags|=8192;else throw Ll=Xd,_v}function mf(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?st():536870912,i.lanes|=l,Ws|=l)}function ju(i,l){if(!We)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Mt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(l)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=u,l}function I4(i,l,u){var d=l.pendingProps;switch(fv(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(l),null;case 1:return Mt(l),null;case 3:return u=l.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),qi(on),J(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ks(l)?Gi(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mv())),Mt(l),null;case 26:var g=l.type,b=l.memoizedState;return i===null?(Gi(l),b!==null?(Mt(l),yE(l,b)):(Mt(l),ig(l,g,null,d,u))):b?b!==i.memoizedState?(Gi(l),Mt(l),yE(l,b)):(Mt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==d&&Gi(l),Mt(l),ig(l,g,i,d,u)),null;case 27:if(Re(l),u=Oe.current,g=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==d&&Gi(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Mt(l),null}i=oe.current,ks(l)?Qw(l):(i=NN(g,d,u),l.stateNode=i,Gi(l))}return Mt(l),null;case 5:if(Re(l),g=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==d&&Gi(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Mt(l),null}if(b=oe.current,ks(l))Qw(l);else{var N=jf(Oe.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?N.createElement(g,{is:d.is}):N.createElement(g)}}b[Wt]=l,b[gn]=d;e:for(N=l.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===l)break e;for(;N.sibling===null;){if(N.return===null||N.return===l)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}l.stateNode=b;e:switch(qn(b,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Gi(l)}}return Mt(l),ig(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==d&&Gi(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(i=Oe.current,ks(l)){if(i=l.stateNode,u=l.memoizedProps,d=null,g=Un,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}i[Wt]=l,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||mN(i.nodeValue,u)),i||Ia(l,!0)}else i=jf(i).createTextNode(d),i[Wt]=l,l.stateNode=i}return Mt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(d=ks(l),u!==null){if(i===null){if(!d)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Wt]=l}else Pl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mt(l),i=!1}else u=mv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(jr(l),l):(jr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Mt(l),null;case 13:if(d=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=ks(l),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Wt]=l}else Pl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mt(l),g=!1}else g=mv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(jr(l),l):(jr(l),null)}return jr(l),(l.flags&128)!==0?(l.lanes=u,l):(u=d!==null,i=i!==null&&i.memoizedState!==null,u&&(d=l.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),mf(l,l.updateQueue),Mt(l),null);case 4:return J(),i===null&&Cg(l.stateNode.containerInfo),Mt(l),null;case 10:return qi(l.type),Mt(l),null;case 19:if(Z(tn),d=l.memoizedState,d===null)return Mt(l),null;if(g=(l.flags&128)!==0,b=d.rendering,b===null)if(g)ju(d,!1);else{if(Qt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=ef(i),b!==null){for(l.flags|=128,ju(d,!1),i=b.updateQueue,l.updateQueue=i,mf(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)Vw(u,i),u=u.sibling;return ue(tn,tn.current&1|2),We&&$i(l,d.treeForkCount),l.child}i=i.sibling}d.tail!==null&&kn()>bf&&(l.flags|=128,g=!0,ju(d,!1),l.lanes=4194304)}else{if(!g)if(i=ef(b),i!==null){if(l.flags|=128,g=!0,i=i.updateQueue,l.updateQueue=i,mf(l,i),ju(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!We)return Mt(l),null}else 2*kn()-d.renderingStartTime>bf&&u!==536870912&&(l.flags|=128,g=!0,ju(d,!1),l.lanes=4194304);d.isBackwards?(b.sibling=l.child,l.child=b):(i=d.last,i!==null?i.sibling=b:l.child=b,d.last=b)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=kn(),i.sibling=null,u=tn.current,ue(tn,g?u&1|2:u&1),We&&$i(l,d.treeForkCount),i):(Mt(l),null);case 22:case 23:return jr(l),Av(),d=l.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(u&536870912)!==0&&(l.flags&128)===0&&(Mt(l),l.subtreeFlags&6&&(l.flags|=8192)):Mt(l),u=l.updateQueue,u!==null&&mf(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048),i!==null&&Z(Il),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),qi(on),Mt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function k4(i,l){switch(fv(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return qi(on),J(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Re(l),null;case 31:if(l.memoizedState!==null){if(jr(l),l.alternate===null)throw Error(r(340));Pl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(jr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Pl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Z(tn),null;case 4:return J(),null;case 10:return qi(l.type),null;case 22:case 23:return jr(l),Av(),i!==null&&Z(Il),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return qi(on),null;case 25:return null;default:return null}}function bE(i,l){switch(fv(l),l.tag){case 3:qi(on),J();break;case 26:case 27:case 5:Re(l);break;case 4:J();break;case 31:l.memoizedState!==null&&jr(l);break;case 13:jr(l);break;case 19:Z(tn);break;case 10:qi(l.type);break;case 22:case 23:jr(l),Av(),i!==null&&Z(Il);break;case 24:qi(on)}}function Tu(i,l){try{var u=l.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){d=void 0;var b=u.create,N=u.inst;d=b(),N.destroy=d}u=u.next}while(u!==g)}}catch(O){ct(l,l.return,O)}}function Ha(i,l,u){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&i)===i){var N=d.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,g=l;var I=u,F=O;try{F()}catch(ne){ct(g,I,ne)}}}d=d.next}while(d!==b)}}catch(ne){ct(l,l.return,ne)}}function xE(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{cS(l,u)}catch(d){ct(i,i.return,d)}}}function _E(i,l,u){u.props=Ul(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(d){ct(i,l,d)}}function Du(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof u=="function"?i.refCleanup=u(d):u.current=d}}catch(g){ct(i,l,g)}}function Ni(i,l){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(g){ct(i,l,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){ct(i,l,g)}else u.current=null}function wE(i){var l=i.type,u=i.memoizedProps,d=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(g){ct(i,i.return,g)}}function ag(i,l,u){try{var d=i.stateNode;iL(d,i.type,u,l),d[gn]=l}catch(g){ct(i,i.return,g)}}function SE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wa(i.type)||i.tag===4}function lg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||SE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sg(i,l,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=zi));else if(d!==4&&(d===27&&Wa(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(sg(i,l,u),i=i.sibling;i!==null;)sg(i,l,u),i=i.sibling}function pf(i,l,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(d!==4&&(d===27&&Wa(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(pf(i,l,u),i=i.sibling;i!==null;)pf(i,l,u),i=i.sibling}function EE(i){var l=i.stateNode,u=i.memoizedProps;try{for(var d=i.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);qn(l,d,u),l[Wt]=i,l[gn]=u}catch(b){ct(i,i.return,b)}}var Yi=!1,dn=!1,og=!1,NE=typeof WeakSet=="function"?WeakSet:Set,An=null;function L4(i,l){if(i=i.containerInfo,jg=kf,i=Lw(i),tv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var N=0,O=-1,I=-1,F=0,ne=0,ie=i,G=null;t:for(;;){for(var Q;ie!==u||g!==0&&ie.nodeType!==3||(O=N+g),ie!==b||d!==0&&ie.nodeType!==3||(I=N+d),ie.nodeType===3&&(N+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)G=ie,ie=Q;for(;;){if(ie===i)break t;if(G===u&&++F===g&&(O=N),G===b&&++ne===d&&(I=N),(Q=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=Q}u=O===-1||I===-1?null:{start:O,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(Tg={focusedElem:i,selectionRange:u},kf=!1,An=l;An!==null;)if(l=An,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,An=i;else for(;An!==null;){switch(l=An,b=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)g=i[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=l,g=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var xe=Ul(u.type,g);i=d.getSnapshotBeforeUpdate(xe,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(De){ct(u,u.return,De)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Mg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,An=i;break}An=l.return}}function CE(i,l,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Xi(i,u),d&4&&Tu(5,u);break;case 1:if(Xi(i,u),d&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(N){ct(u,u.return,N)}else{var g=Ul(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(g,l,i.__reactInternalSnapshotBeforeUpdate)}catch(N){ct(u,u.return,N)}}d&64&&xE(u),d&512&&Du(u,u.return);break;case 3:if(Xi(i,u),d&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{cS(i,l)}catch(N){ct(u,u.return,N)}}break;case 27:l===null&&d&4&&EE(u);case 26:case 5:Xi(i,u),l===null&&d&4&&wE(u),d&512&&Du(u,u.return);break;case 12:Xi(i,u);break;case 31:Xi(i,u),d&4&&jE(i,u);break;case 13:Xi(i,u),d&4&&TE(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=V4.bind(null,u),fL(i,u))));break;case 22:if(d=u.memoizedState!==null||Yi,!d){l=l!==null&&l.memoizedState!==null||dn,g=Yi;var b=dn;Yi=d,(dn=l)&&!b?Qi(i,u,(u.subtreeFlags&8772)!==0):Xi(i,u),Yi=g,dn=b}break;case 30:break;default:Xi(i,u)}}function AE(i){var l=i.alternate;l!==null&&(i.alternate=null,AE(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&zp(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var zt=null,dr=!1;function Wi(i,l,u){for(u=u.child;u!==null;)OE(i,l,u),u=u.sibling}function OE(i,l,u){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(xt,u)}catch{}switch(u.tag){case 26:dn||Ni(u,l),Wi(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:dn||Ni(u,l);var d=zt,g=dr;Wa(u.type)&&(zt=u.stateNode,dr=!1),Wi(i,l,u),Uu(u.stateNode),zt=d,dr=g;break;case 5:dn||Ni(u,l);case 6:if(d=zt,g=dr,zt=null,Wi(i,l,u),zt=d,dr=g,zt!==null)if(dr)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(u.stateNode)}catch(b){ct(u,l,b)}else try{zt.removeChild(u.stateNode)}catch(b){ct(u,l,b)}break;case 18:zt!==null&&(dr?(i=zt,xN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ro(i)):xN(zt,u.stateNode));break;case 4:d=zt,g=dr,zt=u.stateNode.containerInfo,dr=!0,Wi(i,l,u),zt=d,dr=g;break;case 0:case 11:case 14:case 15:Ha(2,u,l),dn||Ha(4,u,l),Wi(i,l,u);break;case 1:dn||(Ni(u,l),d=u.stateNode,typeof d.componentWillUnmount=="function"&&_E(u,l,d)),Wi(i,l,u);break;case 21:Wi(i,l,u);break;case 22:dn=(d=dn)||u.memoizedState!==null,Wi(i,l,u),dn=d;break;default:Wi(i,l,u)}}function jE(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ro(i)}catch(u){ct(l,l.return,u)}}}function TE(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ro(i)}catch(u){ct(l,l.return,u)}}function z4(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new NE),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new NE),l;default:throw Error(r(435,i.tag))}}function vf(i,l){var u=z4(i);l.forEach(function(d){if(!u.has(d)){u.add(d);var g=G4.bind(null,i,d);d.then(g,g)}})}function fr(i,l){var u=l.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d],b=i,N=l,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(Wa(O.type)){zt=O.stateNode,dr=!1;break e}break;case 5:zt=O.stateNode,dr=!1;break e;case 3:case 4:zt=O.stateNode.containerInfo,dr=!0;break e}O=O.return}if(zt===null)throw Error(r(160));OE(b,N,g),zt=null,dr=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)DE(l,i),l=l.sibling}var ui=null;function DE(i,l){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:fr(l,i),hr(i),d&4&&(Ha(3,i,i.return),Tu(3,i),Ha(5,i,i.return));break;case 1:fr(l,i),hr(i),d&512&&(dn||u===null||Ni(u,u.return)),d&64&&Yi&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=ui;if(fr(l,i),hr(i),d&512&&(dn||u===null||Ni(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Nl]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(d),g.head.insertBefore(b,g.querySelector("head > title"))),qn(b,d,u),b[Wt]=i,Cn(b),d=b;break e;case"link":var N=DN("link","href",g).get(d+(u.href||""));if(N){for(var O=0;O<N.length;O++)if(b=N[O],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(O,1);break t}}b=g.createElement(d),qn(b,d,u),g.head.appendChild(b);break;case"meta":if(N=DN("meta","content",g).get(d+(u.content||""))){for(O=0;O<N.length;O++)if(b=N[O],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(O,1);break t}}b=g.createElement(d),qn(b,d,u),g.head.appendChild(b);break;default:throw Error(r(468,d))}b[Wt]=i,Cn(b),d=b}i.stateNode=d}else PN(g,i.type,i.stateNode);else i.stateNode=TN(g,d,i.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?PN(g,i.type,i.stateNode):TN(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&ag(i,i.memoizedProps,u.memoizedProps)}break;case 27:fr(l,i),hr(i),d&512&&(dn||u===null||Ni(u,u.return)),u!==null&&d&4&&ag(i,i.memoizedProps,u.memoizedProps);break;case 5:if(fr(l,i),hr(i),d&512&&(dn||u===null||Ni(u,u.return)),i.flags&32){g=i.stateNode;try{Cs(g,"")}catch(xe){ct(i,i.return,xe)}}d&4&&i.stateNode!=null&&(g=i.memoizedProps,ag(i,g,u!==null?u.memoizedProps:g)),d&1024&&(og=!0);break;case 6:if(fr(l,i),hr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,u=i.stateNode;try{u.nodeValue=d}catch(xe){ct(i,i.return,xe)}}break;case 3:if(Pf=null,g=ui,ui=Tf(l.containerInfo),fr(l,i),ui=g,hr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ro(l.containerInfo)}catch(xe){ct(i,i.return,xe)}og&&(og=!1,PE(i));break;case 4:d=ui,ui=Tf(i.stateNode.containerInfo),fr(l,i),hr(i),ui=d;break;case 12:fr(l,i),hr(i);break;case 31:fr(l,i),hr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,vf(i,d)));break;case 13:fr(l,i),hr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(yf=kn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,vf(i,d)));break;case 22:g=i.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,F=Yi,ne=dn;if(Yi=F||g,dn=ne||I,fr(l,i),dn=ne,Yi=F,hr(i),d&8192)e:for(l=i.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(u===null||I||Yi||dn||$l(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){I=u=l;try{if(b=I.stateNode,g)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=I.stateNode;var ie=I.memoizedProps.style,G=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;O.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(xe){ct(I,I.return,xe)}}}else if(l.tag===6){if(u===null){I=l;try{I.stateNode.nodeValue=g?"":I.memoizedProps}catch(xe){ct(I,I.return,xe)}}}else if(l.tag===18){if(u===null){I=l;try{var Q=I.stateNode;g?_N(Q,!0):_N(I.stateNode,!1)}catch(xe){ct(I,I.return,xe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,vf(i,u))));break;case 19:fr(l,i),hr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,vf(i,d)));break;case 30:break;case 21:break;default:fr(l,i),hr(i)}}function hr(i){var l=i.flags;if(l&2){try{for(var u,d=i.return;d!==null;){if(SE(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,b=lg(i);pf(i,b,g);break;case 5:var N=u.stateNode;u.flags&32&&(Cs(N,""),u.flags&=-33);var O=lg(i);pf(i,O,N);break;case 3:case 4:var I=u.stateNode.containerInfo,F=lg(i);sg(i,F,I);break;default:throw Error(r(161))}}catch(ne){ct(i,i.return,ne)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function PE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;PE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Xi(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)CE(i,l.alternate,l),l=l.sibling}function $l(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Ha(4,l,l.return),$l(l);break;case 1:Ni(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&_E(l,l.return,u),$l(l);break;case 27:Uu(l.stateNode);case 26:case 5:Ni(l,l.return),$l(l);break;case 22:l.memoizedState===null&&$l(l);break;case 30:$l(l);break;default:$l(l)}i=i.sibling}}function Qi(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,g=i,b=l,N=b.flags;switch(b.tag){case 0:case 11:case 15:Qi(g,b,u),Tu(4,b);break;case 1:if(Qi(g,b,u),d=b,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){ct(d,d.return,F)}if(d=b,g=d.updateQueue,g!==null){var O=d.stateNode;try{var I=g.shared.hiddenCallbacks;if(I!==null)for(g.shared.hiddenCallbacks=null,g=0;g<I.length;g++)uS(I[g],O)}catch(F){ct(d,d.return,F)}}u&&N&64&&xE(b),Du(b,b.return);break;case 27:EE(b);case 26:case 5:Qi(g,b,u),u&&d===null&&N&4&&wE(b),Du(b,b.return);break;case 12:Qi(g,b,u);break;case 31:Qi(g,b,u),u&&N&4&&jE(g,b);break;case 13:Qi(g,b,u),u&&N&4&&TE(g,b);break;case 22:b.memoizedState===null&&Qi(g,b,u),Du(b,b.return);break;case 30:break;default:Qi(g,b,u)}l=l.sibling}}function ug(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&gu(u))}function cg(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&gu(i))}function ci(i,l,u,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ME(i,l,u,d),l=l.sibling}function ME(i,l,u,d){var g=l.flags;switch(l.tag){case 0:case 11:case 15:ci(i,l,u,d),g&2048&&Tu(9,l);break;case 1:ci(i,l,u,d);break;case 3:ci(i,l,u,d),g&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&gu(i)));break;case 12:if(g&2048){ci(i,l,u,d),i=l.stateNode;try{var b=l.memoizedProps,N=b.id,O=b.onPostCommit;typeof O=="function"&&O(N,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){ct(l,l.return,I)}}else ci(i,l,u,d);break;case 31:ci(i,l,u,d);break;case 13:ci(i,l,u,d);break;case 23:break;case 22:b=l.stateNode,N=l.alternate,l.memoizedState!==null?b._visibility&2?ci(i,l,u,d):Pu(i,l):b._visibility&2?ci(i,l,u,d):(b._visibility|=2,Vs(i,l,u,d,(l.subtreeFlags&10256)!==0||!1)),g&2048&&ug(N,l);break;case 24:ci(i,l,u,d),g&2048&&cg(l.alternate,l);break;default:ci(i,l,u,d)}}function Vs(i,l,u,d,g){for(g=g&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=i,N=l,O=u,I=d,F=N.flags;switch(N.tag){case 0:case 11:case 15:Vs(b,N,O,I,g),Tu(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&2?Vs(b,N,O,I,g):Pu(b,N):(ne._visibility|=2,Vs(b,N,O,I,g)),g&&F&2048&&ug(N.alternate,N);break;case 24:Vs(b,N,O,I,g),g&&F&2048&&cg(N.alternate,N);break;default:Vs(b,N,O,I,g)}l=l.sibling}}function Pu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,d=l,g=d.flags;switch(d.tag){case 22:Pu(u,d),g&2048&&ug(d.alternate,d);break;case 24:Pu(u,d),g&2048&&cg(d.alternate,d);break;default:Pu(u,d)}l=l.sibling}}var Mu=8192;function Gs(i,l,u){if(i.subtreeFlags&Mu)for(i=i.child;i!==null;)RE(i,l,u),i=i.sibling}function RE(i,l,u){switch(i.tag){case 26:Gs(i,l,u),i.flags&Mu&&i.memoizedState!==null&&EL(u,ui,i.memoizedState,i.memoizedProps);break;case 5:Gs(i,l,u);break;case 3:case 4:var d=ui;ui=Tf(i.stateNode.containerInfo),Gs(i,l,u),ui=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Mu,Mu=16777216,Gs(i,l,u),Mu=d):Gs(i,l,u));break;default:Gs(i,l,u)}}function IE(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Ru(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];An=d,LE(d,i)}IE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kE(i),i=i.sibling}function kE(i){switch(i.tag){case 0:case 11:case 15:Ru(i),i.flags&2048&&Ha(9,i,i.return);break;case 3:Ru(i);break;case 12:Ru(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,gf(i)):Ru(i);break;default:Ru(i)}}function gf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];An=d,LE(d,i)}IE(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Ha(8,l,l.return),gf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,gf(l));break;default:gf(l)}i=i.sibling}}function LE(i,l){for(;An!==null;){var u=An;switch(u.tag){case 0:case 11:case 15:Ha(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:gu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,An=d;else e:for(u=i;An!==null;){d=An;var g=d.sibling,b=d.return;if(AE(d),d===u){An=null;break e}if(g!==null){g.return=b,An=g;break e}An=b}}}var B4={getCacheForType:function(i){var l=$n(on),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return $n(on).controller.signal}},U4=typeof WeakMap=="function"?WeakMap:Map,rt=0,wt=null,qe=null,Ve=0,ut=0,Tr=null,qa=!1,Ys=!1,dg=!1,Zi=0,Qt=0,Fa=0,Hl=0,fg=0,Dr=0,Ws=0,Iu=null,mr=null,hg=!1,yf=0,zE=0,bf=1/0,xf=null,Ka=null,yn=0,Va=null,Xs=null,Ji=0,mg=0,pg=null,BE=null,ku=0,vg=null;function Pr(){return(rt&2)!==0&&Ve!==0?Ve&-Ve:L.T!==null?wg():El()}function UE(){if(Dr===0)if((Ve&536870912)===0||We){var i=ft;ft<<=1,(ft&3932160)===0&&(ft=262144),Dr=i}else Dr=536870912;return i=Or.current,i!==null&&(i.flags|=32),Dr}function pr(i,l,u){(i===wt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Qs(i,0),Ga(i,Ve,Dr,!1)),Nr(i,u),((rt&2)===0||i!==wt)&&(i===wt&&((rt&2)===0&&(Hl|=u),Qt===4&&Ga(i,Ve,Dr,!1)),Ci(i))}function $E(i,l,u){if((rt&6)!==0)throw Error(r(327));var d=!u&&(l&127)===0&&(l&i.expiredLanes)===0||lt(i,l),g=d?q4(i,l):yg(i,l,!0),b=d;do{if(g===0){Ys&&!d&&Ga(i,l,0,!1);break}else{if(u=i.current.alternate,b&&!$4(u)){g=yg(i,l,!1),b=!1;continue}if(g===2){if(b=l,i.errorRecoveryDisabledLanes&b)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var O=i;g=Iu;var I=O.current.memoizedState.isDehydrated;if(I&&(Qs(O,N).flags|=256),N=yg(O,N,!1),N!==2){if(dg&&!I){O.errorRecoveryDisabledLanes|=b,Hl|=b,g=4;break e}b=mr,mr=g,b!==null&&(mr===null?mr=b:mr.push.apply(mr,b))}g=N}if(b=!1,g!==2)continue}}if(g===1){Qs(i,0),Ga(i,l,0,!0);break}e:{switch(d=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ga(d,l,Dr,!qa);break e;case 2:mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(g=yf+300-kn(),10<g)){if(Ga(d,l,Dr,!qa),Da(d,0,!0)!==0)break e;Ji=l,d.timeoutHandle=yN(HE.bind(null,d,u,mr,xf,hg,l,Dr,Hl,Ws,qa,b,"Throttled",-0,0),g);break e}HE(d,u,mr,xf,hg,l,Dr,Hl,Ws,qa,b,null,-0,0)}}break}while(!0);Ci(i)}function HE(i,l,u,d,g,b,N,O,I,F,ne,ie,G,Q){if(i.timeoutHandle=-1,ie=l.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zi},RE(l,b,ie);var xe=(b&62914560)===b?yf-kn():(b&4194048)===b?zE-kn():0;if(xe=NL(ie,xe),xe!==null){Ji=b,i.cancelPendingCommit=xe(XE.bind(null,i,l,b,u,d,g,N,O,I,ne,ie,null,G,Q)),Ga(i,b,N,!F);return}}XE(i,l,b,u,d,g,N,O,I)}function $4(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],b=g.getSnapshot;g=g.value;try{if(!Cr(b(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ga(i,l,u,d){l&=~fg,l&=~Hl,i.suspendedLanes|=l,i.pingedLanes&=~l,d&&(i.warmLanes|=l),d=i.expirationTimes;for(var g=l;0<g;){var b=31-Pe(g),N=1<<b;d[b]=-1,g&=~N}u!==0&&Se(i,u,l)}function _f(){return(rt&6)===0?(Lu(0),!1):!0}function gg(){if(qe!==null){if(ut===0)var i=qe.return;else i=qe,Hi=Ml=null,Mv(i),$s=null,bu=0,i=qe;for(;i!==null;)bE(i.alternate,i),i=i.return;qe=null}}function Qs(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,sL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ji=0,gg(),wt=i,qe=u=Ui(i.current,null),Ve=l,ut=0,Tr=null,qa=!1,Ys=lt(i,l),dg=!1,Ws=Dr=fg=Hl=Fa=Qt=0,mr=Iu=null,hg=!1,(l&8)!==0&&(l|=l&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=l;0<d;){var g=31-Pe(d),b=1<<g;l|=i[g],d&=~b}return Zi=l,$d(),u}function qE(i,l){ze=null,L.H=Au,l===Us||l===Wd?(l=aS(),ut=3):l===_v?(l=aS(),ut=4):ut=l===Wv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Tr=l,qe===null&&(Qt=1,cf(i,qr(l,i.current)))}function FE(){var i=Or.current;return i===null?!0:(Ve&4194048)===Ve?Gr===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===Gr:!1}function KE(){var i=L.H;return L.H=Au,i===null?Au:i}function VE(){var i=L.A;return L.A=B4,i}function wf(){Qt=4,qa||(Ve&4194048)!==Ve&&Or.current!==null||(Ys=!0),(Fa&134217727)===0&&(Hl&134217727)===0||wt===null||Ga(wt,Ve,Dr,!1)}function yg(i,l,u){var d=rt;rt|=2;var g=KE(),b=VE();(wt!==i||Ve!==l)&&(xf=null,Qs(i,l)),l=!1;var N=Qt;e:do try{if(ut!==0&&qe!==null){var O=qe,I=Tr;switch(ut){case 8:gg(),N=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(l=!0);var F=ut;if(ut=0,Tr=null,Zs(i,O,I,F),u&&Ys){N=0;break e}break;default:F=ut,ut=0,Tr=null,Zs(i,O,I,F)}}H4(),N=Qt;break}catch(ne){qE(i,ne)}while(!0);return l&&i.shellSuspendCounter++,Hi=Ml=null,rt=d,L.H=g,L.A=b,qe===null&&(wt=null,Ve=0,$d()),N}function H4(){for(;qe!==null;)GE(qe)}function q4(i,l){var u=rt;rt|=2;var d=KE(),g=VE();wt!==i||Ve!==l?(xf=null,bf=kn()+500,Qs(i,l)):Ys=lt(i,l);e:do try{if(ut!==0&&qe!==null){l=qe;var b=Tr;t:switch(ut){case 1:ut=0,Tr=null,Zs(i,l,b,1);break;case 2:case 9:if(rS(b)){ut=0,Tr=null,YE(l);break}l=function(){ut!==2&&ut!==9||wt!==i||(ut=7),Ci(i)},b.then(l,l);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:rS(b)?(ut=0,Tr=null,YE(l)):(ut=0,Tr=null,Zs(i,l,b,7));break;case 5:var N=null;switch(qe.tag){case 26:N=qe.memoizedState;case 5:case 27:var O=qe;if(N?MN(N):O.stateNode.complete){ut=0,Tr=null;var I=O.sibling;if(I!==null)qe=I;else{var F=O.return;F!==null?(qe=F,Sf(F)):qe=null}break t}}ut=0,Tr=null,Zs(i,l,b,5);break;case 6:ut=0,Tr=null,Zs(i,l,b,6);break;case 8:gg(),Qt=6;break e;default:throw Error(r(462))}}F4();break}catch(ne){qE(i,ne)}while(!0);return Hi=Ml=null,L.H=d,L.A=g,rt=u,qe!==null?0:(wt=null,Ve=0,$d(),Qt)}function F4(){for(;qe!==null&&!Ta();)GE(qe)}function GE(i){var l=gE(i.alternate,i,Zi);i.memoizedProps=i.pendingProps,l===null?Sf(i):qe=l}function YE(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=dE(u,l,l.pendingProps,l.type,void 0,Ve);break;case 11:l=dE(u,l,l.pendingProps,l.type.render,l.ref,Ve);break;case 5:Mv(l);default:bE(u,l),l=qe=Vw(l,Zi),l=gE(u,l,Zi)}i.memoizedProps=i.pendingProps,l===null?Sf(i):qe=l}function Zs(i,l,u,d){Hi=Ml=null,Mv(l),$s=null,bu=0;var g=l.return;try{if(P4(i,g,l,u,Ve)){Qt=1,cf(i,qr(u,i.current)),qe=null;return}}catch(b){if(g!==null)throw qe=g,b;Qt=1,cf(i,qr(u,i.current)),qe=null;return}l.flags&32768?(We||d===1?i=!0:Ys||(Ve&536870912)!==0?i=!1:(qa=i=!0,(d===2||d===9||d===3||d===6)&&(d=Or.current,d!==null&&d.tag===13&&(d.flags|=16384))),WE(l,i)):Sf(l)}function Sf(i){var l=i;do{if((l.flags&32768)!==0){WE(l,qa);return}i=l.return;var u=I4(l.alternate,l,Zi);if(u!==null){qe=u;return}if(l=l.sibling,l!==null){qe=l;return}qe=l=i}while(l!==null);Qt===0&&(Qt=5)}function WE(i,l){do{var u=k4(i.alternate,i);if(u!==null){u.flags&=32767,qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){qe=i;return}qe=i=u}while(i!==null);Qt=6,qe=null}function XE(i,l,u,d,g,b,N,O,I){i.cancelPendingCommit=null;do Ef();while(yn!==0);if((rt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=lv,Y(i,u,b,N,O,I),i===wt&&(qe=wt=null,Ve=0),Xs=l,Va=i,Ji=u,mg=b,pg=g,BE=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Y4(Te,function(){return tN(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null,g=X.p,X.p=2,N=rt,rt|=4;try{L4(i,l,u)}finally{rt=N,X.p=g,L.T=d}}yn=1,QE(),ZE(),JE()}}function QE(){if(yn===1){yn=0;var i=Va,l=Xs,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var d=X.p;X.p=2;var g=rt;rt|=4;try{DE(l,i);var b=Tg,N=Lw(i.containerInfo),O=b.focusedElem,I=b.selectionRange;if(N!==O&&O&&O.ownerDocument&&kw(O.ownerDocument.documentElement,O)){if(I!==null&&tv(O)){var F=I.start,ne=I.end;if(ne===void 0&&(ne=F),"selectionStart"in O)O.selectionStart=F,O.selectionEnd=Math.min(ne,O.value.length);else{var ie=O.ownerDocument||document,G=ie&&ie.defaultView||window;if(G.getSelection){var Q=G.getSelection(),xe=O.textContent.length,De=Math.min(I.start,xe),vt=I.end===void 0?De:Math.min(I.end,xe);!Q.extend&&De>vt&&(N=vt,vt=De,De=N);var B=Iw(O,De),z=Iw(O,vt);if(B&&z&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var H=ie.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),De>vt?(Q.addRange(H),Q.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),Q.addRange(H))}}}}for(ie=[],Q=O;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ie.length;O++){var re=ie[O];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}kf=!!jg,Tg=jg=null}finally{rt=g,X.p=d,L.T=u}}i.current=l,yn=2}}function ZE(){if(yn===2){yn=0;var i=Va,l=Xs,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var d=X.p;X.p=2;var g=rt;rt|=4;try{CE(i,l.alternate,l)}finally{rt=g,X.p=d,L.T=u}}yn=3}}function JE(){if(yn===4||yn===3){yn=0,Sl();var i=Va,l=Xs,u=Ji,d=BE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?yn=5:(yn=0,Xs=Va=null,eN(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ka=null),ur(u),l=l.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(xt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=L.T,g=X.p,X.p=2,L.T=null;try{for(var b=i.onRecoverableError,N=0;N<d.length;N++){var O=d[N];b(O.value,{componentStack:O.stack})}}finally{L.T=l,X.p=g}}(Ji&3)!==0&&Ef(),Ci(i),g=i.pendingLanes,(u&261930)!==0&&(g&42)!==0?i===vg?ku++:(ku=0,vg=i):ku=0,Lu(0)}}function eN(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,gu(l)))}function Ef(){return QE(),ZE(),JE(),tN()}function tN(){if(yn!==5)return!1;var i=Va,l=mg;mg=0;var u=ur(Ji),d=L.T,g=X.p;try{X.p=32>u?32:u,L.T=null,u=pg,pg=null;var b=Va,N=Ji;if(yn=0,Xs=Va=null,Ji=0,(rt&6)!==0)throw Error(r(331));var O=rt;if(rt|=4,kE(b.current),ME(b,b.current,N,u),rt=O,Lu(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(xt,b)}catch{}return!0}finally{X.p=g,L.T=d,eN(i,l)}}function nN(i,l,u){l=qr(u,l),l=Yv(i.stateNode,l,2),i=Ba(i,l,2),i!==null&&(Nr(i,2),Ci(i))}function ct(i,l,u){if(i.tag===3)nN(i,i,u);else for(;l!==null;){if(l.tag===3){nN(l,i,u);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ka===null||!Ka.has(d))){i=qr(u,i),u=rE(2),d=Ba(l,u,2),d!==null&&(iE(u,d,l,i),Nr(d,2),Ci(d));break}}l=l.return}}function bg(i,l,u){var d=i.pingCache;if(d===null){d=i.pingCache=new U4;var g=new Set;d.set(l,g)}else g=d.get(l),g===void 0&&(g=new Set,d.set(l,g));g.has(u)||(dg=!0,g.add(u),i=K4.bind(null,i,l,u),l.then(i,i))}function K4(i,l,u){var d=i.pingCache;d!==null&&d.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,wt===i&&(Ve&u)===u&&(Qt===4||Qt===3&&(Ve&62914560)===Ve&&300>kn()-yf?(rt&2)===0&&Qs(i,0):fg|=u,Ws===Ve&&(Ws=0)),Ci(i)}function rN(i,l){l===0&&(l=st()),i=Tl(i,l),i!==null&&(Nr(i,l),Ci(i))}function V4(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),rN(i,u)}function G4(i,l){var u=0;switch(i.tag){case 31:case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),rN(i,u)}function Y4(i,l){return ln(i,l)}var Nf=null,Js=null,xg=!1,Cf=!1,_g=!1,Ya=0;function Ci(i){i!==Js&&i.next===null&&(Js===null?Nf=Js=i:Js=Js.next=i),Cf=!0,xg||(xg=!0,X4())}function Lu(i,l){if(!_g&&Cf){_g=!0;do for(var u=!1,d=Nf;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var b=0;else{var N=d.suspendedLanes,O=d.pingedLanes;b=(1<<31-Pe(42|i)+1)-1,b&=g&~(N&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,sN(d,b))}else b=Ve,b=Da(d,d===wt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||lt(d,b)||(u=!0,sN(d,b));d=d.next}while(u);_g=!1}}function W4(){iN()}function iN(){Cf=xg=!1;var i=0;Ya!==0&&lL()&&(i=Ya);for(var l=kn(),u=null,d=Nf;d!==null;){var g=d.next,b=aN(d,l);b===0?(d.next=null,u===null?Nf=g:u.next=g,g===null&&(Js=u)):(u=d,(i!==0||(b&3)!==0)&&(Cf=!0)),d=g}yn!==0&&yn!==5||Lu(i),Ya!==0&&(Ya=0)}function aN(i,l){for(var u=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var N=31-Pe(b),O=1<<N,I=g[N];I===-1?((O&u)===0||(O&d)!==0)&&(g[N]=Yt(O,l)):I<=l&&(i.expiredLanes|=O),b&=~O}if(l=wt,u=Ve,u=Da(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,u===0||i===l&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Sr(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||lt(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(d!==null&&Sr(d),ur(u)){case 2:case 8:u=Ee;break;case 32:u=Te;break;case 268435456:u=Ae;break;default:u=Te}return d=lN.bind(null,i),u=ln(u,d),i.callbackPriority=l,i.callbackNode=u,l}return d!==null&&d!==null&&Sr(d),i.callbackPriority=2,i.callbackNode=null,2}function lN(i,l){if(yn!==0&&yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ef()&&i.callbackNode!==u)return null;var d=Ve;return d=Da(i,i===wt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:($E(i,d,l),aN(i,kn()),i.callbackNode!=null&&i.callbackNode===u?lN.bind(null,i):null)}function sN(i,l){if(Ef())return null;$E(i,l,!0)}function X4(){oL(function(){(rt&6)!==0?ln(de,W4):iN()})}function wg(){if(Ya===0){var i=zs;i===0&&(i=sn,sn<<=1,(sn&261888)===0&&(sn=256)),Ya=i}return Ya}function oN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Md(""+i)}function uN(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function Q4(i,l,u,d,g){if(l==="submit"&&u&&u.stateNode===g){var b=oN((g[gn]||null).action),N=d.submitter;N&&(l=(l=N[gn]||null)?oN(l.formAction):N.getAttribute("formAction"),l!==null&&(b=l,N=null));var O=new Ld("action","action",null,d,g);i.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ya!==0){var I=N?uN(g,N):new FormData(g);Hv(u,{pending:!0,data:I,method:g.method,action:b},null,I)}}else typeof b=="function"&&(O.preventDefault(),I=N?uN(g,N):new FormData(g),Hv(u,{pending:!0,data:I,method:g.method,action:b},b,I))},currentTarget:g}]})}}for(var Sg=0;Sg<av.length;Sg++){var Eg=av[Sg],Z4=Eg.toLowerCase(),J4=Eg[0].toUpperCase()+Eg.slice(1);oi(Z4,"on"+J4)}oi(Uw,"onAnimationEnd"),oi($w,"onAnimationIteration"),oi(Hw,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(p4,"onTransitionRun"),oi(v4,"onTransitionStart"),oi(g4,"onTransitionCancel"),oi(qw,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function cN(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],g=d.event;d=d.listeners;e:{var b=void 0;if(l)for(var N=d.length-1;0<=N;N--){var O=d[N],I=O.instance,F=O.currentTarget;if(O=O.listener,I!==b&&g.isPropagationStopped())break e;b=O,g.currentTarget=F;try{b(g)}catch(ne){Ud(ne)}g.currentTarget=null,b=I}else for(N=0;N<d.length;N++){if(O=d[N],I=O.instance,F=O.currentTarget,O=O.listener,I!==b&&g.isPropagationStopped())break e;b=O,g.currentTarget=F;try{b(g)}catch(ne){Ud(ne)}g.currentTarget=null,b=I}}}}function Fe(i,l){var u=l[iu];u===void 0&&(u=l[iu]=new Set);var d=i+"__bubble";u.has(d)||(dN(l,i,2,!1),u.add(d))}function Ng(i,l,u){var d=0;l&&(d|=4),dN(u,i,d,l)}var Af="_reactListening"+Math.random().toString(36).slice(2);function Cg(i){if(!i[Af]){i[Af]=!0,iw.forEach(function(u){u!=="selectionchange"&&(eL.has(u)||Ng(u,!1,i),Ng(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Af]||(l[Af]=!0,Ng("selectionchange",!1,l))}}function dN(i,l,u,d){switch(UN(l)){case 2:var g=OL;break;case 8:g=jL;break;default:g=$g}u=g.bind(null,l,u,i),g=void 0,!Vp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(l,u,{capture:!0,passive:g}):i.addEventListener(l,u,!0):g!==void 0?i.addEventListener(l,u,{passive:g}):i.addEventListener(l,u,!1)}function Ag(i,l,u,d,g){var b=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var O=d.stateNode.containerInfo;if(O===g)break;if(N===4)for(N=d.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;O!==null;){if(N=_s(O),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){d=b=N;continue e}O=O.parentNode}}d=d.return}vw(function(){var F=b,ne=Fp(u),ie=[];e:{var G=Fw.get(i);if(G!==void 0){var Q=Ld,xe=i;switch(i){case"keypress":if(Id(u)===0)break e;case"keydown":case"keyup":Q=G3;break;case"focusin":xe="focus",Q=Xp;break;case"focusout":xe="blur",Q=Xp;break;case"beforeblur":case"afterblur":Q=Xp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=I3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=X3;break;case Uw:case $w:case Hw:Q=z3;break;case qw:Q=Z3;break;case"scroll":case"scrollend":Q=M3;break;case"wheel":Q=e4;break;case"copy":case"cut":case"paste":Q=U3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=_w;break;case"toggle":case"beforetoggle":Q=n4}var De=(l&4)!==0,vt=!De&&(i==="scroll"||i==="scrollend"),B=De?G!==null?G+"Capture":null:G;De=[];for(var z=F,H;z!==null;){var re=z;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||B===null||(re=lu(z,B),re!=null&&De.push(Bu(z,re,H))),vt)break;z=z.return}0<De.length&&(G=new Q(G,xe,null,u,ne),ie.push({event:G,listeners:De}))}}if((l&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",G&&u!==qp&&(xe=u.relatedTarget||u.fromElement)&&(_s(xe)||xe[Nn]))break e;if((Q||G)&&(G=ne.window===ne?ne:(G=ne.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(xe=u.relatedTarget||u.toElement,Q=F,xe=xe?_s(xe):null,xe!==null&&(vt=s(xe),De=xe.tag,xe!==vt||De!==5&&De!==27&&De!==6)&&(xe=null)):(Q=null,xe=F),Q!==xe)){if(De=bw,re="onMouseLeave",B="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(De=_w,re="onPointerLeave",B="onPointerEnter",z="pointer"),vt=Q==null?G:au(Q),H=xe==null?G:au(xe),G=new De(re,z+"leave",Q,u,ne),G.target=vt,G.relatedTarget=H,re=null,_s(ne)===F&&(De=new De(B,z+"enter",xe,u,ne),De.target=H,De.relatedTarget=vt,re=De),vt=re,Q&&xe)t:{for(De=tL,B=Q,z=xe,H=0,re=B;re;re=De(re))H++;re=0;for(var Ne=z;Ne;Ne=De(Ne))re++;for(;0<H-re;)B=De(B),H--;for(;0<re-H;)z=De(z),re--;for(;H--;){if(B===z||z!==null&&B===z.alternate){De=B;break t}B=De(B),z=De(z)}De=null}else De=null;Q!==null&&fN(ie,G,Q,De,!1),xe!==null&&vt!==null&&fN(ie,vt,xe,De,!0)}}e:{if(G=F?au(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Ze=jw;else if(Aw(G))if(Tw)Ze=f4;else{Ze=c4;var we=u4}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Hp(F.elementType)&&(Ze=jw):Ze=d4;if(Ze&&(Ze=Ze(i,F))){Ow(ie,Ze,u,ne);break e}we&&we(i,G,F),i==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&$p(G,"number",G.value)}switch(we=F?au(F):window,i){case"focusin":(Aw(we)||we.contentEditable==="true")&&(Ts=we,nv=F,mu=null);break;case"focusout":mu=nv=Ts=null;break;case"mousedown":rv=!0;break;case"contextmenu":case"mouseup":case"dragend":rv=!1,zw(ie,u,ne);break;case"selectionchange":if(m4)break;case"keydown":case"keyup":zw(ie,u,ne)}var Ue;if(Zp)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else js?Nw(i,u)&&(Ge="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ge="onCompositionStart");Ge&&(ww&&u.locale!=="ko"&&(js||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&js&&(Ue=gw()):(Pa=ne,Gp="value"in Pa?Pa.value:Pa.textContent,js=!0)),we=Of(F,Ge),0<we.length&&(Ge=new xw(Ge,i,null,u,ne),ie.push({event:Ge,listeners:we}),Ue?Ge.data=Ue:(Ue=Cw(u),Ue!==null&&(Ge.data=Ue)))),(Ue=i4?a4(i,u):l4(i,u))&&(Ge=Of(F,"onBeforeInput"),0<Ge.length&&(we=new xw("onBeforeInput","beforeinput",null,u,ne),ie.push({event:we,listeners:Ge}),we.data=Ue)),Q4(ie,i,F,u,ne)}cN(ie,l)})}function Bu(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Of(i,l){for(var u=l+"Capture",d=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=lu(i,u),g!=null&&d.unshift(Bu(i,g,b)),g=lu(i,l),g!=null&&d.push(Bu(i,g,b))),i.tag===3)return d;i=i.return}return[]}function tL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fN(i,l,u,d,g){for(var b=l._reactName,N=[];u!==null&&u!==d;){var O=u,I=O.alternate,F=O.stateNode;if(O=O.tag,I!==null&&I===d)break;O!==5&&O!==26&&O!==27||F===null||(I=F,g?(F=lu(u,b),F!=null&&N.unshift(Bu(u,F,I))):g||(F=lu(u,b),F!=null&&N.push(Bu(u,F,I)))),u=u.return}N.length!==0&&i.push({event:l,listeners:N})}var nL=/\r\n?/g,rL=/\u0000|\uFFFD/g;function hN(i){return(typeof i=="string"?i:""+i).replace(nL,`
`).replace(rL,"")}function mN(i,l){return l=hN(l),hN(i)===l}function pt(i,l,u,d,g,b){switch(u){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Cs(i,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Cs(i,""+d);break;case"className":Dd(i,"class",d);break;case"tabIndex":Dd(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Dd(i,u,d);break;case"style":mw(i,d,b);break;case"data":if(l!=="object"){Dd(i,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Md(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&pt(i,l,"name",g.name,g,null),pt(i,l,"formEncType",g.formEncType,g,null),pt(i,l,"formMethod",g.formMethod,g,null),pt(i,l,"formTarget",g.formTarget,g,null)):(pt(i,l,"encType",g.encType,g,null),pt(i,l,"method",g.method,g,null),pt(i,l,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Md(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(i.onclick=zi);break;case"onScroll":d!=null&&Fe("scroll",i);break;case"onScrollEnd":d!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}u=Md(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""+d):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,d):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(u,d):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):i.setAttribute(u,d);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Td(i,"popover",d);break;case"xlinkActuate":Li(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Li(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Li(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Li(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Li(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Li(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Li(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Li(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Li(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Td(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=D3.get(u)||u,Td(i,u,d))}}function Og(i,l,u,d,g,b){switch(u){case"style":mw(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof d=="string"?Cs(i,d):(typeof d=="number"||typeof d=="bigint")&&Cs(i,""+d);break;case"onScroll":d!=null&&Fe("scroll",i);break;case"onScrollEnd":d!=null&&Fe("scrollend",i);break;case"onClick":d!=null&&(i.onclick=zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aw.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),b=i[gn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(l,b,g),typeof d=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,d,g);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):Td(i,u,d)}}}function qn(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var d=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var N=u[b];if(N!=null)switch(b){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pt(i,l,b,N,u,null)}}g&&pt(i,l,"srcSet",u.srcSet,u,null),d&&pt(i,l,"src",u.src,u,null);return;case"input":Fe("invalid",i);var O=b=N=g=null,I=null,F=null;for(d in u)if(u.hasOwnProperty(d)){var ne=u[d];if(ne!=null)switch(d){case"name":g=ne;break;case"type":N=ne;break;case"checked":I=ne;break;case"defaultChecked":F=ne;break;case"value":b=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:pt(i,l,d,ne,u,null)}}cw(i,b,O,I,F,N,g,!1);return;case"select":Fe("invalid",i),d=N=b=null;for(g in u)if(u.hasOwnProperty(g)&&(O=u[g],O!=null))switch(g){case"value":b=O;break;case"defaultValue":N=O;break;case"multiple":d=O;default:pt(i,l,g,O,u,null)}l=b,u=N,i.multiple=!!d,l!=null?Ns(i,!!d,l,!1):u!=null&&Ns(i,!!d,u,!0);return;case"textarea":Fe("invalid",i),b=g=d=null;for(N in u)if(u.hasOwnProperty(N)&&(O=u[N],O!=null))switch(N){case"value":d=O;break;case"defaultValue":g=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:pt(i,l,N,O,u,null)}fw(i,d,g,b);return;case"option":for(I in u)if(u.hasOwnProperty(I)&&(d=u[I],d!=null))switch(I){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:pt(i,l,I,d,u,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(d=0;d<zu.length;d++)Fe(zu[d],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in u)if(u.hasOwnProperty(F)&&(d=u[F],d!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pt(i,l,F,d,u,null)}return;default:if(Hp(l)){for(ne in u)u.hasOwnProperty(ne)&&(d=u[ne],d!==void 0&&Og(i,l,ne,d,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(d=u[O],d!=null&&pt(i,l,O,d,u,null))}function iL(i,l,u,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,N=null,O=null,I=null,F=null,ne=null;for(Q in u){var ie=u[Q];if(u.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ie;default:d.hasOwnProperty(Q)||pt(i,l,Q,null,d,ie)}}for(var G in d){var Q=d[G];if(ie=u[G],d.hasOwnProperty(G)&&(Q!=null||ie!=null))switch(G){case"type":b=Q;break;case"name":g=Q;break;case"checked":F=Q;break;case"defaultChecked":ne=Q;break;case"value":N=Q;break;case"defaultValue":O=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,l));break;default:Q!==ie&&pt(i,l,G,Q,d,ie)}}Up(i,N,O,I,F,ne,b,g);return;case"select":Q=N=O=G=null;for(b in u)if(I=u[b],u.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":Q=I;default:d.hasOwnProperty(b)||pt(i,l,b,null,d,I)}for(g in d)if(b=d[g],I=u[g],d.hasOwnProperty(g)&&(b!=null||I!=null))switch(g){case"value":G=b;break;case"defaultValue":O=b;break;case"multiple":N=b;default:b!==I&&pt(i,l,g,b,d,I)}l=O,u=N,d=Q,G!=null?Ns(i,!!u,G,!1):!!d!=!!u&&(l!=null?Ns(i,!!u,l,!0):Ns(i,!!u,u?[]:"",!1));return;case"textarea":Q=G=null;for(O in u)if(g=u[O],u.hasOwnProperty(O)&&g!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:pt(i,l,O,null,d,g)}for(N in d)if(g=d[N],b=u[N],d.hasOwnProperty(N)&&(g!=null||b!=null))switch(N){case"value":G=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&pt(i,l,N,g,d,b)}dw(i,G,Q);return;case"option":for(var xe in u)if(G=u[xe],u.hasOwnProperty(xe)&&G!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:pt(i,l,xe,null,d,G)}for(I in d)if(G=d[I],Q=u[I],d.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null))switch(I){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:pt(i,l,I,G,d,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)G=u[De],u.hasOwnProperty(De)&&G!=null&&!d.hasOwnProperty(De)&&pt(i,l,De,null,d,G);for(F in d)if(G=d[F],Q=u[F],d.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,l));break;default:pt(i,l,F,G,d,Q)}return;default:if(Hp(l)){for(var vt in u)G=u[vt],u.hasOwnProperty(vt)&&G!==void 0&&!d.hasOwnProperty(vt)&&Og(i,l,vt,void 0,d,G);for(ne in d)G=d[ne],Q=u[ne],!d.hasOwnProperty(ne)||G===Q||G===void 0&&Q===void 0||Og(i,l,ne,G,d,Q);return}}for(var B in u)G=u[B],u.hasOwnProperty(B)&&G!=null&&!d.hasOwnProperty(B)&&pt(i,l,B,null,d,G);for(ie in d)G=d[ie],Q=u[ie],!d.hasOwnProperty(ie)||G===Q||G==null&&Q==null||pt(i,l,ie,G,d,Q)}function pN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var g=u[d],b=g.transferSize,N=g.initiatorType,O=g.duration;if(b&&O&&pN(N)){for(N=0,O=g.responseEnd,d+=1;d<u.length;d++){var I=u[d],F=I.startTime;if(F>O)break;var ne=I.transferSize,ie=I.initiatorType;ne&&pN(ie)&&(I=I.responseEnd,N+=ne*(I<O?1:(O-F)/(I-F)))}if(--d,l+=8*(b+N)/(g.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jg=null,Tg=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function vN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Dg(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pg=null;function lL(){var i=window.event;return i&&i.type==="popstate"?i===Pg?!1:(Pg=i,!0):(Pg=null,!1)}var yN=typeof setTimeout=="function"?setTimeout:void 0,sL=typeof clearTimeout=="function"?clearTimeout:void 0,bN=typeof Promise=="function"?Promise:void 0,oL=typeof queueMicrotask=="function"?queueMicrotask:typeof bN<"u"?function(i){return bN.resolve(null).then(i).catch(uL)}:yN;function uL(i){setTimeout(function(){throw i})}function Wa(i){return i==="head"}function xN(i,l){var u=l,d=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(d===0){i.removeChild(g),ro(l);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")Uu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Uu(u);for(var b=u.firstChild;b;){var N=b.nextSibling,O=b.nodeName;b[Nl]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=N}}else u==="body"&&Uu(i.ownerDocument.body);u=g}while(u);ro(l)}function _N(i,l){var u=i;i=0;do{var d=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=d}while(u)}function Mg(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Mg(u),zp(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function cL(i,l,u,d){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Nl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Yr(i.nextSibling),i===null)break}return null}function dL(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Yr(i.nextSibling),i===null))return null;return i}function wN(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Yr(i.nextSibling),i===null))return null;return i}function Rg(i){return i.data==="$?"||i.data==="$~"}function Ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fL(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var d=function(){l(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Yr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var kg=null;function SN(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Yr(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function EN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function NN(i,l,u){switch(l=jf(u),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Uu(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);zp(i)}var Wr=new Map,CN=new Set;function Tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ea=X.d;X.d={f:hL,r:mL,D:pL,C:vL,L:gL,m:yL,X:xL,S:bL,M:_L};function hL(){var i=ea.f(),l=_f();return i||l}function mL(i){var l=ws(i);l!==null&&l.tag===5&&l.type==="form"?qS(l):ea.r(i)}var eo=typeof document>"u"?null:document;function AN(i,l,u){var d=eo;if(d&&typeof l=="string"&&l){var g=$r(l);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),CN.has(g)||(CN.add(g),i={rel:i,crossOrigin:u,href:l},d.querySelector(g)===null&&(l=d.createElement("link"),qn(l,"link",i),Cn(l),d.head.appendChild(l)))}}function pL(i){ea.D(i),AN("dns-prefetch",i,null)}function vL(i,l){ea.C(i,l),AN("preconnect",i,l)}function gL(i,l,u){ea.L(i,l,u);var d=eo;if(d&&i&&l){var g='link[rel="preload"][as="'+$r(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+$r(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+$r(u.imageSizes)+'"]')):g+='[href="'+$r(i)+'"]';var b=g;switch(l){case"style":b=to(i);break;case"script":b=no(i)}Wr.has(b)||(i=v({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Wr.set(b,i),d.querySelector(g)!==null||l==="style"&&d.querySelector($u(b))||l==="script"&&d.querySelector(Hu(b))||(l=d.createElement("link"),qn(l,"link",i),Cn(l),d.head.appendChild(l)))}}function yL(i,l){ea.m(i,l);var u=eo;if(u&&i){var d=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+$r(d)+'"][href="'+$r(i)+'"]',b=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=no(i)}if(!Wr.has(b)&&(i=v({rel:"modulepreload",href:i},l),Wr.set(b,i),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hu(b)))return}d=u.createElement("link"),qn(d,"link",i),Cn(d),u.head.appendChild(d)}}}function bL(i,l,u){ea.S(i,l,u);var d=eo;if(d&&i){var g=Ss(d).hoistableStyles,b=to(i);l=l||"default";var N=g.get(b);if(!N){var O={loading:0,preload:null};if(N=d.querySelector($u(b)))O.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Wr.get(b))&&Lg(i,u);var I=N=d.createElement("link");Cn(I),qn(I,"link",i),I._p=new Promise(function(F,ne){I.onload=F,I.onerror=ne}),I.addEventListener("load",function(){O.loading|=1}),I.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Df(N,l,d)}N={type:"stylesheet",instance:N,count:1,state:O},g.set(b,N)}}}function xL(i,l){ea.X(i,l);var u=eo;if(u&&i){var d=Ss(u).hoistableScripts,g=no(i),b=d.get(g);b||(b=u.querySelector(Hu(g)),b||(i=v({src:i,async:!0},l),(l=Wr.get(g))&&zg(i,l),b=u.createElement("script"),Cn(b),qn(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function _L(i,l){ea.M(i,l);var u=eo;if(u&&i){var d=Ss(u).hoistableScripts,g=no(i),b=d.get(g);b||(b=u.querySelector(Hu(g)),b||(i=v({src:i,async:!0,type:"module"},l),(l=Wr.get(g))&&zg(i,l),b=u.createElement("script"),Cn(b),qn(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function ON(i,l,u,d){var g=(g=Oe.current)?Tf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=to(u.href),u=Ss(g).hoistableStyles,d=u.get(l),d||(d={type:"style",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=to(u.href);var b=Ss(g).hoistableStyles,N=b.get(i);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,N),(b=g.querySelector($u(i)))&&!b._p&&(N.instance=b,N.state.loading=5),Wr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Wr.set(i,u),b||wL(g,i,u,N.state))),l&&d===null)throw Error(r(528,""));return N}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=no(u),u=Ss(g).hoistableScripts,d=u.get(l),d||(d={type:"script",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function to(i){return'href="'+$r(i)+'"'}function $u(i){return'link[rel="stylesheet"]['+i+"]"}function jN(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function wL(i,l,u,d){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=i.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),qn(l,"link",u),Cn(l),i.head.appendChild(l))}function no(i){return'[src="'+$r(i)+'"]'}function Hu(i){return"script[async]"+i}function TN(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var d=i.querySelector('style[data-href~="'+$r(u.href)+'"]');if(d)return l.instance=d,Cn(d),d;var g=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Cn(d),qn(d,"style",g),Df(d,u.precedence,i),l.instance=d;case"stylesheet":g=to(u.href);var b=i.querySelector($u(g));if(b)return l.state.loading|=4,l.instance=b,Cn(b),b;d=jN(u),(g=Wr.get(g))&&Lg(d,g),b=(i.ownerDocument||i).createElement("link"),Cn(b);var N=b;return N._p=new Promise(function(O,I){N.onload=O,N.onerror=I}),qn(b,"link",d),l.state.loading|=4,Df(b,u.precedence,i),l.instance=b;case"script":return b=no(u.src),(g=i.querySelector(Hu(b)))?(l.instance=g,Cn(g),g):(d=u,(g=Wr.get(b))&&(d=v({},u),zg(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Cn(g),qn(g,"link",d),i.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Df(d,u.precedence,i));return l.instance}function Df(i,l,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,b=g,N=0;N<d.length;N++){var O=d[N];if(O.dataset.precedence===l)b=O;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Lg(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function zg(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Pf=null;function DN(i,l,u){if(Pf===null){var d=new Map,g=Pf=new Map;g.set(u,d)}else g=Pf,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var b=u[g];if(!(b[Nl]||b[Wt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(l)||"";N=i+N;var O=d.get(N);O?O.push(b):d.set(N,[b])}}return d}function PN(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function SL(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function MN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function EL(i,l,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=to(d.href),b=l.querySelector($u(g));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Mf.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=b,Cn(b);return}b=l.ownerDocument||l,d=jN(d),(g=Wr.get(g))&&Lg(d,g),b=b.createElement("link"),Cn(b);var N=b;N._p=new Promise(function(O,I){N.onload=O,N.onerror=I}),qn(b,"link",d),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Mf.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Bg=0;function NL(i,l){return i.stylesheets&&i.count===0&&If(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var d=setTimeout(function(){if(i.stylesheets&&If(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+l);0<i.imgBytes&&Bg===0&&(Bg=62500*aL());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&If(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Bg?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function Mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rf=null;function If(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rf=new Map,l.forEach(CL,i),Rf=null,Mf.call(i))}function CL(i,l){if(!(l.state.loading&4)){var u=Rf.get(i);if(u)var d=u.get(null);else{u=new Map,Rf.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var N=g[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),d=N)}d&&u.set(null,d)}g=l.instance,N=g.getAttribute("data-precedence"),b=u.get(N)||d,b===d&&u.set(null,g),u.set(N,g),this.count++,d=Mf.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),l.state.loading|=4}}var qu={$$typeof:A,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function AL(i,l,u,d,g,b,N,O,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=at(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=at(0),this.hiddenUpdates=at(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function RN(i,l,u,d,g,b,N,O,I,F,ne,ie){return i=new AL(i,l,u,N,I,F,ne,ie,O),l=1,b===!0&&(l|=24),b=Ar(3,null,null,l),i.current=b,b.stateNode=i,l=yv(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:l},wv(b),i}function IN(i){return i?(i=Ms,i):Ms}function kN(i,l,u,d,g,b){g=IN(g),d.context===null?d.context=g:d.pendingContext=g,d=za(l),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Ba(i,d,l),u!==null&&(pr(u,i,l),_u(u,i,l))}function LN(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Ug(i,l){LN(i,l),(i=i.alternate)&&LN(i,l)}function zN(i){if(i.tag===13||i.tag===31){var l=Tl(i,67108864);l!==null&&pr(l,i,67108864),Ug(i,67108864)}}function BN(i){if(i.tag===13||i.tag===31){var l=Pr();l=Gn(l);var u=Tl(i,l);u!==null&&pr(u,i,l),Ug(i,l)}}var kf=!0;function OL(i,l,u,d){var g=L.T;L.T=null;var b=X.p;try{X.p=2,$g(i,l,u,d)}finally{X.p=b,L.T=g}}function jL(i,l,u,d){var g=L.T;L.T=null;var b=X.p;try{X.p=8,$g(i,l,u,d)}finally{X.p=b,L.T=g}}function $g(i,l,u,d){if(kf){var g=Hg(d);if(g===null)Ag(i,l,d,Lf,u),$N(i,d);else if(DL(g,i,l,u,d))d.stopPropagation();else if($N(i,d),l&4&&-1<TL.indexOf(i)){for(;g!==null;){var b=ws(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Bn(b.pendingLanes);if(N!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var I=1<<31-Pe(N);O.entanglements[1]|=I,N&=~I}Ci(b),(rt&6)===0&&(bf=kn()+500,Lu(0))}}break;case 31:case 13:O=Tl(b,2),O!==null&&pr(O,b,2),_f(),Ug(b,2)}if(b=Hg(d),b===null&&Ag(i,l,d,Lf,u),b===g)break;g=b}g!==null&&d.stopPropagation()}else Ag(i,l,d,null,u)}}function Hg(i){return i=Fp(i),qg(i)}var Lf=null;function qg(i){if(Lf=null,i=_s(i),i!==null){var l=s(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=o(l),i!==null)return i;i=null}else if(u===31){if(i=c(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Lf=i,null}function UN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case de:return 2;case Ee:return 8;case Te:case bt:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var Fg=!1,Xa=null,Qa=null,Za=null,Fu=new Map,Ku=new Map,Ja=[],TL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $N(i,l){switch(i){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Fu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(l.pointerId)}}function Vu(i,l,u,d,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},l!==null&&(l=ws(l),l!==null&&zN(l)),i):(i.eventSystemFlags|=d,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function DL(i,l,u,d,g){switch(l){case"focusin":return Xa=Vu(Xa,i,l,u,d,g),!0;case"dragenter":return Qa=Vu(Qa,i,l,u,d,g),!0;case"mouseover":return Za=Vu(Za,i,l,u,d,g),!0;case"pointerover":var b=g.pointerId;return Fu.set(b,Vu(Fu.get(b)||null,i,l,u,d,g)),!0;case"gotpointercapture":return b=g.pointerId,Ku.set(b,Vu(Ku.get(b)||null,i,l,u,d,g)),!0}return!1}function HN(i){var l=_s(i.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){i.blockedOn=l,wi(i.priority,function(){BN(u)});return}}else if(l===31){if(l=c(u),l!==null){i.blockedOn=l,wi(i.priority,function(){BN(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zf(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Hg(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);qp=d,u.target.dispatchEvent(d),qp=null}else return l=ws(u),l!==null&&zN(l),i.blockedOn=u,!1;l.shift()}return!0}function qN(i,l,u){zf(i)&&u.delete(l)}function PL(){Fg=!1,Xa!==null&&zf(Xa)&&(Xa=null),Qa!==null&&zf(Qa)&&(Qa=null),Za!==null&&zf(Za)&&(Za=null),Fu.forEach(qN),Ku.forEach(qN)}function Bf(i,l){i.blockedOn===l&&(i.blockedOn=null,Fg||(Fg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PL)))}var Uf=null;function FN(i){Uf!==i&&(Uf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uf===i&&(Uf=null);for(var l=0;l<i.length;l+=3){var u=i[l],d=i[l+1],g=i[l+2];if(typeof d!="function"){if(qg(d||u)===null)continue;break}var b=ws(u);b!==null&&(i.splice(l,3),l-=3,Hv(b,{pending:!0,data:g,method:u.method,action:d},d,g))}}))}function ro(i){function l(I){return Bf(I,i)}Xa!==null&&Bf(Xa,i),Qa!==null&&Bf(Qa,i),Za!==null&&Bf(Za,i),Fu.forEach(l),Ku.forEach(l);for(var u=0;u<Ja.length;u++){var d=Ja[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ja.length&&(u=Ja[0],u.blockedOn===null);)HN(u),u.blockedOn===null&&Ja.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],b=u[d+1],N=g[gn]||null;if(typeof b=="function")N||FN(u);else if(N){var O=null;if(b&&b.hasAttribute("formAction")){if(g=b,N=b[gn]||null)O=N.formAction;else if(qg(g)!==null)continue}else O=N.action;typeof O=="function"?u[d+1]=O:(u.splice(d,3),d-=3),FN(u)}}}function KN(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return g=N})},focusReset:"manual",scroll:"manual"})}function l(){g!==null&&(g(),g=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),g!==null&&(g(),g=null)}}}function Kg(i){this._internalRoot=i}$f.prototype.render=Kg.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,d=Pr();kN(u,d,i,l,null,null)},$f.prototype.unmount=Kg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;kN(i.current,2,null,i,null,null),_f(),l[Nn]=null}};function $f(i){this._internalRoot=i}$f.prototype.unstable_scheduleHydration=function(i){if(i){var l=El();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Ja.length&&l!==0&&l<Ja[u].priority;u++);Ja.splice(u,0,i),u===0&&HN(i)}};var VN=t.version;if(VN!=="19.2.0")throw Error(r(527,VN,"19.2.0"));X.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var ML={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{xt=Hf.inject(ML),Be=Hf}catch{}}return Yu.createRoot=function(i,l){if(!a(i))throw Error(r(299));var u=!1,d="",g=JS,b=eE,N=tE;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=RN(i,1,!1,null,null,u,d,null,g,b,N,KN),i[Nn]=l.current,Cg(i),new Kg(l)},Yu.hydrateRoot=function(i,l,u){if(!a(i))throw Error(r(299));var d=!1,g="",b=JS,N=eE,O=tE,I=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.formState!==void 0&&(I=u.formState)),l=RN(i,1,!0,l,u??null,d,g,I,b,N,O,KN),l.context=IN(null),u=l.current,d=Pr(),d=Gn(d),g=za(d),g.callback=null,Ba(u,g,d),u=d,l.current.lanes=u,Nr(l,u),Ci(l),i[Nn]=l.current,Cg(i),new $f(l)},Yu.version="19.2.0",Yu}var nC;function VL(){if(nC)return Wg.exports;nC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wg.exports=KL(),Wg.exports}var GL=VL();const YL=Mi(GL);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rC="popstate";function WL(e={}){function t(a,s){let{pathname:o="/",search:c="",hash:f=""}=ps(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),X0("",{pathname:o,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let o=a.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof s=="string"?s:yc(s))}function r(a,s){Lr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return QL(t,n,r,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XL(){return Math.random().toString(36).substring(2,10)}function iC(e,t){return{usr:e.state,key:e.key,idx:t}}function X0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ps(t):t,state:n,key:t&&t.key||r||XL()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ps(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function QL(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,c="POP",f=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function v(){c="POP";let E=m(),C=E==null?null:E-h;h=E,f&&f({action:c,location:S.location,delta:C})}function y(E,C){c="PUSH";let j=X0(S.location,E,C);n&&n(j,E),h=m()+1;let A=iC(j,h),T=S.createHref(j);try{o.pushState(A,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(T)}s&&f&&f({action:c,location:S.location,delta:1})}function x(E,C){c="REPLACE";let j=X0(S.location,E,C);n&&n(j,E),h=m();let A=iC(j,h),T=S.createHref(j);o.replaceState(A,"",T),s&&f&&f({action:c,location:S.location,delta:0})}function w(E){return ZL(E)}let S={get action(){return c},get location(){return e(a,o)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(rC,v),f=E,()=>{a.removeEventListener(rC,v),f=null}},createHref(E){return t(a,E)},createURL:w,encodeLocation(E){let C=w(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(E){return o.go(E)}};return S}function ZL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:yc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function O2(e,t,n="/"){return JL(e,t,n,!1)}function JL(e,t,n,r){let a=typeof t=="string"?ps(t):t,s=fa(a.pathname||"/",n);if(s==null)return null;let o=j2(e);e6(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let h=d6(s);c=u6(o[f],h,r)}return c}function j2(e,t=[],n=[],r="",a=!1){let s=(o,c,f=a,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Ht(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=oa([r,m.relativePath]),y=n.concat(m);o.children&&o.children.length>0&&(Ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),j2(o.children,t,y,v,f)),!(o.path==null&&!o.index)&&t.push({path:v,score:s6(v,o.index),routesMeta:y})};return e.forEach((o,c)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))s(o,c);else for(let h of T2(o.path))s(o,c,!0,h)}),t}function T2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let o=T2(r.join("/")),c=[];return c.push(...o.map(f=>f===""?s:[s,f].join("/"))),a&&c.push(...o),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function e6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var t6=/^:[\w-]+$/,n6=3,r6=2,i6=1,a6=10,l6=-2,aC=e=>e==="*";function s6(e,t){let n=e.split("/"),r=n.length;return n.some(aC)&&(r+=l6),t&&(r+=r6),n.filter(a=>!aC(a)).reduce((a,s)=>a+(t6.test(s)?n6:s===""?i6:a6),r)}function o6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function u6(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",o=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",v=gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(a,v.params),o.push({params:a,pathname:oa([s,v.pathname]),pathnameBase:v6(oa([s,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(s=oa([s,v.pathnameBase]))}return o}function gh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=c6(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:v},y)=>{if(m==="*"){let w=c[y]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[y];return v&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:e}}function c6(e,t=!1,n=!0){Lr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function d6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var f6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h6=e=>f6.test(e);function m6(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ps(e):e,s;if(n)if(h6(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Lr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=lC(n.substring(1),"/"):s=lC(n,t)}else s=t;return{pathname:s,search:g6(r),hash:y6(a)}}function lC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Jg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gx(e){let t=p6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function yx(e,t,n,r=!1){let a;typeof e=="string"?a=ps(e):(a={...e},Ht(!a.pathname||!a.pathname.includes("?"),Jg("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),Jg("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),Jg("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=n;else{let v=t.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}c=v>=0?t[v]:"/"}let f=m6(a,c),h=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var oa=e=>e.join("/").replace(/\/\/+/g,"/"),v6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,y6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D2=["POST","PUT","PATCH","DELETE"];new Set(D2);var x6=["GET",...D2];new Set(x6);var Bo=_.createContext(null);Bo.displayName="DataRouter";var Om=_.createContext(null);Om.displayName="DataRouterState";_.createContext(!1);var P2=_.createContext({isTransitioning:!1});P2.displayName="ViewTransition";var _6=_.createContext(new Map);_6.displayName="Fetchers";var w6=_.createContext(null);w6.displayName="Await";var bi=_.createContext(null);bi.displayName="Navigation";var Gc=_.createContext(null);Gc.displayName="Location";var Ri=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var bx=_.createContext(null);bx.displayName="RouteError";function S6(e,{relative:t}={}){Ht(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(bi),{hash:a,pathname:s,search:o}=Wc(e,{relative:t}),c=s;return n!=="/"&&(c=s==="/"?n:oa([n,s])),r.createHref({pathname:c,search:o,hash:a})}function Uo(){return _.useContext(Gc)!=null}function Ii(){return Ht(Uo(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Gc).location}var M2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R2(e){_.useContext(bi).static||_.useLayoutEffect(e)}function Yc(){let{isDataRoute:e}=_.useContext(Ri);return e?k6():E6()}function E6(){Ht(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Bo),{basename:t,navigator:n}=_.useContext(bi),{matches:r}=_.useContext(Ri),{pathname:a}=Ii(),s=JSON.stringify(gx(r)),o=_.useRef(!1);return R2(()=>{o.current=!0}),_.useCallback((f,h={})=>{if(Lr(o.current,M2),!o.current)return;if(typeof f=="number"){n.go(f);return}let m=yx(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:oa([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,s,a,e])}_.createContext(null);function Wc(e,{relative:t}={}){let{matches:n}=_.useContext(Ri),{pathname:r}=Ii(),a=JSON.stringify(gx(n));return _.useMemo(()=>yx(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function N6(e,t){return I2(e,t)}function I2(e,t,n,r,a){var j;Ht(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(bi),{matches:o}=_.useContext(Ri),c=o[o.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let A=v&&v.path||"";k2(h,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Ii(),x;if(t){let A=typeof t=="string"?ps(t):t;Ht(m==="/"||((j=A.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=y;let w=x.pathname||"/",S=w;if(m!=="/"){let A=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=O2(e,{pathname:S});Lr(v||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Lr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=T6(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:oa([m,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:oa([m,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,n,r,a);return t&&C?_.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function C6(){let e=I6(),t=b6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:a},n):null,o)}var A6=_.createElement(C6,null),O6=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(Ri.Provider,{value:this.props.routeContext},_.createElement(bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j6({routeContext:e,match:t,children:n}){let r=_.useContext(Bo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ri.Provider,{value:e},n)}function T6(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let m=s.findIndex(v=>v.route.id&&(o==null?void 0:o[v.route.id])!==void 0);Ht(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<s.length;m++){let v=s[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:y,errors:x}=n,w=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||w){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(m,v)=>{var y,x;r(m,{location:n.location,params:((x=(y=n.matches)==null?void 0:y[0])==null?void 0:x.params)??{},errorInfo:v})}:void 0;return s.reduceRight((m,v,y)=>{let x,w=!1,S=null,E=null;n&&(x=o&&v.route.id?o[v.route.id]:void 0,S=v.route.errorElement||A6,c&&(f<0&&y===0?(k2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===y&&(w=!0,E=v.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,y+1)),j=()=>{let A;return x?A=S:w?A=E:v.route.Component?A=_.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=m,_.createElement(j6,{match:v,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:A})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?_.createElement(O6,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):j()},null)}function xx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D6(e){let t=_.useContext(Bo);return Ht(t,xx(e)),t}function P6(e){let t=_.useContext(Om);return Ht(t,xx(e)),t}function M6(e){let t=_.useContext(Ri);return Ht(t,xx(e)),t}function _x(e){let t=M6(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function R6(){return _x("useRouteId")}function I6(){var r;let e=_.useContext(bx),t=P6("useRouteError"),n=_x("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function k6(){let{router:e}=D6("useNavigate"),t=_x("useNavigate"),n=_.useRef(!1);return R2(()=>{n.current=!0}),_.useCallback(async(a,s={})=>{Lr(n.current,M2),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var sC={};function k2(e,t,n){!t&&!sC[e]&&(sC[e]=!0,Lr(!1,n))}_.memo(L6);function L6({routes:e,future:t,state:n,unstable_onError:r}){return I2(e,void 0,n,r,t)}function ey({to:e,replace:t,state:n,relative:r}){Ht(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(bi);Lr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Ri),{pathname:o}=Ii(),c=Yc(),f=yx(e,gx(s),o,r==="path"),h=JSON.stringify(f);return _.useEffect(()=>{c(JSON.parse(h),{replace:t,state:n,relative:r})},[c,h,r,t,n]),null}function Zr(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){Ht(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof n=="string"&&(n=ps(n));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:y="default"}=n,x=_.useMemo(()=>{let w=fa(f,o);return w==null?null:{location:{pathname:w,search:h,hash:m,state:v,key:y},navigationType:r}},[o,f,h,m,v,y,r]);return Lr(x!=null,`<Router basename="${o}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(bi.Provider,{value:c},_.createElement(Gc.Provider,{children:t,value:x}))}function B6({children:e,location:t}){return N6(Q0(e),t)}function Q0(e,t=[]){let n=[];return _.Children.forEach(e,(r,a)=>{if(!_.isValidElement(r))return;let s=[...t,a];if(r.type===_.Fragment){n.push.apply(n,Q0(r.props.children,s));return}Ht(r.type===Zr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Q0(r.props.children,s)),n.push(o)}),n}var uh="get",ch="application/x-www-form-urlencoded";function jm(e){return e!=null&&typeof e.tagName=="string"}function U6(e){return jm(e)&&e.tagName.toLowerCase()==="button"}function $6(e){return jm(e)&&e.tagName.toLowerCase()==="form"}function H6(e){return jm(e)&&e.tagName.toLowerCase()==="input"}function q6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F6(e,t){return e.button===0&&(!t||t==="_self")&&!q6(e)}var qf=null;function K6(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var V6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ty(e){return e!=null&&!V6.has(e)?(Lr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):e}function G6(e,t){let n,r,a,s,o;if($6(e)){let c=e.getAttribute("action");r=c?fa(c,t):null,n=e.getAttribute("method")||uh,a=ty(e.getAttribute("enctype"))||ch,s=new FormData(e)}else if(U6(e)||H6(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(r=f?fa(f,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||uh,a=ty(e.getAttribute("formenctype"))||ty(c.getAttribute("enctype"))||ch,s=new FormData(c,e),!K6()){let{name:h,type:m,value:v}=e;if(m==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,v)}}else{if(jm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,r=null,a=ch,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y6(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&fa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function W6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Q6(e,t,n){let r=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await W6(s,n);return o.links?o.links():[]}return[]}));return t5(r.flat(1).filter(X6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oC(e,t,n,r,a,s){let o=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>{var m;return n[h].pathname!==f.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>o(f,h)||c(f,h)):s==="data"?t.filter((f,h)=>{var v;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Z6(e,t,{includeHydrateFallback:n}={}){return J6(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function J6(e){return[...new Set(e)]}function e5(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function t5(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let s=JSON.stringify(e5(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function L2(){let e=_.useContext(Bo);return wx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function n5(){let e=_.useContext(Om);return wx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sx=_.createContext(void 0);Sx.displayName="FrameworkContext";function z2(){let e=_.useContext(Sx);return wx(e,"You must render this element inside a <HydratedRouter> element"),e}function r5(e,t){let n=_.useContext(Sx),[r,a]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:v}=t,y=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=C=>{C.forEach(j=>{o(j.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[e]),_.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{a(!0)},w=()=>{a(!1),o(!1)};return n?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Wu(c,x),onBlur:Wu(f,w),onMouseEnter:Wu(h,x),onMouseLeave:Wu(m,w),onTouchStart:Wu(v,x)}]:[!1,y,{}]}function Wu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function i5({page:e,...t}){let{router:n}=L2(),r=_.useMemo(()=>O2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(l5,{page:e,matches:r,...t}):null}function a5(e){let{manifest:t,routeModules:n}=z2(),[r,a]=_.useState([]);return _.useEffect(()=>{let s=!1;return Q6(e,t,n).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,n]),r}function l5({page:e,matches:t,...n}){let r=Ii(),{manifest:a,routeModules:s}=z2(),{basename:o}=L2(),{loaderData:c,matches:f}=n5(),h=_.useMemo(()=>oC(e,t,f,a,r,"data"),[e,t,f,a,r]),m=_.useMemo(()=>oC(e,t,f,a,r,"assets"),[e,t,f,a,r]),v=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(C=>{var A;let j=a.routes[C.route.id];!j||!j.hasLoader||(!h.some(T=>T.route.id===C.route.id)&&C.route.id in c&&((A=s[C.route.id])!=null&&A.shouldRevalidate)||j.hasClientLoader?S=!0:w.add(C.route.id))}),w.size===0)return[];let E=Y6(e,o,"data");return S&&w.size>0&&E.searchParams.set("_routes",t.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[o,c,r,a,h,t,e,s]),y=_.useMemo(()=>Z6(m,a),[m,a]),x=a5(m);return _.createElement(_.Fragment,null,v.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:S})=>_.createElement("link",{key:w,nonce:n.nonce,...S})))}function s5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B2&&(window.__reactRouterVersion="7.9.6")}catch{}function o5({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=WL({window:n,v5Compat:!0}));let a=r.current,[s,o]=_.useState({action:a.action,location:a.location}),c=_.useCallback(f=>{_.startTransition(()=>o(f))},[o]);return _.useLayoutEffect(()=>a.listen(c),[a,c]),_.createElement(z6,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$2=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:o,state:c,target:f,to:h,preventScrollReset:m,viewTransition:v,...y},x){let{basename:w}=_.useContext(bi),S=typeof h=="string"&&U2.test(h),E,C=!1;if(typeof h=="string"&&S&&(E=h,B2))try{let te=new URL(window.location.href),U=h.startsWith("//")?new URL(te.protocol+h):new URL(h),$=fa(U.pathname,w);U.origin===te.origin&&$!=null?h=$+U.search+U.hash:C=!0}catch{Lr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=S6(h,{relative:a}),[A,T,D]=r5(r,y),M=d5(h,{replace:o,state:c,target:f,preventScrollReset:m,relative:a,viewTransition:v});function k(te){t&&t(te),te.defaultPrevented||M(te)}let K=_.createElement("a",{...y,...D,href:E||j,onClick:C||s?t:k,ref:s5(x,T),target:f,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?_.createElement(_.Fragment,null,K,_.createElement(i5,{page:j})):K});$2.displayName="Link";var H2=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:o,viewTransition:c,children:f,...h},m){let v=Wc(o,{relative:h.relative}),y=Ii(),x=_.useContext(Om),{navigator:w,basename:S}=_.useContext(bi),E=x!=null&&v5(v)&&c===!0,C=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,j=y.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&S&&(A=fa(A,S)||A);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=j===C||!a&&j.startsWith(C)&&j.charAt(T)==="/",M=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),k={isActive:D,isPending:M,isTransitioning:E},K=D?t:void 0,te;typeof r=="function"?te=r(k):te=[r,D?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(k):s;return _.createElement($2,{...h,"aria-current":K,className:te,ref:m,style:U,to:o,viewTransition:c},typeof f=="function"?f(k):f)});H2.displayName="NavLink";var u5=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:o=uh,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:v,...y},x)=>{let w=m5(),S=p5(c,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&U2.test(c),j=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,D=(T==null?void 0:T.getAttribute("formmethod"))||o;w(T||A.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:a,state:s,relative:h,preventScrollReset:m,viewTransition:v})};return _.createElement("form",{ref:x,method:E,action:S,onSubmit:r?f:j,...y,"data-discover":!C&&e==="render"?"true":void 0})});u5.displayName="Form";function c5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(e){let t=_.useContext(Bo);return Ht(t,c5(e)),t}function d5(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:o}={}){let c=Yc(),f=Ii(),h=Wc(e,{relative:s});return _.useCallback(m=>{if(F6(m,t)){m.preventDefault();let v=n!==void 0?n:yc(f)===yc(h);c(e,{replace:v,state:r,preventScrollReset:a,relative:s,viewTransition:o})}},[f,c,h,n,r,t,e,a,s,o])}var f5=0,h5=()=>`__${String(++f5)}__`;function m5(){let{router:e}=q2("useSubmit"),{basename:t}=_.useContext(bi),n=R6();return _.useCallback(async(r,a={})=>{let{action:s,method:o,encType:c,formData:f,body:h}=G6(r,t);if(a.navigate===!1){let m=a.fetcherKey||h5();await e.fetch(m,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function p5(e,{relative:t}={}){let{basename:n}=_.useContext(bi),r=_.useContext(Ri);Ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Wc(e||".",{relative:t})},o=Ii();if(e==null){s.search=o.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:oa([n,s.pathname])),yc(s)}function v5(e,{relative:t}={}){let n=_.useContext(P2);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q2("useViewTransitionState"),a=Wc(e,{relative:t});if(!n.isTransitioning)return!1;let s=fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gh(a.pathname,o)!=null||gh(a.pathname,s)!=null}var F2=A2();const g5=()=>{const{currentUser:e,setShowEndShiftModal:t}=or(),n=[{name:"Dashboard",path:"/"},{name:"POS / Billing",path:"/pos"},{name:"Tables",path:"/tables"},{name:"Kitchen (KOT)",path:"/kitchen"},{name:"Inventory",path:"/inventory"},{name:"CRM",path:"/crm"},{name:"Reports",path:"/reports"},...(e==null?void 0:e.role)==="ADMIN"?[{name:"Settings",path:"/settings"}]:[]];return p.jsxs("div",{className:"w-64 bg-slate-900 text-white h-screen flex flex-col fixed left-0 top-0 z-50",children:[p.jsxs("div",{className:"p-6 border-b border-slate-700",children:[p.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-400 to-cyan-400 bg-clip-text text-transparent",children:"NexPOS"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Enterprise Edition"})]}),p.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:n.map(r=>p.jsx(H2,{to:r.path,className:({isActive:a})=>`flex items-center px-4 py-3 rounded-lg transition-colors ${a?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:p.jsx("span",{className:"font-medium",children:r.name})},r.path))}),p.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-800/50",children:[p.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 mb-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-xs font-bold shadow-md",children:e==null?void 0:e.name.charAt(0)}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"text-sm font-bold truncate",children:e==null?void 0:e.name}),p.jsx("p",{className:"text-xs text-slate-400",children:e==null?void 0:e.role})]})]}),p.jsxs("button",{onClick:()=>t(!0),className:"w-full bg-red-600/90 hover:bg-red-600 text-white text-xs font-bold py-2 rounded-lg transition-colors shadow-sm flex items-center justify-center gap-2",children:[p.jsx("span",{children:""})," End Shift"]})]})]})},y5=({children:e})=>{const t=Ii(),{currentUser:n}=or(),r=t.pathname==="/pos"||t.pathname==="/reports"||(n==null?void 0:n.role)==="CHEF";return p.jsxs("div",{className:"flex h-screen bg-slate-50",children:[!r&&p.jsx(g5,{}),p.jsx("div",{className:`flex-1 overflow-auto ${r?"":"ml-64"}`,children:e})]})};function K2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=K2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=K2(e))&&(r&&(r+=" "),r+=t);return r}var b5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ex(e){if(typeof e!="string")return!1;var t=b5;return t.includes(e)}var x5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_5=new Set(x5);function V2(e){return typeof e!="string"?!1:_5.has(e)}function G2(e){return typeof e=="string"&&e.startsWith("data-")}function xr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(V2(n)||G2(n))&&(t[n]=e[n]);return t}function is(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xr(t)}return typeof e=="object"&&!Array.isArray(e)?xr(e):null}function lr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(V2(n)||G2(n)||Ex(n))&&(t[n]=e[n]);return t}function w5(e){return e==null?null:_.isValidElement(e)?lr(e.props):typeof e=="object"&&!Array.isArray(e)?lr(e):null}var S5=["children","width","height","viewBox","className","style","title","desc"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(null,arguments)}function E5(e,t){if(e==null)return{};var n,r,a=N5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function N5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y2=_.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:o,style:c,title:f,desc:h}=e,m=E5(e,S5),v=s||{width:r,height:a,x:0,y:0},y=it("recharts-surface",o);return _.createElement("svg",Z0({},lr(m),{className:y,width:r,height:a,style:c,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),C5=["children","className"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(null,arguments)}function A5(e,t){if(e==null)return{};var n,r,a=O5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var an=_.forwardRef((e,t)=>{var{children:n,className:r}=e,a=A5(e,C5),s=it("recharts-layer",r);return _.createElement("g",J0({className:s},lr(a),{ref:t}),n)}),j5=_.createContext(null);function Ct(e){return function(){return e}}const W2=Math.cos,yh=Math.sin,xi=Math.sqrt,bh=Math.PI,Tm=2*bh,eb=Math.PI,tb=2*eb,Fl=1e-6,T5=tb-Fl;function X2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function D5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X2;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}let P5=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X2:D5(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,f=r-t,h=a-n,m=o-t,v=c-n,y=m*m+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Fl)if(!(Math.abs(v*f-h*m)>Fl)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,w=a-c,S=f*f+h*h,E=x*x+w*w,C=Math.sqrt(S),j=Math.sqrt(y),A=s*Math.tan((eb-Math.acos((S+y-E)/(2*C*j)))/2),T=A/j,D=A/C;Math.abs(T-1)>Fl&&this._append`L${t+T*m},${n+T*v}`,this._append`A${s},${s},0,0,${+(v*x>m*w)},${this._x1=t+D*f},${this._y1=n+D*h}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),f=r*Math.sin(a),h=t+c,m=n+f,v=1^o,y=o?a-s:s-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Fl||Math.abs(this._y1-m)>Fl)&&this._append`L${h},${m}`,r&&(y<0&&(y=y%tb+tb),y>T5?this._append`A${r},${r},0,1,${v},${t-c},${n-f}A${r},${r},0,1,${v},${this._x1=h},${this._y1=m}`:y>Fl&&this._append`A${r},${r},0,${+(y>=eb)},${v},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function Nx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new P5(t)}function Cx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q2(e){this._context=e}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dm(e){return new Q2(e)}function Z2(e){return e[0]}function J2(e){return e[1]}function eD(e,t){var n=Ct(!0),r=null,a=Dm,s=null,o=Nx(c);e=typeof e=="function"?e:e===void 0?Z2:Ct(e),t=typeof t=="function"?t:t===void 0?J2:Ct(t);function c(f){var h,m=(f=Cx(f)).length,v,y=!1,x;for(r==null&&(s=a(x=o())),h=0;h<=m;++h)!(h<m&&n(v=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(v,h,f),+t(v,h,f));if(x)return s=null,x+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),c):t},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ct(!!f),c):n},c.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),c):a},c.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),c):r},c}function Ff(e,t,n){var r=null,a=Ct(!0),s=null,o=Dm,c=null,f=Nx(h);e=typeof e=="function"?e:e===void 0?Z2:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?J2:Ct(+n);function h(v){var y,x,w,S=(v=Cx(v)).length,E,C=!1,j,A=new Array(S),T=new Array(S);for(s==null&&(c=o(j=f())),y=0;y<=S;++y){if(!(y<S&&a(E=v[y],y,v))===C)if(C=!C)x=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=y-1;w>=x;--w)c.point(A[w],T[w]);c.lineEnd(),c.areaEnd()}C&&(A[y]=+e(E,y,v),T[y]=+t(E,y,v),c.point(r?+r(E,y,v):A[y],n?+n(E,y,v):T[y]))}if(j)return c=null,j+""||null}function m(){return eD().defined(a).curve(o).context(s)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:Ct(+v),r=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Ct(+v),h):e},h.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Ct(+v),h):r},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:Ct(+v),n=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Ct(+v),h):t},h.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Ct(+v),h):n},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(n)},h.lineX1=function(){return m().x(r).y(t)},h.defined=function(v){return arguments.length?(a=typeof v=="function"?v:Ct(!!v),h):a},h.curve=function(v){return arguments.length?(o=v,s!=null&&(c=o(s)),h):o},h.context=function(v){return arguments.length?(v==null?s=c=null:c=o(s=v),h):s},h}class tD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function M5(e){return new tD(e,!0)}function R5(e){return new tD(e,!1)}const Ax={draw(e,t){const n=xi(t/bh);e.moveTo(n,0),e.arc(0,0,n,0,Tm)}},I5={draw(e,t){const n=xi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nD=xi(1/3),k5=nD*2,L5={draw(e,t){const n=xi(t/k5),r=n*nD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},z5={draw(e,t){const n=xi(t),r=-n/2;e.rect(r,r,n,n)}},B5=.8908130915292852,rD=yh(bh/10)/yh(7*bh/10),U5=yh(Tm/10)*rD,$5=-W2(Tm/10)*rD,H5={draw(e,t){const n=xi(t*B5),r=U5*n,a=$5*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const o=Tm*s/5,c=W2(o),f=yh(o);e.lineTo(f*n,-c*n),e.lineTo(c*r-f*a,f*r+c*a)}e.closePath()}},ny=xi(3),q5={draw(e,t){const n=-xi(t/(ny*3));e.moveTo(0,n*2),e.lineTo(-ny*n,-n),e.lineTo(ny*n,-n),e.closePath()}},Xr=-.5,Qr=xi(3)/2,nb=1/xi(12),F5=(nb/2+1)*3,K5={draw(e,t){const n=xi(t/F5),r=n/2,a=n*nb,s=r,o=n*nb+n,c=-s,f=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(c,f),e.lineTo(Xr*r-Qr*a,Qr*r+Xr*a),e.lineTo(Xr*s-Qr*o,Qr*s+Xr*o),e.lineTo(Xr*c-Qr*f,Qr*c+Xr*f),e.lineTo(Xr*r+Qr*a,Xr*a-Qr*r),e.lineTo(Xr*s+Qr*o,Xr*o-Qr*s),e.lineTo(Xr*c+Qr*f,Xr*f-Qr*c),e.closePath()}};function V5(e,t){let n=null,r=Nx(a);e=typeof e=="function"?e:Ct(e||Ax),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function xh(){}function _h(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iD(e){this._context=e}iD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_h(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G5(e){return new iD(e)}function aD(e){this._context=e}aD.prototype={areaStart:xh,areaEnd:xh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y5(e){return new aD(e)}function lD(e){this._context=e}lD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W5(e){return new lD(e)}function sD(e){this._context=e}sD.prototype={areaStart:xh,areaEnd:xh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function X5(e){return new sD(e)}function uC(e){return e<0?-1:1}function cC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),c=(s*a+o*r)/(r+a);return(uC(s)+uC(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function dC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ry(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,c=(s-r)/3;e._context.bezierCurveTo(r+c,a+c*t,s-c,o-c*n,s,o)}function wh(e){this._context=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ry(this,this._t0,dC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ry(this,dC(this,n=cC(this,e,t)),n);break;default:ry(this,this._t0,n=cC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function oD(e){this._context=new uD(e)}(oD.prototype=Object.create(wh.prototype)).point=function(e,t){wh.prototype.point.call(this,t,e)};function uD(e){this._context=e}uD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function Q5(e){return new wh(e)}function Z5(e){return new oD(e)}function cD(e){this._context=e}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=fC(e),a=fC(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fC(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function J5(e){return new cD(e)}function Pm(e,t){this._context=e,this._t=t}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ez(e){return new Pm(e,.5)}function tz(e){return new Pm(e,0)}function nz(e){return new Pm(e,1)}function So(e,t){if((o=e.length)>1)for(var n=1,r,a,s=e[t[0]],o,c=s.length;n<o;++n)for(a=s,s=e[t[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function rb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function rz(e,t){return e[t]}function iz(e){const t=[];return t.key=e,t}function az(){var e=Ct([]),t=rb,n=So,r=rz;function a(s){var o=Array.from(e.apply(this,arguments),iz),c,f=o.length,h=-1,m;for(const v of s)for(c=0,++h;c<f;++c)(o[c][h]=[0,+r(v,o[c].key,h,s)]).data=v;for(c=0,m=Cx(t(o));c<f;++c)o[m[c]].index=c;return n(o,m),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ct(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?rb:typeof s=="function"?s:Ct(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??So,a):n},a}function lz(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,o;a<s;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}So(e,t)}}function sz(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var o=0,c=0;o<a;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}So(e,t)}}function oz(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,o;r<s;++r){for(var c=0,f=0,h=0;c<o;++c){for(var m=e[t[c]],v=m[r][1]||0,y=m[r-1][1]||0,x=(v-y)/2,w=0;w<c;++w){var S=e[t[w]],E=S[r][1]||0,C=S[r-1][1]||0;x+=E-C}f+=v,h+=x*v}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,So(e,t)}}var iy={},ay={},hC;function uz(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(ay)),ay}var ly={},mC;function dD(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(ly)),ly}var sy={},pC;function Ox(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(sy)),sy}var oy={},uy={},vC;function cz(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(uy)),uy}var gC;function jx(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cz(),n=Ox();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let c=0,f="",h="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),c++);c<o;){const v=a[c];h?v==="\\"&&c+1<o?(c++,f+=a[c]):v===h?h="":f+=v:m?v==='"'||v==="'"?h=v:v==="]"?(m=!1,s.push(f),f=""):f+=v:v==="["?(m=!0,f&&(s.push(f),f="")):v==="."?f&&(s.push(f),f=""):f+=v,c++}return f&&s.push(f),s}e.toPath=r})(oy)),oy}var yC;function Tx(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uz(),n=dD(),r=Ox(),a=jx();function s(c,f,h){if(c==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?n.isDeepKey(f)?s(c,a.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?h:m}default:{if(Array.isArray(f))return o(c,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?h:m}}}function o(c,f,h){if(f.length===0)return h;let m=c;for(let v=0;v<f.length;v++){if(m==null||t.isUnsafeProperty(f[v]))return h;m=m[f[v]]}return m===void 0?h:m}e.get=s})(iy)),iy}var cy,bC;function dz(){return bC||(bC=1,cy=Tx().get),cy}var fz=dz();const as=Mi(fz);var Mn=e=>e===0?0:e>0?1:-1,ii=e=>typeof e=="number"&&e!=+e,ha=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ge=e=>(typeof e=="number"||e instanceof Number)&&!ii(e),Ti=e=>ge(e)||typeof e=="string",hz=0,bc=e=>{var t=++hz;return"".concat(e||"").concat(t)},Qn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&typeof t!="string")return r;var s;if(ha(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return ii(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},fD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function It(e,t,n){return ge(e)&&ge(t)?e+n*(t-e):t}function hD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):as(r,t))===n)}var Vt=e=>e===null||typeof e>"u",Xc=e=>Vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function mz(e){return e!=null}function Qc(){}var pz=["type","size","sizeType"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){vz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vz(e,t,n){return(t=gz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bz(e,t){if(e==null)return{};var n,r,a=xz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mD={symbolCircle:Ax,symbolCross:I5,symbolDiamond:L5,symbolSquare:z5,symbolStar:H5,symbolTriangle:q5,symbolWye:K5},_z=Math.PI/180,wz=e=>{var t="symbol".concat(Xc(e));return mD[t]||Ax},Sz=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*_z;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ez=(e,t)=>{mD["symbol".concat(Xc(e))]=t},pD=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=bz(e,pz),s=_C(_C({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var y=wz(o),x=V5().type(y).size(Sz(n,r,o)),w=x();if(w!==null)return w},{className:f,cx:h,cy:m}=s,v=lr(s);return ge(h)&&ge(m)&&ge(n)?_.createElement("path",ib({},v,{className:it("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};pD.registerSymbol=Ez;var vD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Dx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Ex(a)&&(r[a]=(s=>n[a](n,s)))}),r},Nz=(e,t,n)=>r=>(e(t,n,r),null),Mm=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];Ex(a)&&typeof s=="function"&&(r||(r={}),r[a]=Nz(s,t,n))}),r};function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){Az(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Az(e,t,n){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(e){var t=jz(e,"string");return typeof t=="symbol"?t:t+""}function jz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t){var n=Cz({},e),r=t,a=Object.keys(t),s=a.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return s}var dy={},fy={},SC;function Tz(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const o=n[s],c=r(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}e.uniqBy=t})(fy)),fy}var hy={},EC;function gD(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(hy)),hy}var my={},py={},vy={},NC;function Dz(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(vy)),vy}var CC;function Px(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dz();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(py)),py}var gy={},AC;function Pz(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(gy)),gy}var OC;function Mz(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Px(),n=Pz();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(my)),my}var yy={},by={},jC;function Rz(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tx();function n(r){return function(a){return t.get(a,r)}}e.property=n})(by)),by}var xy={},_y={},wy={},Sy={},TC;function yD(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Sy)),Sy}var Ey={},DC;function bD(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ey)),Ey}var Ny={},PC;function xD(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Ny)),Ny}var MC;function Iz(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yD(),n=bD(),r=xD();function a(m,v,y){return typeof y!="function"?a(m,v,()=>{}):s(m,v,function x(w,S,E,C,j,A){const T=y(w,S,E,C,j,A);return T!==void 0?!!T:s(w,S,x,A)},new Map)}function s(m,v,y,x){if(v===m)return!0;switch(typeof v){case"object":return o(m,v,y,x);case"function":return Object.keys(v).length>0?s(m,{...v},y,x):r.eq(m,v);default:return t.isObject(m)?typeof v=="string"?v==="":!0:r.eq(m,v)}}function o(m,v,y,x){if(v==null)return!0;if(Array.isArray(v))return f(m,v,y,x);if(v instanceof Map)return c(m,v,y,x);if(v instanceof Set)return h(m,v,y,x);const w=Object.keys(v);if(m==null)return w.length===0;if(w.length===0)return!0;if(x!=null&&x.has(v))return x.get(v)===m;x==null||x.set(v,m);try{for(let S=0;S<w.length;S++){const E=w[S];if(!n.isPrimitive(m)&&!(E in m)||v[E]===void 0&&m[E]!==void 0||v[E]===null&&m[E]!==null||!y(m[E],v[E],E,m,v,x))return!1}return!0}finally{x==null||x.delete(v)}}function c(m,v,y,x){if(v.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,S]of v.entries()){const E=m.get(w);if(y(E,S,w,m,v,x)===!1)return!1}return!0}function f(m,v,y,x){if(v.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let S=0;S<v.length;S++){const E=v[S];let C=!1;for(let j=0;j<m.length;j++){if(w.has(j))continue;const A=m[j];let T=!1;if(y(A,E,S,m,v,x)&&(T=!0),T){w.add(j),C=!0;break}}if(!C)return!1}return!0}function h(m,v,y,x){return v.size===0?!0:m instanceof Set?f([...m],[...v],y,x):!1}e.isMatchWith=a,e.isSetMatch=h})(wy)),wy}var RC;function _D(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(_y)),_y}var Cy={},Ay={},Oy={},IC;function kz(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Oy)),Oy}var jy={},kC;function wD(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(jy)),jy}var Ty={},LC;function SD(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",c="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",v="[object Function]",y="[object ArrayBuffer]",x="[object Object]",w="[object Error]",S="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",k="[object Int32Array]",K="[object BigInt64Array]",te="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=K,e.bigUint64ArrayTag=T,e.booleanTag=a,e.dataViewTag=S,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=te,e.float64ArrayTag=U,e.functionTag=v,e.int16ArrayTag=M,e.int32ArrayTag=k,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=A,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(Ty)),Ty}var Dy={},zC;function Lz(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Dy)),Dy}var BC;function ED(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kz(),n=wD(),r=SD(),a=bD(),s=Lz();function o(m,v){return c(m,void 0,m,new Map,v)}function c(m,v,y,x=new Map,w=void 0){const S=w==null?void 0:w(m,v,y,x);if(S!==void 0)return S;if(a.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const E=new Array(m.length);x.set(m,E);for(let C=0;C<m.length;C++)E[C]=c(m[C],C,y,x,w);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;x.set(m,E);for(const[C,j]of m)E.set(C,c(j,C,y,x,w));return E}if(m instanceof Set){const E=new Set;x.set(m,E);for(const C of m)E.add(c(C,void 0,y,x,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,E);for(let C=0;C<m.length;C++)E[C]=c(m[C],C,y,x,w);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,E),f(E,m,y,x,w),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return x.set(m,E),f(E,m,y,x,w),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return x.set(m,E),f(E,m,y,x,w),E}if(m instanceof Error){const E=new m.constructor;return x.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,f(E,m,y,x,w),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return x.set(m,E),f(E,m,y,x,w),E}if(m instanceof Number){const E=new Number(m.valueOf());return x.set(m,E),f(E,m,y,x,w),E}if(m instanceof String){const E=new String(m.valueOf());return x.set(m,E),f(E,m,y,x,w),E}if(typeof m=="object"&&h(m)){const E=Object.create(Object.getPrototypeOf(m));return x.set(m,E),f(E,m,y,x,w),E}return m}function f(m,v,y=m,x,w){const S=[...Object.keys(v),...t.getSymbols(v)];for(let E=0;E<S.length;E++){const C=S[E],j=Object.getOwnPropertyDescriptor(m,C);(j==null||j.writable)&&(m[C]=c(v[C],C,y,x,w))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=f})(Ay)),Ay}var UC;function zz(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Cy)),Cy}var $C;function Bz(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_D(),n=zz();function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r})(xy)),xy}var Py={},My={},Ry={},HC;function Uz(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED(),n=SD();function r(a,s){return t.cloneDeepWith(a,(o,c,f,h)=>{const m=s==null?void 0:s(o,c,f,h);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(v,a),v}case n.argumentsTag:{const v={};return t.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}})}e.cloneDeepWith=r})(Ry)),Ry}var qC;function $z(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(My)),My}var Iy={},ky={},FC;function ND(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(ky)),ky}var Ly={},KC;function Hz(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ly)),Ly}var VC;function qz(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dD(),n=ND(),r=Hz(),a=jx();function s(o,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&t.isDeepKey(c)&&(o==null?void 0:o[c])==null?f=a.toPath(c):f=[c],f.length===0)return!1;let h=o;for(let m=0;m<f.length;m++){const v=f[m];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}e.has=s})(Iy)),Iy}var GC;function Fz(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_D(),n=Ox(),r=$z(),a=Tx(),s=qz();function o(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(h){const m=a.get(h,c);return m===void 0?s.has(h,c):f===void 0?m===void 0:t.isMatch(m,f)}}e.matchesProperty=o})(Py)),Py}var YC;function Kz(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gD(),n=Rz(),r=Bz(),a=Fz();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(yy)),yy}var WC;function Vz(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tz(),n=gD(),r=Mz(),a=Kz();function s(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(c)):[]}e.uniqBy=s})(dy)),dy}var zy,XC;function Gz(){return XC||(XC=1,zy=Vz().uniqBy),zy}var Yz=Gz();const QC=Mi(Yz);function Wz(e,t,n){return t===!0?QC(e,n):typeof t=="function"?QC(e,t):e}var By={exports:{}},Uy={},$y={exports:{}},Hy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function Xz(){if(ZC)return Hy;ZC=1;var e=zo();function t(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function c(v,y){var x=y(),w=r({inst:{value:x,getSnapshot:y}}),S=w[0].inst,E=w[1];return s(function(){S.value=x,S.getSnapshot=y,f(S)&&E({inst:S})},[v,x,y]),a(function(){return f(S)&&E({inst:S}),v(function(){f(S)&&E({inst:S})})},[v]),o(x),x}function f(v){var y=v.getSnapshot;v=v.value;try{var x=y();return!n(v,x)}catch{return!0}}function h(v,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Hy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Hy}var JC;function Qz(){return JC||(JC=1,$y.exports=Xz()),$y.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function Zz(){if(eA)return Uy;eA=1;var e=zo(),t=Qz();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Uy.useSyncExternalStoreWithSelector=function(h,m,v,y,x){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function C(M){if(!j){if(j=!0,A=M,M=y(M),x!==void 0&&S.hasValue){var k=S.value;if(x(k,M))return T=k}return T=M}if(k=T,r(A,M))return k;var K=y(M);return x!==void 0&&x(k,K)?(A=M,k):(A=M,T=K)}var j=!1,A,T,D=v===void 0?null:v;return[function(){return C(m())},D===null?void 0:function(){return C(D())}]},[m,v,y,x]);var E=a(h,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),f(E),E},Uy}var tA;function Jz(){return tA||(tA=1,By.exports=Zz()),By.exports}var e8=Jz(),Mx=_.createContext(null),t8=e=>e,qt=()=>{var e=_.useContext(Mx);return e?e.store.dispatch:t8},dh=()=>{},n8=()=>dh,r8=(e,t)=>e===t;function _e(e){var t=_.useContext(Mx);return e8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:n8,t?t.store.getState:dh,t?t.store.getState:dh,t?e:dh,r8)}function i8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function a8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function l8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var nA=e=>Array.isArray(e)?e:[e];function s8(e){const t=Array.isArray(e[0])?e[0]:e;return l8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function o8(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var u8=class{constructor(e){this.value=e}deref(){return this.value}},c8=typeof WeakRef<"u"?WeakRef:u8,d8=0,rA=1;function Kf(){return{s:d8,v:void 0,o:null,p:null}}function CD(e,t={}){let n=Kf();const{resultEqualityCheck:r}=t;let a,s=0;function o(){var v;let c=n;const{length:f}=arguments;for(let y=0,x=f;y<x;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const E=S.get(w);E===void 0?(c=Kf(),S.set(w,c)):c=E}else{let S=c.p;S===null&&(c.p=S=new Map);const E=S.get(w);E===void 0?(c=Kf(),S.set(w,c)):c=E}}const h=c;let m;if(c.s===rA)m=c.v;else if(m=e.apply(null,arguments),s++,r){const y=((v=a==null?void 0:a.deref)==null?void 0:v.call(a))??a;y!=null&&r(y,m)&&(m=y,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new c8(m):m}return h.s=rA,h.v=m,m}return o.clearCache=()=>{n=Kf(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function f8(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,o=0,c,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),i8(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:v,memoizeOptions:y=[],argsMemoize:x=CD,argsMemoizeOptions:w=[]}=m,S=nA(y),E=nA(w),C=s8(a),j=v(function(){return s++,h.apply(null,arguments)},...S),A=x(function(){o++;const D=o8(C,arguments);return c=j.apply(null,D),c},...E);return Object.assign(A,{resultFunc:h,memoizedResultFunc:j,dependencies:C,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var V=f8(CD),h8=Object.assign((e,t=V)=>{a8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,c,f)=>(o[n[f]]=c,o),{}))},{withTypes:()=>h8}),qy={},Fy={},Ky={},iA;function m8(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const o=t(r),c=t(a);if(o===c&&o===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?c-o:o-c}return 0};e.compareValues=n})(Ky)),Ky}var Vy={},Gy={},aA;function AD(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Gy)),Gy}var lA;function p8(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AD(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(Vy)),Vy}var sA;function v8(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m8(),n=p8(),r=jx();function a(s,o,c,f){if(s==null)return[];c=f?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const h=(x,w)=>{let S=x;for(let E=0;E<w.length&&S!=null;++E)S=S[w[E]];return S},m=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:h(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?h(w,x):typeof w=="object"?w[x]:w,v=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:v.map(w=>m(w,x))})).slice().sort((x,w)=>{for(let S=0;S<v.length;S++){const E=t.compareValues(x.criteria[S],w.criteria[S],c[S]);if(E!==0)return E}return 0}).map(x=>x.original)}e.orderBy=a})(Fy)),Fy}var Yy={},oA;function g8(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),o=(c,f)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&f<s?o(m,f+1):a.push(m)}};return o(n,0),a}e.flatten=t})(Yy)),Yy}var Wy={},uA;function OD(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ND(),n=Px(),r=yD(),a=xD();function s(o,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&t.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?a.eq(f[c],o):!1}e.isIterateeCall=s})(Wy)),Wy}var cA;function y8(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v8(),n=g8(),r=OD();function a(s,...o){const c=o.length;return c>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=a})(qy)),qy}var Xy,dA;function b8(){return dA||(dA=1,Xy=y8().sortBy),Xy}var x8=b8();const Rm=Mi(x8);var jD=e=>e.legend.settings,_8=e=>e.legend.size,w8=e=>e.legend.payload;V([w8,jD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Rm(r,n):r});var Vf=1;function S8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Vf||Math.abs(o.left-t.left)>Vf||Math.abs(o.top-t.top)>Vf||Math.abs(o.width-t.width)>Vf)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var E8=typeof Symbol=="function"&&Symbol.observable||"@@observable",fA=E8,Qy=()=>Math.random().toString(36).substring(7).split("").join("."),N8={INIT:`@@redux/INIT${Qy()}`,REPLACE:`@@redux/REPLACE${Qy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qy()}`},Sh=N8;function Rx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function TD(e,t,n){if(typeof e!="function")throw new Error(Fn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(TD)(e,t)}let r=e,a=t,s=new Map,o=s,c=0,f=!1;function h(){o===s&&(o=new Map,s.forEach((E,C)=>{o.set(C,E)}))}function m(){if(f)throw new Error(Fn(3));return a}function v(E){if(typeof E!="function")throw new Error(Fn(4));if(f)throw new Error(Fn(5));let C=!0;h();const j=c++;return o.set(j,E),function(){if(C){if(f)throw new Error(Fn(6));C=!1,h(),o.delete(j),s=null}}}function y(E){if(!Rx(E))throw new Error(Fn(7));if(typeof E.type>"u")throw new Error(Fn(8));if(typeof E.type!="string")throw new Error(Fn(17));if(f)throw new Error(Fn(9));try{f=!0,a=r(a,E)}finally{f=!1}return(s=o).forEach(j=>{j()}),E}function x(E){if(typeof E!="function")throw new Error(Fn(10));r=E,y({type:Sh.REPLACE})}function w(){const E=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Fn(11));function j(){const T=C;T.next&&T.next(m())}return j(),{unsubscribe:E(j)}},[fA](){return this}}}return y({type:Sh.INIT}),{dispatch:y,subscribe:v,getState:m,replaceReducer:x,[fA]:w}}function C8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Sh.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:Sh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function DD(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{C8(n)}catch(s){a=s}return function(o={},c){if(a)throw a;let f=!1;const h={};for(let m=0;m<r.length;m++){const v=r[m],y=n[v],x=o[v],w=y(x,c);if(typeof w>"u")throw c&&c.type,new Error(Fn(14));h[v]=w,f=f||w!==x}return f=f||r.length!==Object.keys(o).length,f?h:o}}function Eh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function A8(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(Fn(15))};const o={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},c=e.map(f=>f(o));return s=Eh(...c)(a.dispatch),{...a,dispatch:s}}}function PD(e){return Rx(e)&&"type"in e&&typeof e.type=="string"}var MD=Symbol.for("immer-nothing"),hA=Symbol.for("immer-draftable"),sr=Symbol.for("immer-state");function di(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ir=Object,Eo=Ir.getPrototypeOf,Nh="constructor",Im="prototype",ab="configurable",Ch="enumerable",fh="writable",xc="value",ma=e=>!!e&&!!e[sr];function yi(e){var t;return e?RD(e)||km(e)||!!e[hA]||!!((t=e[Nh])!=null&&t[hA])||Lm(e)||zm(e):!1}var O8=Ir[Im][Nh].toString(),mA=new WeakMap;function RD(e){if(!e||!Ix(e))return!1;const t=Eo(e);if(t===null||t===Ir[Im])return!0;const n=Ir.hasOwnProperty.call(t,Nh)&&t[Nh];if(n===Object)return!0;if(!uo(n))return!1;let r=mA.get(n);return r===void 0&&(r=Function.toString.call(n),mA.set(n,r)),r===O8}function Zc(e,t,n=!0){Jc(e)===0?(n?Reflect.ownKeys(e):Ir.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Jc(e){const t=e[sr];return t?t.type_:km(e)?1:Lm(e)?2:zm(e)?3:0}var pA=(e,t,n=Jc(e))=>n===2?e.has(t):Ir[Im].hasOwnProperty.call(e,t),lb=(e,t,n=Jc(e))=>n===2?e.get(t):e[t],Ah=(e,t,n,r=Jc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function j8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var km=Array.isArray,Lm=e=>e instanceof Map,zm=e=>e instanceof Set,Ix=e=>typeof e=="object",uo=e=>typeof e=="function",Zy=e=>typeof e=="boolean",na=e=>e.copy_||e.base_,kx=e=>e.modified_?e.copy_:e.base_;function sb(e,t){if(Lm(e))return new Map(e);if(zm(e))return new Set(e);if(km(e))return Array[Im].slice.call(e);const n=RD(e);if(t===!0||t==="class_only"&&!n){const r=Ir.getOwnPropertyDescriptors(e);delete r[sr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],c=r[o];c[fh]===!1&&(c[fh]=!0,c[ab]=!0),(c.get||c.set)&&(r[o]={[ab]:!0,[fh]:!0,[Ch]:c[Ch],[xc]:e[o]})}return Ir.create(Eo(e),r)}else{const r=Eo(e);if(r!==null&&n)return{...e};const a=Ir.create(r);return Ir.assign(a,e)}}function Lx(e,t=!1){return Bm(e)||ma(e)||!yi(e)||(Jc(e)>1&&Ir.defineProperties(e,{set:Gf,add:Gf,clear:Gf,delete:Gf}),Ir.freeze(e),t&&Zc(e,(n,r)=>{Lx(r,!0)},!1)),e}function T8(){di(2)}var Gf={[xc]:T8};function Bm(e){return e===null||!Ix(e)?!0:Ir.isFrozen(e)}var Oh="MapSet",ob="Patches",ID={};function No(e){const t=ID[e];return t||di(0,e),t}var D8=e=>!!ID[e],_c,kD=()=>_c,P8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:D8(Oh)?No(Oh):void 0});function vA(e,t){t&&(e.patchPlugin_=No(ob),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ub(e){cb(e),e.drafts_.forEach(M8),e.drafts_=null}function cb(e){e===_c&&(_c=e.parent_)}var gA=e=>_c=P8(_c,e);function M8(e){const t=e[sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[sr].modified_&&(ub(t),di(4)),yi(e)&&(e=bA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[sr].base_,e,t)}else e=bA(t,n);return R8(t,e,!0),ub(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MD?e:void 0}function bA(e,t){if(Bm(t))return t;const n=t[sr];if(!n)return zx(t,e.handledSet_,e);if(!Um(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);BD(n,e)}return n.copy_}function R8(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Lx(t,n)}function LD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Um=(e,t)=>e.scope_===t,I8=[];function zD(e,t,n,r){const a=na(e),s=e.type_;if(r!==void 0&&lb(a,r,s)===t){Ah(a,r,n,s);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Zc(a,(f,h)=>{if(ma(h)){const m=c.get(h)||[];m.push(f),c.set(h,m)}})}const o=e.draftLocations_.get(t)??I8;for(const c of o)Ah(a,c,n,s)}function k8(e,t,n){e.callbacks_.push(function(a){var c;const s=t;if(!s||!Um(s,a))return;(c=a.mapSetPlugin_)==null||c.fixSetContents(s);const o=kx(s);zD(e,s.draft_??s,o,n),BD(s,a)})}function BD(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}LD(e)}}function L8(e,t,n){const{scope_:r}=e;if(ma(n)){const a=n[sr];Um(a,r)&&a.callbacks_.push(function(){hh(e);const o=kx(a);zD(e,n,o,t)})}else yi(n)&&e.callbacks_.push(function(){const s=na(e);lb(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zx(lb(e.copy_,t,e.type_),r.handledSet_,r)})}function zx(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ma(e)||t.has(e)||!yi(e)||Bm(e)||(t.add(e),Zc(e,(r,a)=>{if(ma(a)){const s=a[sr];if(Um(s,n)){const o=kx(s);Ah(e,r,o,e.type_),LD(s)}}else yi(a)&&zx(a,t,n)})),e}function z8(e,t){const n=km(e),r={type_:n?1:0,scope_:t?t.scope_:kD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=Bx;n&&(a=[r],s=wc);const{revoke:o,proxy:c}=Proxy.revocable(a,s);return r.draft_=c,r.revoke_=o,[c,r]}var Bx={get(e,t){if(t===sr)return e;const n=na(e);if(!pA(n,t,e.type_))return B8(e,n,t);const r=n[t];if(e.finalized_||!yi(r))return r;if(r===Jy(e.base_,t)){hh(e);const a=e.type_===1?+t:t,s=fb(e.scope_,r,e,a);return e.copy_[a]=s}return r},has(e,t){return t in na(e)},ownKeys(e){return Reflect.ownKeys(na(e))},set(e,t,n){const r=UD(na(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Jy(na(e),t),s=a==null?void 0:a[sr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(j8(n,a)&&(n!==void 0||pA(e.base_,t,e.type_)))return!0;hh(e),db(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),L8(e,t,n)),!0},deleteProperty(e,t){return hh(e),Jy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),db(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=na(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[fh]:!0,[ab]:e.type_!==1||t!=="length",[Ch]:r[Ch],[xc]:n[t]}},defineProperty(){di(11)},getPrototypeOf(e){return Eo(e.base_)},setPrototypeOf(){di(12)}},wc={};Zc(Bx,(e,t)=>{wc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});wc.deleteProperty=function(e,t){return wc.set.call(this,e,t,void 0)};wc.set=function(e,t,n){return Bx.set.call(this,e[0],t,n,e[0])};function Jy(e,t){const n=e[sr];return(n?na(n):e)[t]}function B8(e,t,n){var a;const r=UD(t,n);return r?xc in r?r[xc]:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function UD(e,t){if(!(t in e))return;let n=Eo(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Eo(n)}}function db(e){e.modified_||(e.modified_=!0,e.parent_&&db(e.parent_))}function hh(e){e.copy_||(e.assigned_=new Map,e.copy_=sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var U8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(uo(n)&&!uo(r)){const o=r;r=n;const c=this;return function(h=o,...m){return c.produce(h,v=>r.call(this,v,...m))}}uo(r)||di(6),a!==void 0&&!uo(a)&&di(7);let s;if(yi(n)){const o=gA(this),c=fb(o,n,void 0);let f=!0;try{s=r(c),f=!1}finally{f?ub(o):cb(o)}return vA(o,a),yA(s,o)}else if(!n||!Ix(n)){if(s=r(n),s===void 0&&(s=n),s===MD&&(s=void 0),this.autoFreeze_&&Lx(s,!0),a){const o=[],c=[];No(ob).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:c}),a(o,c)}return s}else di(1,n)},this.produceWithPatches=(n,r)=>{if(uo(n))return(c,...f)=>this.produceWithPatches(c,h=>n(h,...f));let a,s;return[this.produce(n,r,(c,f)=>{a=c,s=f}),a,s]},Zy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Zy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Zy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yi(t)||di(8),ma(t)&&(t=vi(t));const n=gA(this),r=fb(n,t,void 0);return r[sr].isManual_=!0,cb(n),r}finishDraft(t,n){const r=t&&t[sr];(!r||!r.isManual_)&&di(9);const{scope_:a}=r;return vA(a,n),yA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const a=No(ob).applyPatches_;return ma(t)?a(t,n):this.produce(t,s=>a(s,n))}};function fb(e,t,n,r){const[a,s]=Lm(t)?No(Oh).proxyMap_(t,n):zm(t)?No(Oh).proxySet_(t,n):z8(t,n);return((n==null?void 0:n.scope_)??kD()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?k8(n,s,r):s.callbacks_.push(function(f){var m;(m=f.mapSetPlugin_)==null||m.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function vi(e){return ma(e)||di(10,e),$D(e)}function $D(e){if(!yi(e)||Bm(e))return e;const t=e[sr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=sb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=sb(e,!0);return Zc(n,(a,s)=>{Ah(n,a,$D(s))},r),t&&(t.finalized_=!1),n}var $8=new U8,HD=$8.produce;function qD(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var H8=qD(),q8=qD,F8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eh:Eh.apply(null,arguments)};function ai(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(kr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PD(r)&&r.type===e,n}var FD=class uc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,uc.prototype)}static get[Symbol.species](){return uc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new uc(...t[0].concat(this)):new uc(...t.concat(this))}};function xA(e){return yi(e)?HD(e,()=>{}):e}function Yf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function K8(e){return typeof e=="boolean"}var V8=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new FD;return n&&(K8(n)?o.push(H8):o.push(q8(n.extraArgument))),o},KD="RTK_autoBatch",Bt=()=>e=>({payload:e,meta:{[KD]:!0}}),_A=e=>t=>{setTimeout(t,e)},VD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,o=!1;const c=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_A(10):e.type==="callback"?e.queueNotification:_A(e.timeout),h=()=>{o=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const v=()=>a&&m(),y=r.subscribe(v);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var v;try{return a=!((v=m==null?void 0:m.meta)!=null&&v[KD]),s=!a,s&&(o||(o=!0,f(h))),r.dispatch(m)}finally{a=!0}}})},G8=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new FD(e);return r&&a.push(VD(typeof r=="object"?r:void 0)),a};function Y8(e){const t=V8(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Rx(n))c=DD(n);else throw new Error(kr(1));let f;typeof r=="function"?f=r(t):f=t();let h=Eh;a&&(h=F8({trace:!1,...typeof a=="object"&&a}));const m=A8(...f),v=G8(m);let y=typeof o=="function"?o(v):v();const x=h(...y);return TD(c,s,x)}function GD(e){const t={},n=[];let r;const a={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(kr(28));if(c in t)throw new Error(kr(29));return t[c]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return n.push({matcher:s,reducer:o}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function W8(e){return typeof e=="function"}function X8(e,t){let[n,r,a]=GD(t),s;if(W8(e))s=()=>xA(e());else{const c=xA(e);s=()=>c}function o(c=s(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,v)=>{if(v)if(ma(m)){const x=v(m,f);return x===void 0?m:x}else{if(yi(m))return HD(m,y=>v(y,f));{const y=v(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=s,o}var Q8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Z8=(e=21)=>{let t="",n=e;for(;n--;)t+=Q8[Math.random()*64|0];return t},J8=Symbol.for("rtk-slice-createasyncthunk");function eB(e,t){return`${e}/${t}`}function tB({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[J8];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(kr(11));const c=(typeof a.reducers=="function"?a.reducers(rB()):a.reducers)||{},f=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,D){const M=typeof T=="string"?T:T.type;if(!M)throw new Error(kr(12));if(M in h.sliceCaseReducersByType)throw new Error(kr(13));return h.sliceCaseReducersByType[M]=D,m},addMatcher(T,D){return h.sliceMatchers.push({matcher:T,reducer:D}),m},exposeAction(T,D){return h.actionCreators[T]=D,m},exposeCaseReducer(T,D){return h.sliceCaseReducersByName[T]=D,m}};f.forEach(T=>{const D=c[T],M={reducerName:T,type:eB(s,T),createNotation:typeof a.reducers=="function"};aB(D)?sB(M,D,m,t):iB(M,D,m)});function v(){const[T={},D=[],M=void 0]=typeof a.extraReducers=="function"?GD(a.extraReducers):[a.extraReducers],k={...T,...h.sliceCaseReducersByType};return X8(a.initialState,K=>{for(let te in k)K.addCase(te,k[te]);for(let te of h.sliceMatchers)K.addMatcher(te.matcher,te.reducer);for(let te of D)K.addMatcher(te.matcher,te.reducer);M&&K.addDefaultCase(M)})}const y=T=>T,x=new Map,w=new WeakMap;let S;function E(T,D){return S||(S=v()),S(T,D)}function C(){return S||(S=v()),S.getInitialState()}function j(T,D=!1){function M(K){let te=K[T];return typeof te>"u"&&D&&(te=Yf(w,M,C)),te}function k(K=y){const te=Yf(x,D,()=>new WeakMap);return Yf(te,K,()=>{const U={};for(const[$,P]of Object.entries(a.selectors??{}))U[$]=nB(P,K,()=>Yf(w,K,C),D);return U})}return{reducerPath:T,getSelectors:k,get selectors(){return k(M)},selectSlice:M}}const A={name:s,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...j(o),injectInto(T,{reducerPath:D,...M}={}){const k=D??o;return T.inject({reducerPath:k,reducer:E},M),{...A,...j(k,!0)}}};return A}}function nB(e,t,n,r){function a(s,...o){let c=t(s);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return a.unwrapped=e,a}var _r=tB();function rB(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function iB({type:e,reducerName:t,createNotation:n},r,a){let s,o;if("reducer"in r){if(n&&!lB(r))throw new Error(kr(17));s=r.reducer,o=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?ai(e,o):ai(e))}function aB(e){return e._reducerDefinitionType==="asyncThunk"}function lB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sB({type:e,reducerName:t},n,r,a){if(!a)throw new Error(kr(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:f,settled:h,options:m}=n,v=a(e,s,m);r.exposeAction(t,v),o&&r.addCase(v.fulfilled,o),c&&r.addCase(v.pending,c),f&&r.addCase(v.rejected,f),h&&r.addMatcher(v.settled,h),r.exposeCaseReducer(t,{fulfilled:o||Wf,pending:c||Wf,rejected:f||Wf,settled:h||Wf})}function Wf(){}var oB="task",YD="listener",WD="completed",Ux="cancelled",uB=`task-${Ux}`,cB=`task-${WD}`,hb=`${YD}-${Ux}`,dB=`${YD}-${WD}`,$m=class{constructor(e){Vg(this,"name","TaskAbortError");Vg(this,"message");this.code=e,this.message=`${oB} ${Ux} (reason: ${e})`}},$x=(e,t)=>{if(typeof e!="function")throw new TypeError(kr(32))},jh=()=>{},XD=(e,t=jh)=>(e.catch(t),e),QD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},es=e=>{if(e.aborted){const{reason:t}=e;throw new $m(t)}};function ZD(e,t){let n=jh;return new Promise((r,a)=>{const s=()=>a(new $m(e.reason));if(e.aborted){s();return}n=QD(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=jh})}var fB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $m?"cancelled":"rejected",error:n}}finally{t==null||t()}},Th=e=>t=>XD(ZD(e,t).then(n=>(es(e),n))),JD=e=>{const t=Th(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:go}=Object,wA={},Hm="listenerMiddleware",hB=(e,t)=>{const n=r=>QD(e,()=>Jl(r,e.reason));return(r,a)=>{$x(r);const s=new AbortController;n(s);const o=fB(async()=>{es(e),es(s.signal);const c=await r({pause:Th(s.signal),delay:JD(s.signal),signal:s.signal});return es(s.signal),c},()=>Jl(s,cB));return a!=null&&a.autoJoin&&t.push(o.catch(jh)),{result:Th(e)(o),cancel(){Jl(s,uB)}}}},mB=(e,t)=>{const n=async(r,a)=>{es(t);let s=()=>{};const c=[new Promise((f,h)=>{let m=e({predicate:r,effect:(v,y)=>{y.unsubscribe(),f([v,y.getState(),y.getOriginalState()])}});s=()=>{m(),h()}})];a!=null&&c.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await ZD(t,Promise.race(c));return es(t),f}finally{s()}};return(r,a)=>XD(n(r,a))},eP=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=ai(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(kr(21));return $x(s),{predicate:a,type:t,effect:s}},tP=go(e=>{const{type:t,predicate:n,effect:r}=eP(e);return{id:Z8(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kr(22))}}},{withTypes:()=>tP}),SA=(e,t)=>{const{type:n,effect:r,predicate:a}=eP(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},mb=e=>{e.pending.forEach(t=>{Jl(t,hb)})},pB=(e,t)=>()=>{for(const n of t.keys())mb(n);e.clear()},EA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},nP=go(ai(`${Hm}/add`),{withTypes:()=>nP}),vB=ai(`${Hm}/removeAll`),rP=go(ai(`${Hm}/remove`),{withTypes:()=>rP}),gB=(...e)=>{console.error(`${Hm}/error`,...e)},ed=(e={})=>{const t=new Map,n=new Map,r=x=>{const w=n.get(x)??0;n.set(x,w+1)},a=x=>{const w=n.get(x)??1;w===1?n.delete(x):n.set(x,w-1)},{extra:s,onError:o=gB}=e;$x(o);const c=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),w=>{x.unsubscribe(),w!=null&&w.cancelActive&&mb(x)}),f=x=>{const w=SA(t,x)??tP(x);return c(w)};go(f,{withTypes:()=>f});const h=x=>{const w=SA(t,x);return w&&(w.unsubscribe(),x.cancelActive&&mb(w)),!!w};go(h,{withTypes:()=>h});const m=async(x,w,S,E)=>{const C=new AbortController,j=mB(f,C.signal),A=[];try{x.pending.add(C),r(x),await Promise.resolve(x.effect(w,go({},S,{getOriginalState:E,condition:(T,D)=>j(T,D).then(Boolean),take:j,delay:JD(C.signal),pause:Th(C.signal),extra:s,signal:C.signal,fork:hB(C.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,D,M)=>{T!==C&&(Jl(T,hb),M.delete(T))})},cancel:()=>{Jl(C,hb),x.pending.delete(C)},throwIfCancelled:()=>{es(C.signal)}})))}catch(T){T instanceof $m||EA(o,T,{raisedBy:"effect"})}finally{await Promise.all(A),Jl(C,dB),a(x),x.pending.delete(C)}},v=pB(t,n);return{middleware:x=>w=>S=>{if(!PD(S))return w(S);if(nP.match(S))return f(S.payload);if(vB.match(S)){v();return}if(rP.match(S))return h(S.payload);let E=x.getState();const C=()=>{if(E===wA)throw new Error(kr(23));return E};let j;try{if(j=w(S),t.size>0){const A=x.getState(),T=Array.from(t.values());for(const D of T){let M=!1;try{M=D.predicate(S,A,E)}catch(k){M=!1,EA(o,k,{raisedBy:"predicate"})}M&&m(D,S,x,C)}}}finally{E=wA}return j},startListening:f,stopListening:h,clearListeners:v}};function kr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iP=_r({name:"chartLayout",initialState:yB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:bB,setLayout:xB,setChartSize:_B,setScale:wB}=iP.actions,SB=iP.reducer;function aP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){EB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EB(e,t,n){return(t=NB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t,n){return Vt(e)||Vt(t)?n:Ti(t)?as(e,t,n):typeof t=="function"?t(e):n}var AB=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&s!=="center"&&ge(e[s]))return co(co({},e),{},{[s]:e[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&o!=="middle"&&ge(e[o]))return co(co({},e),{},{[o]:e[o]+(a||0)})}return e},wa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lP=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var a,s,o=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate));return a||o.push(t),s||o.push(n),o},sP=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:o,realScaleType:c,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:v,niceTicks:y,axisType:x}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=a==="category"&&o.bandwidth?o.bandwidth()/w:0;if(S=x==="angleAxis"&&s&&s.length>=2?Mn(s[0]-s[1])*2*S:S,v||y){var E=(v||y||[]).map((C,j)=>{var A=r?r.indexOf(C):C;return{coordinate:o(A)+S,value:C,offset:S,index:j}});return E.filter(C=>!ii(C.coordinate))}return f&&h?h.map((C,j)=>({coordinate:o(C)+S,value:C,index:j,offset:S})):o.ticks&&m!=null?o.ticks(m).map((C,j)=>({coordinate:o(C)+S,value:C,offset:S,index:j})):o.domain().map((C,j)=>({coordinate:o(C)+S,value:r?r[C]:C,index:j,offset:S}))},CA=1e-4,OB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-CA,s=Math.max(r[0],r[1])+CA,o=e(t[0]),c=e(t[n-1]);(o<a||o>s||c<a||c>s)&&e.domain([t[0],t[n-1]])}},jB=(e,t)=>{if(!t||t.length!==2||!ge(t[0])||!ge(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(a[0]=n),(!ge(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},TB=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,o=0;o<t;++o){var c=ii(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},DB=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var o=ii(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},PB={sign:TB,expand:lz,none:So,silhouette:sz,wiggle:oz,positive:DB},MB=(e,t,n)=>{var r=PB[n],a=az().keys(t).value((s,o)=>Number(St(s,o,0))).order(rb).offset(r);return a(e)};function oP(e){return e==null?void 0:String(e)}function AA(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vt(a[t.dataKey])){var c=hD(n,"value",a[t.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=St(a,Vt(o)?t.dataKey:o);return Vt(f)?null:t.scale(f)}var OA=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var c=St(s,t.dataKey,t.scale.domain()[o]);return Vt(c)?null:t.scale(c)-a/2+r},RB=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},IB=e=>{var t=e.flat(2).filter(ge);return[Math.min(...t),Math.max(...t)]},kB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],LB=(e,t,n)=>{if(e!=null)return kB(Object.keys(e).reduce((r,a)=>{var s=e[a],{stackedData:o}=s,c=o.reduce((f,h)=>{var m=aP(h,t,n),v=IB(m);return[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},jA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Co=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Rm(t,m=>m.coordinate),s=1/0,o=1,c=a.length;o<c;o++){var f=a[o],h=a[o-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function DA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return co(co({},t),{},{dataKey:n,payload:r,value:a,name:s})}function $o(e,t){if(e)return String(e);if(typeof t=="string")return t}var zB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},BB=(e,t)=>t==="centric"?e.angle:e.radius,Sa=e=>e.layout.width,Ea=e=>e.layout.height,UB=e=>e.layout.scale,uP=e=>e.layout.margin,qm=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Fm=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cP="data-recharts-item-index",dP="data-recharts-item-data-key",td=60;function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){$B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $B(e,t,n){return(t=HB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=e=>e.brush.height;function KB(e){var t=Fm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:td;return n+a}return n},0)}function VB(e){var t=Fm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:td;return n+a}return n},0)}function GB(e){var t=qm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function YB(e){var t=qm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _n=V([Sa,Ea,uP,FB,KB,VB,GB,YB,jD,_8],(e,t,n,r,a,s,o,c,f,h)=>{var m={left:(n.left||0)+a,right:(n.right||0)+s},v={top:(n.top||0)+o,bottom:(n.bottom||0)+c},y=Xf(Xf({},v),m),x=y.bottom;y.bottom+=r,y=AB(y,f,h);var w=e-y.left-y.right,S=t-y.top-y.bottom;return Xf(Xf({brushBottom:x},y),{},{width:Math.max(w,0),height:Math.max(S,0)})}),WB=V(_n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Hx=V(Sa,Ea,(e,t)=>({x:0,y:0,width:e,height:t})),XB=_.createContext(null),Zn=()=>_.useContext(XB)!=null,Km=e=>e.brush,Vm=V([Km,_n,uP],(e,t,n)=>({height:e.height,x:ge(e.x)?e.x:t.left,y:ge(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ge(e.width)?e.width:t.width})),e0={},t0={},n0={},MA;function QB(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let o,c=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},v=()=>{h&&m(),S()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{w(),o=void 0,c=null},E=()=>{m()},C=function(...j){if(a!=null&&a.aborted)return;o=this,c=j;const A=y==null;x(),f&&A&&m()};return C.schedule=x,C.cancel=S,C.flush=E,a==null||a.addEventListener("abort",S,{once:!0}),C}e.debounce=t})(n0)),n0}var RA;function ZB(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QB();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:c=!0,maxWait:f}=s,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let m,v=null;const y=t.debounce(function(...S){m=r.apply(this,S),v=null},a,{edges:h}),x=function(...S){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(m=r.apply(this,S),v=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,S),m)},w=()=>(y.flush(),m);return x.cancel=y.cancel,x.flush=w,x}e.debounce=n})(t0)),t0}var IA;function JB(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZB();function n(r,a=0,s={}){const{leading:o=!0,trailing:c=!0}=s;return t.debounce(r,a,{leading:o,maxWait:a,trailing:c})}e.throttle=n})(e0)),e0}var r0,kA;function eU(){return kA||(kA=1,r0=JB().throttle),r0}var tU=eU();const nU=Mi(tU);var Dh=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>a[o++]))}},fP=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:o}=n,c=ha(r)?e:Number(r),f=ha(a)?t:Number(a);return s&&s>0&&(c?f=c/s:f&&(c=f*s),o&&f!=null&&f>o&&(f=o)),{calculatedWidth:c,calculatedHeight:f}},rU={width:0,height:0,overflow:"visible"},iU={width:0,overflowX:"visible"},aU={height:0,overflowY:"visible"},lU={},sU=e=>{var{width:t,height:n}=e,r=ha(t),a=ha(n);return r&&a?rU:r?iU:a?aU:lU};function oU(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function kt(e){return Number.isFinite(e)}function Di(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(null,arguments)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){uU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uU(e,t,n){return(t=cU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=dU(e,"string");return typeof t=="symbol"?t:t+""}function dU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hP=_.createContext({width:-1,height:-1});function fU(e){return Di(e.width)&&Di(e.height)}function mP(e){var{children:t,width:n,height:r}=e,a=_.useMemo(()=>({width:n,height:r}),[n,r]);return fU(a)?_.createElement(hP.Provider,{value:a},t):null}var qx=()=>_.useContext(hP),hU=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:c,maxHeight:f,children:h,debounce:m=0,id:v,className:y,onResize:x,style:w={}}=e,S=_.useRef(null),E=_.useRef();E.current=x,_.useImperativeHandle(t,()=>S.current);var[C,j]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((K,te)=>{j(U=>{var $=Math.round(K),P=Math.round(te);return U.containerWidth===$&&U.containerHeight===P?U:{containerWidth:$,containerHeight:P}})},[]);_.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Qc;var K=P=>{var q,{width:ee,height:ae}=P[0].contentRect;A(ee,ae),(q=E.current)===null||q===void 0||q.call(E,ee,ae)};m>0&&(K=nU(K,m,{trailing:!0,leading:!1}));var te=new ResizeObserver(K),{width:U,height:$}=S.current.getBoundingClientRect();return A(U,$),te.observe(S.current),()=>{te.disconnect()}},[A,m]);var{containerWidth:T,containerHeight:D}=C;Dh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:k}=fP(T,D,{width:a,height:s,aspect:n,maxHeight:f});return Dh(M!=null&&M>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,k,a,s,o,c,n),_.createElement("div",{id:v?"".concat(v):void 0,className:it("recharts-responsive-container",y),style:zA(zA({},w),{},{width:a,height:s,minWidth:o,minHeight:c,maxHeight:f}),ref:S},_.createElement("div",{style:sU({width:a,height:s})},_.createElement(mP,{width:M,height:k},h)))}),fo=_.forwardRef((e,t)=>{var n=qx();if(Di(n.width)&&Di(n.height))return e.children;var{width:r,height:a}=oU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=fP(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ge(s)&&ge(o)?_.createElement(mP,{width:s,height:o},e.children):_.createElement(hU,pb({},e,{width:r,height:a,ref:t}))});function pP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Gm=()=>{var e,t=Zn(),n=_e(WB),r=_e(Vm),a=(e=_e(Km))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},mU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vP=()=>{var e;return(e=_e(_n))!==null&&e!==void 0?e:mU},gP=()=>_e(Sa),yP=()=>_e(Ea),Qe=e=>e.layout.layoutType,Ho=()=>_e(Qe),pU=()=>{var e=Ho();if(e==="horizontal"||e==="vertical")return e},vU=()=>{var e=Ho();return e!==void 0},Ym=e=>{var t=qt(),n=Zn(),{width:r,height:a}=e,s=qx(),o=r,c=a;return s&&(o=s.width>0?s.width:r,c=s.height>0?s.height:a),_.useEffect(()=>{!n&&Di(o)&&Di(c)&&t(_B({width:o,height:c}))},[t,n,o,c]),null},bP=Symbol.for("immer-nothing"),BA=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function fi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sc=Object.getPrototypeOf;function Ao(e){return!!e&&!!e[zr]}function ls(e){var t;return e?xP(e)||Array.isArray(e)||!!e[BA]||!!((t=e.constructor)!=null&&t[BA])||nd(e)||Xm(e):!1}var gU=Object.prototype.constructor.toString(),UA=new WeakMap;function xP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=UA.get(n);return r===void 0&&(r=Function.toString.call(n),UA.set(n,r)),r===gU}function Ph(e,t,n=!0){Wm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Wm(e){const t=e[zr];return t?t.type_:Array.isArray(e)?1:nd(e)?2:Xm(e)?3:0}function vb(e,t){return Wm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _P(e,t,n){const r=Wm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function yU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nd(e){return e instanceof Map}function Xm(e){return e instanceof Set}function Kl(e){return e.copy_||e.base_}function gb(e,t){if(nd(e))return new Map(e);if(Xm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=xP(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[zr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Sc(e),r)}else{const r=Sc(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Fx(e,t=!1){return Qm(e)||Ao(e)||!ls(e)||(Wm(e)>1&&Object.defineProperties(e,{set:Qf,add:Qf,clear:Qf,delete:Qf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Fx(n,!0))),e}function bU(){fi(2)}var Qf={value:bU};function Qm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xU={};function ss(e){const t=xU[e];return t||fi(0,e),t}var Ec;function wP(){return Ec}function _U(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $A(e,t){t&&(ss("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yb(e){bb(e),e.drafts_.forEach(wU),e.drafts_=null}function bb(e){e===Ec&&(Ec=e.parent_)}function HA(e){return Ec=_U(Ec,e)}function wU(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[zr].modified_&&(yb(t),fi(4)),ls(e)&&(e=Mh(t,e),t.parent_||Rh(t,e)),t.patches_&&ss("Patches").generateReplacementPatches_(n[zr].base_,e,t.patches_,t.inversePatches_)):e=Mh(t,n,[]),yb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bP?e:void 0}function Mh(e,t,n){if(Qm(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[zr];if(!a)return Ph(t,(s,o)=>FA(e,a,t,s,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Rh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,c=!1;a.type_===3&&(o=new Set(s),s.clear(),c=!0),Ph(o,(f,h)=>FA(e,a,s,f,h,n,c),r),Rh(e,s,!1),n&&e.patches_&&ss("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function FA(e,t,n,r,a,s,o){if(a==null||typeof a!="object"&&!o)return;const c=Qm(a);if(!(c&&!o)){if(Ao(a)){const f=s&&t&&t.type_!==3&&!vb(t.assigned_,r)?s.concat(r):void 0,h=Mh(e,a,f);if(_P(n,r,h),Ao(h))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(ls(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&c)return;Mh(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(nd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rh(e,a)}}}function Rh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fx(t,n)}function SU(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:wP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=Kx;n&&(a=[r],s=Nc);const{revoke:o,proxy:c}=Proxy.revocable(a,s);return r.draft_=c,r.revoke_=o,c}var Kx={get(e,t){if(t===zr)return e;const n=Kl(e);if(!vb(n,t))return EU(e,n,t);const r=n[t];return e.finalized_||!ls(r)?r:r===i0(e.base_,t)?(a0(e),e.copy_[t]=_b(r,e)):r},has(e,t){return t in Kl(e)},ownKeys(e){return Reflect.ownKeys(Kl(e))},set(e,t,n){const r=SP(Kl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=i0(Kl(e),t),s=a==null?void 0:a[zr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(yU(n,a)&&(n!==void 0||vb(e.base_,t)))return!0;a0(e),xb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return i0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,a0(e),xb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Kl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){fi(11)},getPrototypeOf(e){return Sc(e.base_)},setPrototypeOf(){fi(12)}},Nc={};Ph(Kx,(e,t)=>{Nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nc.deleteProperty=function(e,t){return Nc.set.call(this,e,t,void 0)};Nc.set=function(e,t,n){return Kx.set.call(this,e[0],t,n,e[0])};function i0(e,t){const n=e[zr];return(n?Kl(n):e)[t]}function EU(e,t,n){var a;const r=SP(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function SP(e,t){if(!(t in e))return;let n=Sc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Sc(n)}}function xb(e){e.modified_||(e.modified_=!0,e.parent_&&xb(e.parent_))}function a0(e){e.copy_||(e.copy_=gb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(f=s,...h){return o.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&fi(6),r!==void 0&&typeof r!="function"&&fi(7);let a;if(ls(t)){const s=HA(this),o=_b(t,void 0);let c=!0;try{a=n(o),c=!1}finally{c?yb(s):bb(s)}return $A(s,r),qA(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===bP&&(a=void 0),this.autoFreeze_&&Fx(a,!0),r){const s=[],o=[];ss("Patches").generateReplacementPatches_(t,a,s,o),r(s,o)}return a}else fi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,f=>t(f,...c));let r,a;return[this.produce(t,n,(o,c)=>{r=o,a=c}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ls(e)||fi(8),Ao(e)&&(e=CU(e));const t=HA(this),n=_b(e,void 0);return n[zr].isManual_=!0,bb(t),n}finishDraft(e,t){const n=e&&e[zr];(!n||!n.isManual_)&&fi(9);const{scope_:r}=n;return $A(r,t),qA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=ss("Patches").applyPatches_;return Ao(e)?r(e,t):this.produce(e,a=>r(a,t))}};function _b(e,t){const n=nd(e)?ss("MapSet").proxyMap_(e,t):Xm(e)?ss("MapSet").proxySet_(e,t):SU(e,t);return(t?t.scope_:wP()).drafts_.push(n),n}function CU(e){return Ao(e)||fi(10,e),EP(e)}function EP(e){if(!ls(e)||Qm(e))return e;const t=e[zr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gb(e,!0);return Ph(n,(a,s)=>{_P(n,a,EP(s))},r),t&&(t.finalized_=!1),n}var AU=new NU;AU.produce;var OU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NP=_r({name:"legend",initialState:OU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Bt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=vi(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Bt()},removeLegendPayload:{reducer(e,t){var n=vi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Bt()}}}),{setLegendSize:Nie,setLegendSettings:Cie,addLegendPayload:CP,replaceLegendPayload:AP,removeLegendPayload:OP}=NP.actions,jU=NP.reducer;function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){TU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TU(e,t,n){return(t=DU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e){var t=PU(e,"string");return typeof t=="symbol"?t:t+""}function PU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MU(e){return Array.isArray(e)&&Ti(e[0])&&Ti(e[1])?e.join(" ~ "):e}var RU=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:o,itemSorter:c,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:v,accessibilityLayer:y=!1}=e,x=()=>{if(s&&s.length){var D={padding:0,margin:0},M=(c?Rm(s,c):s).map((k,K)=>{if(k.type==="none")return null;var te=k.formatter||o||MU,{value:U,name:$}=k,P=U,q=$;if(te){var ee=te(U,$,k,K,s);if(Array.isArray(ee))[P,q]=ee;else if(ee!=null)P=ee;else return null}var ae=l0({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:ae},Ti(q)?_.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ti(q)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},P),_.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},w=l0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=l0({margin:0},a),E=!Vt(m),C=E?m:"",j=it("recharts-default-tooltip",f),A=it("recharts-tooltip-label",h);E&&v&&s!==void 0&&s!==null&&(C=v(m,s));var T=y?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",wb({className:j,style:w},T),_.createElement("p",{className:A,style:S},_.isValidElement(C)?C:"".concat(C)),x())},Xu="recharts-tooltip-wrapper",IU={visibility:"hidden"};function kU(e){var{coordinate:t,translateX:n,translateY:r}=e;return it(Xu,{["".concat(Xu,"-right")]:ge(n)&&t&&ge(t.x)&&n>=t.x,["".concat(Xu,"-left")]:ge(n)&&t&&ge(t.x)&&n<t.x,["".concat(Xu,"-bottom")]:ge(r)&&t&&ge(t.y)&&r>=t.y,["".concat(Xu,"-top")]:ge(r)&&t&&ge(t.y)&&r<t.y})}function VA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c,viewBox:f,viewBoxDimension:h}=e;if(s&&ge(s[r]))return s[r];var m=n[r]-c-(a>0?a:0),v=n[r]+a;if(t[r])return o[r]?m:v;var y=f[r];if(y==null)return 0;if(o[r]){var x=m,w=y;return x<w?Math.max(v,y):Math.max(m,y)}if(h==null)return 0;var S=v+c,E=y+h;return S>E?Math.max(m,y):Math.max(v,y)}function LU(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function zU(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:f}=e,h,m,v;return o.height>0&&o.width>0&&n?(m=VA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),v=VA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),h=LU({translateX:m,translateY:v,useTranslate3d:c})):h=IU,{cssProperties:h,cssClasses:kU({translateX:m,translateY:v,coordinate:n})}}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return(t=BU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BU(e){var t=UU(e,"string");return typeof t=="symbol"?t:t+""}function UU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $U extends _.PureComponent{constructor(){super(...arguments),Sb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:o,hasPayload:c,isAnimationActive:f,offset:h,position:m,reverseDirection:v,useTranslate3d:y,viewBox:x,wrapperStyle:w,lastBoundingBox:S,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:j,cssProperties:A}=zU({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:h,position:m,reverseDirection:v,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:x}),T=C?{}:Zf(Zf({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=Zf(Zf({},T),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:D,ref:E},s)}}var jP=()=>{var e;return(e=_e(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){HU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HU(e,t,n){return(t=qU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(e){var t=FU(e,"string");return typeof t=="symbol"?t:t+""}function FU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XA={curveBasisClosed:Y5,curveBasisOpen:W5,curveBasis:G5,curveBumpX:M5,curveBumpY:R5,curveLinearClosed:X5,curveLinear:Dm,curveMonotoneX:Q5,curveMonotoneY:Z5,curveNatural:J5,curveStep:ez,curveStepAfter:nz,curveStepBefore:tz},Ih=e=>kt(e.x)&&kt(e.y),QA=e=>e.base!=null&&Ih(e.base)&&Ih(e),Qu=e=>e.x,Zu=e=>e.y,KU=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Xc(e));return(n==="curveMonotone"||n==="curveBump")&&t?XA["".concat(n).concat(t==="vertical"?"Y":"X")]:XA[n]||Dm},VU=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=e,o=KU(t,a),c=s?n.filter(Ih):n,f;if(Array.isArray(r)){var h=n.map((x,w)=>WA(WA({},x),{},{base:r[w]}));a==="vertical"?f=Ff().y(Zu).x1(Qu).x0(x=>x.base.x):f=Ff().x(Qu).y1(Zu).y0(x=>x.base.y);var m=f.defined(QA).curve(o),v=s?h.filter(QA):h;return m(v)}a==="vertical"&&ge(r)?f=Ff().y(Zu).x1(Qu).x0(r):ge(r)?f=Ff().x(Qu).y1(Zu).y0(r):f=eD().x(Qu).y(Zu);var y=f.defined(Ih).curve(o);return y(c)},yo=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?VU(e):r;return _.createElement("path",Eb({},xr(e),Dx(e),{className:it("recharts-curve",t),d:s===null?void 0:s,ref:a}))},GU=["x","y","top","left","width","height","className"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(null,arguments)}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){WU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WU(e,t,n){return(t=XU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZU(e,t){if(e==null)return{};var n,r,a=JU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e$=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),t$=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:o=0,className:c}=e,f=ZU(e,GU),h=YU({x:t,y:n,top:r,left:a,width:s,height:o},f);return!ge(t)||!ge(n)||!ge(s)||!ge(o)||!ge(r)||!ge(a)?null:_.createElement("path",Nb({},lr(h),{className:it("recharts-cross",c),d:e$(t,n,s,o,r,a)}))};function n$(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){r$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r$(e,t,n){return(t=i$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TP=(e,t,n)=>e.map(r=>"".concat(l$(r)," ").concat(t,"ms ").concat(n)).join(","),s$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Cc=(e,t)=>Object.keys(t).reduce((n,r)=>eO(eO({},n),{},{[r]:e(r,t[r])}),{});function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){o$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o$(e,t,n){return(t=u$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u$(e){var t=c$(e,"string");return typeof t=="symbol"?t:t+""}function c$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kh=(e,t,n)=>e+(t-e)*n,Cb=e=>{var{from:t,to:n}=e;return t!==n},DP=(e,t,n)=>{var r=Cc((a,s)=>{if(Cb(s)){var[o,c]=e(s.from,s.to,s.velocity);return bn(bn({},s),{},{from:o,velocity:c})}return s},t);return n<1?Cc((a,s)=>Cb(s)?bn(bn({},s),{},{velocity:kh(s.velocity,r[a].velocity,n),from:kh(s.from,r[a].from,n)}):s,t):DP(e,r,n-1)};function d$(e,t,n,r,a,s){var o,c=r.reduce((y,x)=>bn(bn({},y),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>Cc((y,x)=>x.from,c),h=()=>!Object.values(c).filter(Cb).length,m=null,v=y=>{o||(o=y);var x=y-o,w=x/n.dt;c=DP(n,c,w),a(bn(bn(bn({},e),t),f())),o=y,h()||(m=s.setTimeout(v))};return()=>(m=s.setTimeout(v),()=>{var y;(y=m)===null||y===void 0||y()})}function f$(e,t,n,r,a,s,o){var c=null,f=a.reduce((v,y)=>bn(bn({},v),{},{[y]:[e[y],t[y]]}),{}),h,m=v=>{h||(h=v);var y=(v-h)/r,x=Cc((S,E)=>kh(...E,n(y)),f);if(s(bn(bn(bn({},e),t),x)),y<1)c=o.setTimeout(m);else{var w=Cc((S,E)=>kh(...E,n(1)),f);s(bn(bn(bn({},e),t),w))}};return()=>(c=o.setTimeout(m),()=>{var v;(v=c)===null||v===void 0||v()})}const h$=(e,t,n,r,a,s)=>{var o=s$(e,t);return n==null?()=>(a(bn(bn({},e),t)),()=>{}):n.isStepper===!0?d$(e,t,n,o,a,s):f$(e,t,n,r,o,a,s)};var Lh=1e-4,PP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],MP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nO=(e,t)=>n=>{var r=PP(e,t);return MP(r,n)},m$=(e,t)=>n=>{var r=PP(e,t),a=[...r.map((s,o)=>s*o).slice(1),0];return MP(a,n)},p$=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},v$=(e,t,n,r)=>{var a=nO(e,n),s=nO(t,r),o=m$(e,n),c=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,v=m,y=0;y<8;++y){var x=a(v)-m,w=o(v);if(Math.abs(x-m)<Lh||w<Lh)return s(v);v=c(v-x/w)}return s(v)};return f.isStepper=!1,f},rO=function(){return v$(...p$(...arguments))},g$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(o,c,f)=>{var h=-(o-c)*n,m=f*r,v=f+(h-m)*a/1e3,y=f*a/1e3+o;return Math.abs(y-c)<Lh&&Math.abs(v)<Lh?[c,0]:[y,v]};return s.isStepper=!0,s.dt=a,s},y$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rO(e);case"spring":return g$();default:if(e.split("(")[0]==="cubic-bezier")return rO(e)}return typeof e=="function"?e:null};function b$(e){var t,n=()=>null,r=!1,a=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[f,...h]=c;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class x${setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function _$(){return b$(new x$)}var w$=_.createContext(_$);function S$(e,t){var n=_.useContext(w$);return _.useMemo(()=>t??n(e),[e,t,n])}var E$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qo={devToolsEnabled:!1,isSsr:E$()},N$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iO={t:0},s0={t:1};function rd(e){var t=Rn(e,N$),{isActive:n,canBegin:r,duration:a,easing:s,begin:o,onAnimationEnd:c,onAnimationStart:f,children:h}=t,m=n==="auto"?!qo.isSsr:n,v=S$(t.animationId,t.animationManager),[y,x]=_.useState(m?iO:s0),w=_.useRef(null);return _.useEffect(()=>{m||x(s0)},[m]),_.useEffect(()=>{if(!m||!r)return Qc;var S=h$(iO,s0,y$(s),a,x,v.getTimeoutController()),E=()=>{w.current=S()};return v.start([f,o,E,a,c]),()=>{v.stop(),w.current&&w.current(),c()}},[m,r,a,s,o,f,c,v]),h(y.t)}function id(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(bc(t)),r=_.useRef(e);return r.current!==e&&(n.current=bc(t),r.current=e),n.current}var C$=["radius"],A$=["radius"];function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(r){O$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O$(e,t,n){return(t=j$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(null,arguments)}function sO(e,t){if(e==null)return{};var n,r,a=D$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oO=(e,t,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,y=4;v<y;v++)m[v]=a[v]>s?s:a[v];h="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(t)),h+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+o*m[1])),h+="L ".concat(e+n,",").concat(t+r-o*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),h+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-o*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(t,`
            L `).concat(e+n-c*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n-c*x,",").concat(t+r,`
            L `).concat(e+c*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+r-o*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},uO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RP=e=>{var t=Rn(e,uO),n=_.useRef(null),[r,a]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&a(X)}catch{}},[]);var{x:s,y:o,width:c,height:f,radius:h,className:m}=t,{animationEasing:v,animationDuration:y,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:S}=t,E=_.useRef(c),C=_.useRef(f),j=_.useRef(s),A=_.useRef(o),T=_.useMemo(()=>({x:s,y:o,width:c,height:f,radius:h}),[s,o,c,f,h]),D=id(T,"rectangle-");if(s!==+s||o!==+o||c!==+c||f!==+f||c===0||f===0)return null;var M=it("recharts-rectangle",m);if(!S){var k=lr(t),{radius:K}=k,te=sO(k,C$);return _.createElement("path",zh({},te,{radius:typeof h=="number"?h:void 0,className:M,d:oO(s,o,c,f,h)}))}var U=E.current,$=C.current,P=j.current,q=A.current,ee="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),L=TP(["strokeDasharray"],y,typeof v=="string"?v:uO.animationEasing);return _.createElement(rd,{animationId:D,key:D,canBegin:r>0,duration:y,easing:v,isActive:S,begin:x},X=>{var se=It(U,c,X),he=It($,f,X),ve=It(P,s,X),R=It(q,o,X);n.current&&(E.current=se,C.current=he,j.current=ve,A.current=R);var Z;w?X>0?Z={transition:L,strokeDasharray:ae}:Z={strokeDasharray:ee}:Z={strokeDasharray:ae};var ue=lr(t),{radius:oe}=ue,me=sO(ue,A$);return _.createElement("path",zh({},me,{radius:typeof h=="number"?h:void 0,className:M,d:oO(ve,R,se,he,h),ref:n,style:lO(lO({},Z),t.style)}))})};function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){P$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P$(e,t,n){return(t=M$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$(e){var t=R$(e,"string");return typeof t=="symbol"?t:t+""}function R$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bh=Math.PI/180,I$=e=>e*180/Math.PI,mn=(e,t,n,r)=>({x:e+Math.cos(-Bh*r)*n,y:t+Math.sin(-Bh*r)*n}),IP=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},k$=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},L$=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,o=k$({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var c=(n-a)/o,f=Math.acos(c);return r>s&&(f=2*Math.PI-f),{radius:o,angle:I$(f),angleInRadian:f}},z$=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},B$=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(a,s);return e+o*360},U$=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=L$({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(a<o||a>c||a===0)return null;var{startAngle:f,endAngle:h}=z$(t),m=s,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?dO(dO({},t),{},{radius:a,angle:B$(m,t)}):null};function kP(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,o=mn(t,n,r,a),c=mn(t,n,r,s);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}var $$=(e,t)=>{var n=Mn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Jf=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:o,cornerRadius:c,cornerIsExternal:f}=e,h=c*(o?1:-1)+r,m=Math.asin(c/h)/Bh,v=f?a:a+s*m,y=mn(t,n,h,v),x=mn(t,n,r,v),w=f?a-s*m:a,S=mn(t,n,h*Math.cos(m*Bh),w);return{center:y,circleTangency:x,lineTangency:S,theta:m}},LP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:o}=e,c=$$(s,o),f=s+c,h=mn(t,n,a,s),m=mn(t,n,a,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=mn(t,n,r,s),x=mn(t,n,r,f);v+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},H$=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:f,endAngle:h}=e,m=Mn(h-f),{circleTangency:v,lineTangency:y,theta:x}=Jf({cx:t,cy:n,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:S,theta:E}=Jf({cx:t,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=c?Math.abs(f-h):Math.abs(f-h)-x-E;if(C<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LP({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:T,theta:D}=Jf({cx:t,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:M,lineTangency:k,theta:K}=Jf({cx:t,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),te=c?Math.abs(f-h):Math.abs(f-h)-D-K;if(te<0&&s===0)return"".concat(j,"L").concat(t,",").concat(n,"Z");j+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(te>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(t,",").concat(n,"Z");return j},q$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zP=e=>{var t=Rn(e,q$),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m,className:v}=t;if(s<a||h===m)return null;var y=it("recharts-sector",v),x=s-a,w=Qn(o,x,0,!0),S;return w>0&&Math.abs(h-m)<360?S=H$({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):S=LP({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),_.createElement("path",Ab({},lr(t),{className:y,d:S}))};function F$(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(vD(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:o,angle:c}=t,f=mn(r,a,s,c),h=mn(r,a,o,c);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return kP(t)}}var o0={},u0={},c0={},fO;function K$(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AD();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(c0)),c0}var hO;function V$(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K$();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(u0)),u0}var mO;function G$(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OD(),n=V$();function r(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),o=o===void 0?a<s?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((s-a)/(o||1)),0),f=new Array(c);for(let h=0;h<c;h++)f[h]=a,a+=o;return f}e.range=r})(o0)),o0}var d0,pO;function Y$(){return pO||(pO=1,d0=G$().range),d0}var W$=Y$();const BP=Mi(W$);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vx(e){let t,n,r;e.length!==2?(t=sl,n=(c,f)=>sl(e(c),f),r=(c,f)=>e(c)-f):(t=e===sl||e===X$?e:Q$,n=e,r=e);function a(c,f,h=0,m=c.length){if(h<m){if(t(f,f)!==0)return m;do{const v=h+m>>>1;n(c[v],f)<0?h=v+1:m=v}while(h<m)}return h}function s(c,f,h=0,m=c.length){if(h<m){if(t(f,f)!==0)return m;do{const v=h+m>>>1;n(c[v],f)<=0?h=v+1:m=v}while(h<m)}return h}function o(c,f,h=0,m=c.length){const v=a(c,f,h,m-1);return v>h&&r(c[v-1],f)>-r(c[v],f)?v-1:v}return{left:a,center:o,right:s}}function Q$(){return 0}function UP(e){return e===null?NaN:+e}function*Z$(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const J$=Vx(sl),ad=J$.right;Vx(UP).center;class vO extends Map{constructor(t,n=n7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(gO(this,t))}has(t){return super.has(gO(this,t))}set(t,n){return super.set(e7(this,t),n)}delete(t){return super.delete(t7(this,t))}}function gO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function e7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function t7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function n7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function r7(e=sl){if(e===sl)return $P;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function $P(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i7=Math.sqrt(50),a7=Math.sqrt(10),l7=Math.sqrt(2);function Uh(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=i7?10:s>=a7?5:s>=l7?2:1;let c,f,h;return a<0?(h=Math.pow(10,-a)/o,c=Math.round(e*h),f=Math.round(t*h),c/h<e&&++c,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*o,c=Math.round(e/h),f=Math.round(t/h),c*h<e&&++c,f*h>t&&--f),f<c&&.5<=n&&n<2?Uh(e,t,n*2):[c,f,h]}function Ob(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?Uh(t,e,n):Uh(e,t,n);if(!(s>=a))return[];const c=s-a+1,f=new Array(c);if(r)if(o<0)for(let h=0;h<c;++h)f[h]=(s-h)/-o;else for(let h=0;h<c;++h)f[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)f[h]=(a+h)/-o;else for(let h=0;h<c;++h)f[h]=(a+h)*o;return f}function jb(e,t,n){return t=+t,e=+e,n=+n,Uh(e,t,n)[2]}function Tb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?jb(t,e,n):jb(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function yO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HP(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?$P:r7(a);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,m=Math.log(f),v=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*v*(f-v)/f)*(h-f/2<0?-1:1),x=Math.max(n,Math.floor(t-h*v/f+y)),w=Math.min(r,Math.floor(t+(f-h)*v/f+y));HP(e,t,x,w,a)}const s=e[t];let o=n,c=r;for(Ju(e,n,t),a(e[r],s)>0&&Ju(e,n,r);o<c;){for(Ju(e,o,c),++o,--c;a(e[o],s)<0;)++o;for(;a(e[c],s)>0;)--c}a(e[n],s)===0?Ju(e,n,c):(++c,Ju(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Ju(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function s7(e,t,n){if(e=Float64Array.from(Z$(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bO(e);if(t>=1)return yO(e);var r,a=(r-1)*t,s=Math.floor(a),o=yO(HP(e,s).subarray(0,s+1)),c=bO(e.subarray(s+1));return o+(c-o)*(a-s)}}function o7(e,t,n=UP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e),c=+n(e[s+1],s+1,e);return o+(c-o)*(a-s)}}function u7(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function si(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Db=Symbol("implicit");function Gx(){var e=new vO,t=[],n=[],r=Db;function a(s){let o=e.get(s);if(o===void 0){if(r!==Db)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new vO;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Gx(t,n).unknown(r)},si.apply(a,arguments),a}function Yx(){var e=Gx().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,c=!1,f=0,h=0,m=.5;delete e.unknown;function v(){var y=t().length,x=a<r,w=x?a:r,S=x?r:a;s=(S-w)/Math.max(1,y-f+h*2),c&&(s=Math.floor(s)),w+=(S-w-s*(y-f))*m,o=s*(1-f),c&&(w=Math.round(w),o=Math.round(o));var E=u7(y).map(function(C){return w+s*C});return n(x?E.reverse():E)}return e.domain=function(y){return arguments.length?(t(y),v()):t()},e.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,c=!0,v()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(y){return arguments.length?(c=!!y,v()):c},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),v()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),v()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,v()):h},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),v()):m},e.copy=function(){return Yx(t(),[r,a]).round(c).paddingInner(f).paddingOuter(h).align(m)},si.apply(v(),arguments)}function qP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qP(t())},e}function c7(){return qP(Yx.apply(null,arguments).paddingInner(1))}function Wx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ld(){}var Ac=.7,$h=1/Ac,bo="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d7=/^#([0-9a-f]{3,8})$/,f7=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),h7=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),m7=new RegExp(`^rgba\\(${bo},${bo},${bo},${Oc}\\)$`),p7=new RegExp(`^rgba\\(${ji},${ji},${ji},${Oc}\\)$`),v7=new RegExp(`^hsl\\(${Oc},${ji},${ji}\\)$`),g7=new RegExp(`^hsla\\(${Oc},${ji},${ji},${Oc}\\)$`),xO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wx(ld,jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_O,formatHex:_O,formatHex8:y7,formatHsl:b7,formatRgb:wO,toString:wO});function _O(){return this.rgb().formatHex()}function y7(){return this.rgb().formatHex8()}function b7(){return KP(this).formatHsl()}function wO(){return this.rgb().formatRgb()}function jc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?SO(t):n===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?eh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?eh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f7.exec(e))?new yr(t[1],t[2],t[3],1):(t=h7.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m7.exec(e))?eh(t[1],t[2],t[3],t[4]):(t=p7.exec(e))?eh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v7.exec(e))?CO(t[1],t[2]/100,t[3]/100,1):(t=g7.exec(e))?CO(t[1],t[2]/100,t[3]/100,t[4]):xO.hasOwnProperty(e)?SO(xO[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function SO(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function eh(e,t,n,r){return r<=0&&(e=t=n=NaN),new yr(e,t,n,r)}function x7(e){return e instanceof ld||(e=jc(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function Pb(e,t,n,r){return arguments.length===1?x7(e):new yr(e,t,n,r??1)}function yr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wx(yr,Pb,FP(ld,{brighter(e){return e=e==null?$h:Math.pow($h,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ac:Math.pow(Ac,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(ts(this.r),ts(this.g),ts(this.b),Hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EO,formatHex:EO,formatHex8:_7,formatRgb:NO,toString:NO}));function EO(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}`}function _7(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}${Wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function NO(){const e=Hh(this.opacity);return`${e===1?"rgb(":"rgba("}${ts(this.r)}, ${ts(this.g)}, ${ts(this.b)}${e===1?")":`, ${e})`}`}function Hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ts(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wl(e){return e=ts(e),(e<16?"0":"")+e.toString(16)}function CO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,n,r)}function KP(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof ld||(e=jc(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,c=s-a,f=(s+a)/2;return c?(t===s?o=(n-r)/c+(n<r)*6:n===s?o=(r-t)/c+2:o=(t-n)/c+4,c/=f<.5?s+a:2-s-a,o*=60):c=f>0&&f<1?0:o,new hi(o,c,f,e.opacity)}function w7(e,t,n,r){return arguments.length===1?KP(e):new hi(e,t,n,r??1)}function hi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wx(hi,w7,FP(ld,{brighter(e){return e=e==null?$h:Math.pow($h,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ac:Math.pow(Ac,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new yr(f0(e>=240?e-240:e+120,a,r),f0(e,a,r),f0(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new hi(AO(this.h),th(this.s),th(this.l),Hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hh(this.opacity);return`${e===1?"hsl(":"hsla("}${AO(this.h)}, ${th(this.s)*100}%, ${th(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AO(e){return e=(e||0)%360,e<0?e+360:e}function th(e){return Math.max(0,Math.min(1,e||0))}function f0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Xx=e=>()=>e;function S7(e,t){return function(n){return e+n*t}}function E7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function N7(e){return(e=+e)==1?VP:function(t,n){return n-t?E7(t,n,e):Xx(isNaN(t)?n:t)}}function VP(e,t){var n=t-e;return n?S7(e,n):Xx(isNaN(e)?t:e)}const OO=(function e(t){var n=N7(t);function r(a,s){var o=n((a=Pb(a)).r,(s=Pb(s)).r),c=n(a.g,s.g),f=n(a.b,s.b),h=VP(a.opacity,s.opacity);return function(m){return a.r=o(m),a.g=c(m),a.b=f(m),a.opacity=h(m),a+""}}return r.gamma=e,r})(1);function C7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function A7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=Fo(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(c){for(o=0;o<r;++o)s[o]=a[o](c);return s}}function j7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function T7(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Fo(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Mb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h0=new RegExp(Mb.source,"g");function D7(e){return function(){return e}}function P7(e){return function(t){return e(t)+""}}function M7(e,t){var n=Mb.lastIndex=h0.lastIndex=0,r,a,s,o=-1,c=[],f=[];for(e=e+"",t=t+"";(r=Mb.exec(e))&&(a=h0.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,f.push({i:o,x:qh(r,a)})),n=h0.lastIndex;return n<t.length&&(s=t.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?f[0]?P7(f[0].x):D7(t):(t=f.length,function(h){for(var m=0,v;m<t;++m)c[(v=f[m]).i]=v.x(h);return c.join("")})}function Fo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Xx(t):(n==="number"?qh:n==="string"?(r=jc(t))?(t=r,OO):M7:t instanceof jc?OO:t instanceof Date?j7:A7(t)?C7:Array.isArray(t)?O7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T7:qh)(e,t)}function Qx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function R7(e,t){t===void 0&&(t=e,e=Fo);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[c](o-c)}}function I7(e){return function(){return e}}function Fh(e){return+e}var jO=[0,1];function rr(e){return e}function Rb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:I7(isNaN(t)?NaN:.5)}function k7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function L7(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Rb(a,r),s=n(o,s)):(r=Rb(r,a),s=n(s,o)),function(c){return s(r(c))}}function z7(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Rb(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(c){var f=ad(e,c,1,r)-1;return s[f](a[f](c))}}function sd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zm(){var e=jO,t=jO,n=Fo,r,a,s,o=rr,c,f,h;function m(){var y=Math.min(e.length,t.length);return o!==rr&&(o=k7(e[0],e[y-1])),c=y>2?z7:L7,f=h=null,v}function v(y){return y==null||isNaN(y=+y)?s:(f||(f=c(e.map(r),t,n)))(r(o(y)))}return v.invert=function(y){return o(a((h||(h=c(t,e.map(r),qh)))(y)))},v.domain=function(y){return arguments.length?(e=Array.from(y,Fh),m()):e.slice()},v.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},v.rangeRound=function(y){return t=Array.from(y),n=Qx,m()},v.clamp=function(y){return arguments.length?(o=y?!0:rr,m()):o!==rr},v.interpolate=function(y){return arguments.length?(n=y,m()):n},v.unknown=function(y){return arguments.length?(s=y,v):s},function(y,x){return r=y,a=x,m()}}function Zx(){return Zm()(rr,rr)}function B7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Oo(e){return e=Kh(Math.abs(e)),e?e[1]:NaN}function U7(e,t){return function(n,r){for(var a=n.length,s=[],o=0,c=e[0],f=0;a>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(a-=c,a+c)),!((f+=c+1)>r));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function $7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var H7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=H7.exec(e)))throw new Error("invalid format: "+e);var t;return new Jx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=Jx.prototype;function Jx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q7(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var GP;function F7(e,t){var n=Kh(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(GP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kh(e,Math.max(0,t+s-1))[0]}function TO(e,t){var n=Kh(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const DO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:B7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TO(e*100,t),r:TO,s:F7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PO(e){return e}var MO=Array.prototype.map,RO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function K7(e){var t=e.grouping===void 0||e.thousands===void 0?PO:U7(MO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?PO:$7(MO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(v){v=Tc(v);var y=v.fill,x=v.align,w=v.sign,S=v.symbol,E=v.zero,C=v.width,j=v.comma,A=v.precision,T=v.trim,D=v.type;D==="n"?(j=!0,D="g"):DO[D]||(A===void 0&&(A=12),T=!0,D="g"),(E||y==="0"&&x==="=")&&(E=!0,y="0",x="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",k=S==="$"?r:/[%p]/.test(D)?o:"",K=DO[D],te=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U($){var P=M,q=k,ee,ae,L;if(D==="c")q=K($)+q,$="";else{$=+$;var X=$<0||1/$<0;if($=isNaN($)?f:K(Math.abs($),A),T&&($=q7($)),X&&+$==0&&w!=="+"&&(X=!1),P=(X?w==="("?w:c:w==="-"||w==="("?"":w)+P,q=(D==="s"?RO[8+GP/3]:"")+q+(X&&w==="("?")":""),te){for(ee=-1,ae=$.length;++ee<ae;)if(L=$.charCodeAt(ee),48>L||L>57){q=(L===46?a+$.slice(ee+1):$.slice(ee))+q,$=$.slice(0,ee);break}}}j&&!E&&($=t($,1/0));var se=P.length+$.length+q.length,he=se<C?new Array(C-se+1).join(y):"";switch(j&&E&&($=t(he+$,he.length?C-q.length:1/0),he=""),x){case"<":$=P+$+q+he;break;case"=":$=P+he+$+q;break;case"^":$=he.slice(0,se=he.length>>1)+P+$+q+he.slice(se);break;default:$=he+P+$+q;break}return s($)}return U.toString=function(){return v+""},U}function m(v,y){var x=h((v=Tc(v),v.type="f",v)),w=Math.max(-8,Math.min(8,Math.floor(Oo(y)/3)))*3,S=Math.pow(10,-w),E=RO[8+w/3];return function(C){return x(S*C)+E}}return{format:h,formatPrefix:m}}var nh,e_,YP;V7({thousands:",",grouping:[3],currency:["$",""]});function V7(e){return nh=K7(e),e_=nh.format,YP=nh.formatPrefix,nh}function G7(e){return Math.max(0,-Oo(Math.abs(e)))}function Y7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oo(t)/3)))*3-Oo(Math.abs(e)))}function W7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oo(t)-Oo(e))+1}function WP(e,t,n,r){var a=Tb(e,t,n),s;switch(r=Tc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Y7(a,o))&&(r.precision=s),YP(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=W7(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=G7(a))&&(r.precision=s-(r.type==="%")*2);break}}return e_(r)}function xl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ob(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return WP(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],c=r[s],f,h,m=10;for(c<o&&(h=o,o=c,c=h,h=a,a=s,s=h);m-- >0;){if(h=jb(o,c,n),h===f)return r[a]=o,r[s]=c,t(r);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;f=h}return e},e}function XP(){var e=Zx();return e.copy=function(){return sd(e,XP())},si.apply(e,arguments),xl(e)}function QP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Fh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return QP(e).unknown(t)},e=arguments.length?Array.from(e,Fh):[0,1],xl(n)}function ZP(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],o;return s<a&&(o=n,n=r,r=o,o=a,a=s,s=o),e[n]=t.floor(a),e[r]=t.ceil(s),e}function IO(e){return Math.log(e)}function kO(e){return Math.exp(e)}function X7(e){return-Math.log(-e)}function Q7(e){return-Math.exp(-e)}function Z7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function J7(e){return e===10?Z7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LO(e){return(t,n)=>-e(-t,n)}function t_(e){const t=e(IO,kO),n=t.domain;let r=10,a,s;function o(){return a=eH(r),s=J7(r),n()[0]<0?(a=LO(a),s=LO(s),e(X7,Q7)):e(IO,kO),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const f=n();let h=f[0],m=f[f.length-1];const v=m<h;v&&([h,m]=[m,h]);let y=a(h),x=a(m),w,S;const E=c==null?10:+c;let C=[];if(!(r%1)&&x-y<E){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(w=1;w<r;++w)if(S=y<0?w/s(-y):w*s(y),!(S<h)){if(S>m)break;C.push(S)}}else for(;y<=x;++y)for(w=r-1;w>=1;--w)if(S=y>0?w/s(-y):w*s(y),!(S<h)){if(S>m)break;C.push(S)}C.length*2<E&&(C=Ob(h,m,E))}else C=Ob(y,x,Math.min(x-y,E)).map(s);return v?C.reverse():C},t.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Tc(f)).precision==null&&(f.trim=!0),f=e_(f)),c===1/0)return f;const h=Math.max(1,r*c/t.ticks().length);return m=>{let v=m/s(Math.round(a(m)));return v*r<r-.5&&(v*=r),v<=h?f(m):""}},t.nice=()=>n(ZP(n(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),t}function JP(){const e=t_(Zm()).domain([1,10]);return e.copy=()=>sd(e,JP()).base(e.base()),si.apply(e,arguments),e}function zO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n_(e){var t=1,n=e(zO(t),BO(t));return n.constant=function(r){return arguments.length?e(zO(t=+r),BO(t)):t},xl(n)}function eM(){var e=n_(Zm());return e.copy=function(){return sd(e,eM()).constant(e.constant())},si.apply(e,arguments)}function UO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nH(e){return e<0?-e*e:e*e}function r_(e){var t=e(rr,rr),n=1;function r(){return n===1?e(rr,rr):n===.5?e(tH,nH):e(UO(n),UO(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},xl(t)}function i_(){var e=r_(Zm());return e.copy=function(){return sd(e,i_()).exponent(e.exponent())},si.apply(e,arguments),e}function rH(){return i_.apply(null,arguments).exponent(.5)}function $O(e){return Math.sign(e)*e*e}function iH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tM(){var e=Zx(),t=[0,1],n=!1,r;function a(s){var o=iH(e(s));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(s){return e.invert($O(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Fh)).map($O)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return tM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},si.apply(a,arguments),xl(a)}function nM(){var e=[],t=[],n=[],r;function a(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=o7(e,o/c);return s}function s(o){return o==null||isNaN(o=+o)?r:t[ad(n,o)]}return s.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(sl),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return nM().domain(e).range(t).unknown(r)},si.apply(s,arguments)}function rM(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function o(f){return f!=null&&f<=f?a[ad(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return o}return o.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,c()):[e,t]},o.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,c()):a.slice()},o.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},o.unknown=function(f){return arguments.length&&(s=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return rM().domain([e,t]).range(a).unknown(s)},si.apply(xl(o),arguments)}function iM(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[ad(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return iM().domain(e).range(t).unknown(n)},si.apply(a,arguments)}const m0=new Date,p0=new Date;function wn(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),c=a.ceil(s);return s-o<c-s?o:c},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,c)=>{const f=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return f;let h;do f.push(h=new Date(+s)),t(s,c),e(s);while(h<s&&s<o);return f},a.filter=s=>wn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!s(o););else for(;--c>=0;)for(;t(o,1),!s(o););}),n&&(a.count=(s,o)=>(m0.setTime(+s),p0.setTime(+o),e(m0),e(p0),Math.floor(n(m0,p0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?o=>r(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Vh=wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vh);Vh.range;const aa=1e3,ni=aa*60,la=ni*60,pa=la*24,a_=pa*7,HO=pa*30,v0=pa*365,Xl=wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCSeconds());Xl.range;const l_=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*aa)},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getMinutes());l_.range;const s_=wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getUTCMinutes());s_.range;const o_=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*aa-e.getMinutes()*ni)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getHours());o_.range;const u_=wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCHours());u_.range;const od=wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ni)/pa,e=>e.getDate()-1);od.range;const Jm=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>e.getUTCDate()-1);Jm.range;const aM=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>Math.floor(e/pa));aM.range;function vs(e){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ni)/a_)}const ep=vs(0),Gh=vs(1),aH=vs(2),lH=vs(3),jo=vs(4),sH=vs(5),oH=vs(6);ep.range;Gh.range;aH.range;lH.range;jo.range;sH.range;oH.range;function gs(e){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/a_)}const tp=gs(0),Yh=gs(1),uH=gs(2),cH=gs(3),To=gs(4),dH=gs(5),fH=gs(6);tp.range;Yh.range;uH.range;cH.range;To.range;dH.range;fH.range;const c_=wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());c_.range;const d_=wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d_.range;const va=wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});va.range;const ga=wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ga.range;function lM(e,t,n,r,a,s){const o=[[Xl,1,aa],[Xl,5,5*aa],[Xl,15,15*aa],[Xl,30,30*aa],[s,1,ni],[s,5,5*ni],[s,15,15*ni],[s,30,30*ni],[a,1,la],[a,3,3*la],[a,6,6*la],[a,12,12*la],[r,1,pa],[r,2,2*pa],[n,1,a_],[t,1,HO],[t,3,3*HO],[e,1,v0]];function c(h,m,v){const y=m<h;y&&([h,m]=[m,h]);const x=v&&typeof v.range=="function"?v:f(h,m,v),w=x?x.range(h,+m+1):[];return y?w.reverse():w}function f(h,m,v){const y=Math.abs(m-h)/v,x=Vx(([,,E])=>E).right(o,y);if(x===o.length)return e.every(Tb(h/v0,m/v0,v));if(x===0)return Vh.every(Math.max(Tb(h,m,v),1));const[w,S]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return w.every(S)}return[c,f]}const[hH,mH]=lM(ga,d_,tp,aM,u_,s_),[pH,vH]=lM(va,c_,ep,od,o_,l_);function g0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function y0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ec(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gH(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,c=e.months,f=e.shortMonths,h=tc(a),m=nc(a),v=tc(s),y=nc(s),x=tc(o),w=nc(o),S=tc(c),E=nc(c),C=tc(f),j=nc(f),A={a:X,A:se,b:he,B:ve,c:null,d:YO,e:YO,f:UH,g:XH,G:ZH,H:LH,I:zH,j:BH,L:sM,m:$H,M:HH,p:R,q:Z,Q:QO,s:ZO,S:qH,u:FH,U:KH,V:VH,w:GH,W:YH,x:null,X:null,y:WH,Y:QH,Z:JH,"%":XO},T={a:ue,A:oe,b:me,B:Oe,c:null,d:WO,e:WO,f:rq,g:hq,G:pq,H:eq,I:tq,j:nq,L:uM,m:iq,M:aq,p:je,q:nt,Q:QO,s:ZO,S:lq,u:sq,U:oq,V:uq,w:cq,W:dq,x:null,X:null,y:fq,Y:mq,Z:vq,"%":XO},D={a:U,A:$,b:P,B:q,c:ee,d:VO,e:VO,f:MH,g:KO,G:FO,H:GO,I:GO,j:jH,L:PH,m:OH,M:TH,p:te,q:AH,Q:IH,s:kH,S:DH,u:wH,U:SH,V:EH,w:_H,W:NH,x:ae,X:L,y:KO,Y:FO,Z:CH,"%":RH};A.x=M(n,A),A.X=M(r,A),A.c=M(t,A),T.x=M(n,T),T.X=M(r,T),T.c=M(t,T);function M(J,Ce){return function(Re){var le=[],Nt=-1,Le=0,W=J.length,pe,ye,Ie;for(Re instanceof Date||(Re=new Date(+Re));++Nt<W;)J.charCodeAt(Nt)===37&&(le.push(J.slice(Le,Nt)),(ye=qO[pe=J.charAt(++Nt)])!=null?pe=J.charAt(++Nt):ye=pe==="e"?" ":"0",(Ie=Ce[pe])&&(pe=Ie(Re,ye)),le.push(pe),Le=Nt+1);return le.push(J.slice(Le,Nt)),le.join("")}}function k(J,Ce){return function(Re){var le=ec(1900,void 0,1),Nt=K(le,J,Re+="",0),Le,W;if(Nt!=Re.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ce&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Le=y0(ec(le.y,0,1)),W=Le.getUTCDay(),Le=W>4||W===0?Yh.ceil(Le):Yh(Le),Le=Jm.offset(Le,(le.V-1)*7),le.y=Le.getUTCFullYear(),le.m=Le.getUTCMonth(),le.d=Le.getUTCDate()+(le.w+6)%7):(Le=g0(ec(le.y,0,1)),W=Le.getDay(),Le=W>4||W===0?Gh.ceil(Le):Gh(Le),Le=od.offset(Le,(le.V-1)*7),le.y=Le.getFullYear(),le.m=Le.getMonth(),le.d=Le.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),W="Z"in le?y0(ec(le.y,0,1)).getUTCDay():g0(ec(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(W+5)%7:le.w+le.U*7-(W+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,y0(le)):g0(le)}}function K(J,Ce,Re,le){for(var Nt=0,Le=Ce.length,W=Re.length,pe,ye;Nt<Le;){if(le>=W)return-1;if(pe=Ce.charCodeAt(Nt++),pe===37){if(pe=Ce.charAt(Nt++),ye=D[pe in qO?Ce.charAt(Nt++):pe],!ye||(le=ye(J,Re,le))<0)return-1}else if(pe!=Re.charCodeAt(le++))return-1}return le}function te(J,Ce,Re){var le=h.exec(Ce.slice(Re));return le?(J.p=m.get(le[0].toLowerCase()),Re+le[0].length):-1}function U(J,Ce,Re){var le=x.exec(Ce.slice(Re));return le?(J.w=w.get(le[0].toLowerCase()),Re+le[0].length):-1}function $(J,Ce,Re){var le=v.exec(Ce.slice(Re));return le?(J.w=y.get(le[0].toLowerCase()),Re+le[0].length):-1}function P(J,Ce,Re){var le=C.exec(Ce.slice(Re));return le?(J.m=j.get(le[0].toLowerCase()),Re+le[0].length):-1}function q(J,Ce,Re){var le=S.exec(Ce.slice(Re));return le?(J.m=E.get(le[0].toLowerCase()),Re+le[0].length):-1}function ee(J,Ce,Re){return K(J,t,Ce,Re)}function ae(J,Ce,Re){return K(J,n,Ce,Re)}function L(J,Ce,Re){return K(J,r,Ce,Re)}function X(J){return o[J.getDay()]}function se(J){return s[J.getDay()]}function he(J){return f[J.getMonth()]}function ve(J){return c[J.getMonth()]}function R(J){return a[+(J.getHours()>=12)]}function Z(J){return 1+~~(J.getMonth()/3)}function ue(J){return o[J.getUTCDay()]}function oe(J){return s[J.getUTCDay()]}function me(J){return f[J.getUTCMonth()]}function Oe(J){return c[J.getUTCMonth()]}function je(J){return a[+(J.getUTCHours()>=12)]}function nt(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Ce=M(J+="",A);return Ce.toString=function(){return J},Ce},parse:function(J){var Ce=k(J+="",!1);return Ce.toString=function(){return J},Ce},utcFormat:function(J){var Ce=M(J+="",T);return Ce.toString=function(){return J},Ce},utcParse:function(J){var Ce=k(J+="",!0);return Ce.toString=function(){return J},Ce}}}var qO={"-":"",_:" ",0:"0"},In=/^\s*\d+/,yH=/^%/,bH=/[\\^$*+?|[\]().{}]/g;function tt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function xH(e){return e.replace(bH,"\\$&")}function tc(e){return new RegExp("^(?:"+e.map(xH).join("|")+")","i")}function nc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _H(e,t,n){var r=In.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function wH(e,t,n){var r=In.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function SH(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function EH(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function NH(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function FO(e,t,n){var r=In.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function KO(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function CH(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AH(e,t,n){var r=In.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function OH(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VO(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function jH(e,t,n){var r=In.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function GO(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function TH(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function DH(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function PH(e,t,n){var r=In.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function MH(e,t,n){var r=In.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RH(e,t,n){var r=yH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function IH(e,t,n){var r=In.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kH(e,t,n){var r=In.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function YO(e,t){return tt(e.getDate(),t,2)}function LH(e,t){return tt(e.getHours(),t,2)}function zH(e,t){return tt(e.getHours()%12||12,t,2)}function BH(e,t){return tt(1+od.count(va(e),e),t,3)}function sM(e,t){return tt(e.getMilliseconds(),t,3)}function UH(e,t){return sM(e,t)+"000"}function $H(e,t){return tt(e.getMonth()+1,t,2)}function HH(e,t){return tt(e.getMinutes(),t,2)}function qH(e,t){return tt(e.getSeconds(),t,2)}function FH(e){var t=e.getDay();return t===0?7:t}function KH(e,t){return tt(ep.count(va(e)-1,e),t,2)}function oM(e){var t=e.getDay();return t>=4||t===0?jo(e):jo.ceil(e)}function VH(e,t){return e=oM(e),tt(jo.count(va(e),e)+(va(e).getDay()===4),t,2)}function GH(e){return e.getDay()}function YH(e,t){return tt(Gh.count(va(e)-1,e),t,2)}function WH(e,t){return tt(e.getFullYear()%100,t,2)}function XH(e,t){return e=oM(e),tt(e.getFullYear()%100,t,2)}function QH(e,t){return tt(e.getFullYear()%1e4,t,4)}function ZH(e,t){var n=e.getDay();return e=n>=4||n===0?jo(e):jo.ceil(e),tt(e.getFullYear()%1e4,t,4)}function JH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function WO(e,t){return tt(e.getUTCDate(),t,2)}function eq(e,t){return tt(e.getUTCHours(),t,2)}function tq(e,t){return tt(e.getUTCHours()%12||12,t,2)}function nq(e,t){return tt(1+Jm.count(ga(e),e),t,3)}function uM(e,t){return tt(e.getUTCMilliseconds(),t,3)}function rq(e,t){return uM(e,t)+"000"}function iq(e,t){return tt(e.getUTCMonth()+1,t,2)}function aq(e,t){return tt(e.getUTCMinutes(),t,2)}function lq(e,t){return tt(e.getUTCSeconds(),t,2)}function sq(e){var t=e.getUTCDay();return t===0?7:t}function oq(e,t){return tt(tp.count(ga(e)-1,e),t,2)}function cM(e){var t=e.getUTCDay();return t>=4||t===0?To(e):To.ceil(e)}function uq(e,t){return e=cM(e),tt(To.count(ga(e),e)+(ga(e).getUTCDay()===4),t,2)}function cq(e){return e.getUTCDay()}function dq(e,t){return tt(Yh.count(ga(e)-1,e),t,2)}function fq(e,t){return tt(e.getUTCFullYear()%100,t,2)}function hq(e,t){return e=cM(e),tt(e.getUTCFullYear()%100,t,2)}function mq(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function pq(e,t){var n=e.getUTCDay();return e=n>=4||n===0?To(e):To.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function vq(){return"+0000"}function XO(){return"%"}function QO(e){return+e}function ZO(e){return Math.floor(+e/1e3)}var io,dM,fM;gq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gq(e){return io=gH(e),dM=io.format,io.parse,fM=io.utcFormat,io.utcParse,io}function yq(e){return new Date(e)}function bq(e){return e instanceof Date?+e:+new Date(+e)}function f_(e,t,n,r,a,s,o,c,f,h){var m=Zx(),v=m.invert,y=m.domain,x=h(".%L"),w=h(":%S"),S=h("%I:%M"),E=h("%I %p"),C=h("%a %d"),j=h("%b %d"),A=h("%B"),T=h("%Y");function D(M){return(f(M)<M?x:c(M)<M?w:o(M)<M?S:s(M)<M?E:r(M)<M?a(M)<M?C:j:n(M)<M?A:T)(M)}return m.invert=function(M){return new Date(v(M))},m.domain=function(M){return arguments.length?y(Array.from(M,bq)):y().map(yq)},m.ticks=function(M){var k=y();return e(k[0],k[k.length-1],M??10)},m.tickFormat=function(M,k){return k==null?D:h(k)},m.nice=function(M){var k=y();return(!M||typeof M.range!="function")&&(M=t(k[0],k[k.length-1],M??10)),M?y(ZP(k,M)):m},m.copy=function(){return sd(m,f_(e,t,n,r,a,s,o,c,f,h))},m}function xq(){return si.apply(f_(pH,vH,va,c_,ep,od,o_,l_,Xl,dM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _q(){return si.apply(f_(hH,mH,ga,d_,tp,Jm,u_,s_,Xl,fM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var e=0,t=1,n,r,a,s,o=rr,c=!1,f;function h(v){return v==null||isNaN(v=+v)?f:o(a===0?.5:(v=(s(v)-n)*a,c?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(v){return arguments.length?(c=!!v,h):c},h.interpolator=function(v){return arguments.length?(o=v,h):o};function m(v){return function(y){var x,w;return arguments.length?([x,w]=y,o=v(x,w),h):[o(0),o(1)]}}return h.range=m(Fo),h.rangeRound=m(Qx),h.unknown=function(v){return arguments.length?(f=v,h):f},function(v){return s=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),h}}function _l(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hM(){var e=xl(np()(rr));return e.copy=function(){return _l(e,hM())},Na.apply(e,arguments)}function mM(){var e=t_(np()).domain([1,10]);return e.copy=function(){return _l(e,mM()).base(e.base())},Na.apply(e,arguments)}function pM(){var e=n_(np());return e.copy=function(){return _l(e,pM()).constant(e.constant())},Na.apply(e,arguments)}function h_(){var e=r_(np());return e.copy=function(){return _l(e,h_()).exponent(e.exponent())},Na.apply(e,arguments)}function wq(){return h_.apply(null,arguments).exponent(.5)}function vM(){var e=[],t=rr;function n(r){if(r!=null&&!isNaN(r=+r))return t((ad(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>s7(e,s/r))},n.copy=function(){return vM(t).domain(e)},Na.apply(n,arguments)}function rp(){var e=0,t=.5,n=1,r=1,a,s,o,c,f,h=rr,m,v=!1,y;function x(S){return isNaN(S=+S)?y:(S=.5+((S=+m(S))-s)*(r*S<r*s?c:f),h(v?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,n]=S,a=m(e=+e),s=m(t=+t),o=m(n=+n),c=a===s?0:.5/(s-a),f=s===o?0:.5/(o-s),r=s<a?-1:1,x):[e,t,n]},x.clamp=function(S){return arguments.length?(v=!!S,x):v},x.interpolator=function(S){return arguments.length?(h=S,x):h};function w(S){return function(E){var C,j,A;return arguments.length?([C,j,A]=E,h=R7(S,[C,j,A]),x):[h(0),h(.5),h(1)]}}return x.range=w(Fo),x.rangeRound=w(Qx),x.unknown=function(S){return arguments.length?(y=S,x):y},function(S){return m=S,a=S(e),s=S(t),o=S(n),c=a===s?0:.5/(s-a),f=s===o?0:.5/(o-s),r=s<a?-1:1,x}}function gM(){var e=xl(rp()(rr));return e.copy=function(){return _l(e,gM())},Na.apply(e,arguments)}function yM(){var e=t_(rp()).domain([.1,1,10]);return e.copy=function(){return _l(e,yM()).base(e.base())},Na.apply(e,arguments)}function bM(){var e=n_(rp());return e.copy=function(){return _l(e,bM()).constant(e.constant())},Na.apply(e,arguments)}function m_(){var e=r_(rp());return e.copy=function(){return _l(e,m_()).exponent(e.exponent())},Na.apply(e,arguments)}function Sq(){return m_.apply(null,arguments).exponent(.5)}const cc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yx,scaleDiverging:gM,scaleDivergingLog:yM,scaleDivergingPow:m_,scaleDivergingSqrt:Sq,scaleDivergingSymlog:bM,scaleIdentity:QP,scaleImplicit:Db,scaleLinear:XP,scaleLog:JP,scaleOrdinal:Gx,scalePoint:c7,scalePow:i_,scaleQuantile:nM,scaleQuantize:rM,scaleRadial:tM,scaleSequential:hM,scaleSequentialLog:mM,scaleSequentialPow:h_,scaleSequentialQuantile:vM,scaleSequentialSqrt:wq,scaleSequentialSymlog:pM,scaleSqrt:rH,scaleSymlog:eM,scaleThreshold:iM,scaleTime:xq,scaleUtc:_q,tickFormat:WP},Symbol.toStringTag,{value:"Module"}));var wl=e=>e.chartData,p_=V([wl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ip=(e,t,n,r)=>r?p_(e):wl(e);function fl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(kt(t)&&kt(n))return!0}return!1}function JO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function xM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(kt(n))a=n;else if(typeof n=="function")return;if(kt(r))s=r;else if(typeof r=="function")return;var o=[a,s];if(fl(o))return o}}function Eq(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(fl(r))return JO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,c;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ge(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&jA.test(a)){var f=jA.exec(a);if(f==null||t==null)o=void 0;else{var h=+f[1];o=t[0]-h}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(c=Math.max(...t));else if(ge(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&TA.test(s)){var m=TA.exec(s);if(m==null||t==null)c=void 0;else{var v=+m[1];c=t[1]+v}}else c=t==null?void 0:t[1];var y=[o,c];if(fl(y))return t==null?y:JO(y,t,n)}}}var Ko=1e9,Nq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g_,$t=!0,li="[DecimalError] ",ns=li+"Invalid argument: ",v_=li+"Exponent out of range: ",Vo=Math.floor,Vl=Math.pow,Cq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Dn=1e7,Rt=7,_M=9007199254740991,Wh=Vo(_M/Rt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(e){return ua(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,n=t.constructor;return Et(ua(t,new n(e),0,1),n.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return vn(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Rr))throw Error(li+"NaN");if(n.s<1)throw Error(li+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new r(0):($t=!1,t=ua(Dc(n,s),Dc(e,s),s),$t=!0,Et(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EM(t,e):wM(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(li+"NaN");return n.s?($t=!1,t=ua(n,e,0,1).times(e),$t=!0,n.minus(t)):Et(new r(n),a)};be.naturalExponential=be.exp=function(){return SM(this)};be.naturalLogarithm=be.ln=function(){return Dc(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wM(t,e):EM(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ns+e);if(t=vn(a)+1,r=a.d.length-1,n=r*Rt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};be.squareRoot=be.sqrt=function(){var e,t,n,r,a,s,o,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(li+"NaN")}for(e=vn(c),$t=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Oi(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=o=n+3;;)if(s=r,r=s.plus(ua(c,s,o+2)).times(.5),Oi(s.d).slice(0,o)===(t=Oi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Et(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(t!="9999")break;o+=4}return $t=!0,Et(r,n)};be.times=be.mul=function(e){var t,n,r,a,s,o,c,f,h,m=this,v=m.constructor,y=m.d,x=(e=new v(e)).d;if(!m.s||!e.s)return new v(0);for(e.s*=m.s,n=m.e+e.e,f=y.length,h=x.length,f<h&&(s=y,y=x,x=s,o=f,f=h,h=o),s=[],o=f+h,r=o;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,a=f+r;a>r;)c=s[a]+x[r]*y[a-r-1]+t,s[a--]=c%Dn|0,t=c/Dn|0;s[a]=(s[a]+t)%Dn|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,$t?Et(e,v.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Pi(e,0,Ko),t===void 0?t=r.rounding:Pi(t,0,8),Et(n,e+vn(n)+1,t))};be.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=os(r,!0):(Pi(e,0,Ko),t===void 0?t=a.rounding:Pi(t,0,8),r=Et(new a(r),e+1,t),n=os(r,!0,e+1)),n};be.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?os(a):(Pi(e,0,Ko),t===void 0?t=s.rounding:Pi(t,0,8),r=Et(new s(a),e+vn(a)+1,t),n=os(r.abs(),!1,e+vn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return Et(new t(e),vn(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,n,r,a,s,o,c=this,f=c.constructor,h=12,m=+(e=new f(e));if(!e.s)return new f(Rr);if(c=new f(c),!c.s){if(e.s<1)throw Error(li+"Infinity");return c}if(c.eq(Rr))return c;if(r=f.precision,e.eq(Rr))return Et(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=c.s,o){if((n=m<0?-m:m)<=_M){for(a=new f(Rr),t=Math.ceil(r/Rt+4),$t=!1;n%2&&(a=a.times(c),tj(a.d,t)),n=Vo(n/2),n!==0;)c=c.times(c),tj(c.d,t);return $t=!0,e.s<0?new f(Rr).div(a):Et(a,r)}}else if(s<0)throw Error(li+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,$t=!1,a=e.times(Dc(c,r+h)),$t=!0,a=SM(a),a.s=s,a};be.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=vn(a),r=os(a,n<=s.toExpNeg||n>=s.toExpPos)):(Pi(e,1,Ko),t===void 0?t=s.rounding:Pi(t,0,8),a=Et(new s(a),e,t),n=vn(a),r=os(a,e<=n||n<=s.toExpNeg,e)),r};be.toSignificantDigits=be.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Pi(e,1,Ko),t===void 0?t=r.rounding:Pi(t,0,8)),Et(new r(n),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vn(e),n=e.constructor;return os(e,t<=n.toExpNeg||t>=n.toExpPos)};function wM(e,t){var n,r,a,s,o,c,f,h,m=e.constructor,v=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),$t?Et(t,v):t;if(f=e.d,h=t.d,o=e.e,a=t.e,f=f.slice(),s=o-a,s){for(s<0?(r=f,s=-s,c=h.length):(r=h,a=o,c=f.length),o=Math.ceil(v/Rt),c=o>c?o+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Dn|0,f[s]%=Dn;for(n&&(f.unshift(n),++a),c=f.length;f[--c]==0;)f.pop();return t.d=f,t.e=a,$t?Et(t,v):t}function Pi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ns+e)}function Oi(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)r=e[t]+"",n=Rt-r.length,n&&(s+=tl(n)),s+=r;o=e[t],r=o+"",n=Rt-r.length,n&&(s+=tl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ua=(function(){function e(r,a){var s,o=0,c=r.length;for(r=r.slice();c--;)s=r[c]*a+o,r[c]=s%Dn|0,o=s/Dn|0;return o&&r.unshift(o),r}function t(r,a,s,o){var c,f;if(s!=o)f=s>o?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=a[c]){f=r[c]>a[c]?1:-1;break}return f}function n(r,a,s){for(var o=0;s--;)r[s]-=o,o=r[s]<a[s]?1:0,r[s]=o*Dn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,o){var c,f,h,m,v,y,x,w,S,E,C,j,A,T,D,M,k,K,te=r.constructor,U=r.s==a.s?1:-1,$=r.d,P=a.d;if(!r.s)return new te(r);if(!a.s)throw Error(li+"Division by zero");for(f=r.e-a.e,k=P.length,D=$.length,x=new te(U),w=x.d=[],h=0;P[h]==($[h]||0);)++h;if(P[h]>($[h]||0)&&--f,s==null?j=s=te.precision:o?j=s+(vn(r)-vn(a))+1:j=s,j<0)return new te(0);if(j=j/Rt+2|0,h=0,k==1)for(m=0,P=P[0],j++;(h<D||m)&&j--;h++)A=m*Dn+($[h]||0),w[h]=A/P|0,m=A%P|0;else{for(m=Dn/(P[0]+1)|0,m>1&&(P=e(P,m),$=e($,m),k=P.length,D=$.length),T=k,S=$.slice(0,k),E=S.length;E<k;)S[E++]=0;K=P.slice(),K.unshift(0),M=P[0],P[1]>=Dn/2&&++M;do m=0,c=t(P,S,k,E),c<0?(C=S[0],k!=E&&(C=C*Dn+(S[1]||0)),m=C/M|0,m>1?(m>=Dn&&(m=Dn-1),v=e(P,m),y=v.length,E=S.length,c=t(v,S,y,E),c==1&&(m--,n(v,k<y?K:P,y))):(m==0&&(c=m=1),v=P.slice()),y=v.length,y<E&&v.unshift(0),n(S,v,E),c==-1&&(E=S.length,c=t(P,S,k,E),c<1&&(m++,n(S,k<E?K:P,E))),E=S.length):c===0&&(m++,S=[0]),w[h++]=m,c&&S[0]?S[E++]=$[T]||0:(S=[$[T]],E=1);while((T++<D||S[0]!==void 0)&&j--)}return w[0]||w.shift(),x.e=f,Et(x,o?s+vn(x)+1:s)}})();function SM(e,t){var n,r,a,s,o,c,f=0,h=0,m=e.constructor,v=m.precision;if(vn(e)>16)throw Error(v_+vn(e));if(!e.s)return new m(Rr);for($t=!1,c=v,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(r=Math.log(Vl(2,h))/Math.LN10*2+5|0,c+=r,n=a=s=new m(Rr),m.precision=c;;){if(a=Et(a.times(e),c),n=n.times(++f),o=s.plus(ua(a,n,c)),Oi(o.d).slice(0,c)===Oi(s.d).slice(0,c)){for(;h--;)s=Et(s.times(s),c);return m.precision=v,t==null?($t=!0,Et(s,v)):s}s=o}}function vn(e){for(var t=e.e*Rt,n=e.d[0];n>=10;n/=10)t++;return t}function b0(e,t,n){if(t>e.LN10.sd())throw $t=!0,n&&(e.precision=n),Error(li+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function Dc(e,t){var n,r,a,s,o,c,f,h,m,v=1,y=10,x=e,w=x.d,S=x.constructor,E=S.precision;if(x.s<1)throw Error(li+(x.s?"NaN":"-Infinity"));if(x.eq(Rr))return new S(0);if(t==null?($t=!1,h=E):h=t,x.eq(10))return t==null&&($t=!0),b0(S,h);if(h+=y,S.precision=h,n=Oi(w),r=n.charAt(0),s=vn(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=Oi(x.d),r=n.charAt(0),v++;s=vn(x),r>1?(x=new S("0."+n),s++):x=new S(r+"."+n.slice(1))}else return f=b0(S,h+2,E).times(s+""),x=Dc(new S(r+"."+n.slice(1)),h-y).plus(f),S.precision=E,t==null?($t=!0,Et(x,E)):x;for(c=o=x=ua(x.minus(Rr),x.plus(Rr),h),m=Et(x.times(x),h),a=3;;){if(o=Et(o.times(m),h),f=c.plus(ua(o,new S(a),h)),Oi(f.d).slice(0,h)===Oi(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(b0(S,h+2,E).times(s+""))),c=ua(c,new S(v),h),S.precision=E,t==null?($t=!0,Et(c,E)):c;c=f,a+=2}}function ej(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Vo(n/Rt),e.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Rt;r<a;)e.d.push(+t.slice(r,r+=Rt));t=t.slice(r),r=Rt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),$t&&(e.e>Wh||e.e<-Wh))throw Error(v_+n)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,n){var r,a,s,o,c,f,h,m,v=e.d;for(o=1,s=v[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=Rt,a=t,h=v[m=0];else{if(m=Math.ceil((r+1)/Rt),s=v.length,m>=s)return e;for(h=s=v[m],o=1;s>=10;s/=10)o++;r%=Rt,a=r-Rt+o}if(n!==void 0&&(s=Vl(10,o-a-1),c=h/s%10|0,f=t<0||v[m+1]!==void 0||h%s,f=n<4?(c||f)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?a>0?h/Vl(10,o-a):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return f?(s=vn(e),v.length=1,t=t-s-1,v[0]=Vl(10,(Rt-t%Rt)%Rt),e.e=Vo(-t/Rt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=m,s=1,m--):(v.length=m+1,s=Vl(10,Rt-r),v[m]=a>0?(h/Vl(10,o-a)%Vl(10,a)|0)*s:0),f)for(;;)if(m==0){(v[0]+=s)==Dn&&(v[0]=1,++e.e);break}else{if(v[m]+=s,v[m]!=Dn)break;v[m--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if($t&&(e.e>Wh||e.e<-Wh))throw Error(v_+vn(e));return e}function EM(e,t){var n,r,a,s,o,c,f,h,m,v,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),$t?Et(t,x):t;if(f=e.d,v=t.d,r=t.e,h=e.e,f=f.slice(),o=h-r,o){for(m=o<0,m?(n=f,o=-o,c=v.length):(n=v,r=h,c=f.length),a=Math.max(Math.ceil(x/Rt),c)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=f.length,c=v.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(f[a]!=v[a]){m=f[a]<v[a];break}o=0}for(m&&(n=f,f=v,v=n,t.s=-t.s),c=f.length,a=v.length-c;a>0;--a)f[c++]=0;for(a=v.length;a>o;){if(f[--a]<v[a]){for(s=a;s&&f[--s]===0;)f[s]=Dn-1;--f[s],f[a]+=Dn}f[a]-=v[a]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,$t?Et(t,x):t):new y(0)}function os(e,t,n){var r,a=vn(e),s=Oi(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+tl(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+tl(-a-1)+s,n&&(r=n-o)>0&&(s+=tl(r))):a>=o?(s+=tl(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+tl(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=tl(r))),e.s<0?"-"+s:s}function tj(e,t){if(e.length>t)return e.length=t,!0}function NM(e){var t,n,r;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ns+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return ej(o,s.toString())}else if(typeof s!="string")throw Error(ns+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Cq.test(s))ej(o,s);else throw Error(ns+s)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NM,a.config=a.set=Aq,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Aq(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,n,r,a=["precision",1,Ko,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Vo(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ns+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ns+n+": "+r);return this}var g_=NM(Nq);Rr=new g_(1);const dt=g_;var Oq=e=>e,CM={},AM=e=>e===CM,nj=e=>function t(){return arguments.length===0||arguments.length===1&&AM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OM=(e,t)=>e===1?t:nj(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(o=>o!==CM).length;return s>=e?t(...r):OM(e-s,nj(function(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];var h=r.map(m=>AM(m)?c.shift():m);return t(...h,...c)}))}),jq=e=>OM(e.length,e),Ib=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Tq=jq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Dq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Oq;var a=n.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((c,f)=>f(c),s(...arguments))}},kb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function jM(e){var t;return e===0?t=1:t=Math.floor(new dt(e).abs().log(10).toNumber())+1,t}function TM(e,t,n){for(var r=new dt(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var DM=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},PM=(e,t,n)=>{if(e.lte(0))return new dt(0);var r=jM(e.toNumber()),a=new dt(10).pow(r),s=e.div(a),o=r!==1?.05:.1,c=new dt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),f=c.mul(a);return t?new dt(f.toNumber()):new dt(Math.ceil(f.toNumber()))},Pq=(e,t,n)=>{var r=new dt(1),a=new dt(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new dt(10).pow(jM(e)-1),a=new dt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new dt(Math.floor(e)))}else e===0?a=new dt(Math.floor((t-1)/2)):n||(a=new dt(Math.floor(e)));var o=Math.floor((t-1)/2),c=Dq(Tq(f=>a.add(new dt(f-o).mul(r)).toNumber()),Ib);return c(0,t)},MM=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var o=PM(new dt(n).sub(t).div(r-1),a,s),c;t<=0&&n>=0?c=new dt(0):(c=new dt(t).add(n).div(2),c=c.sub(new dt(c).mod(o)));var f=Math.ceil(c.sub(t).div(o).toNumber()),h=Math.ceil(new dt(n).sub(c).div(o).toNumber()),m=f+h+1;return m>r?MM(t,n,r,a,s+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:o,tickMin:c.sub(new dt(f).mul(o)),tickMax:c.add(new dt(h).mul(o))})},Mq=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,f]=DM([n,r]);if(c===-1/0||f===1/0){var h=f===1/0?[c,...Ib(0,a-1).map(()=>1/0)]:[...Ib(0,a-1).map(()=>-1/0),f];return n>r?kb(h):h}if(c===f)return Pq(c,a,s);var{step:m,tickMin:v,tickMax:y}=MM(c,f,o,s,0),x=TM(v,y.add(new dt(.1).mul(m)),m);return n>r?kb(x):x},Rq=function(t,n){var[r,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=DM([r,a]);if(o===-1/0||c===1/0)return[r,a];if(o===c)return[o];var f=Math.max(n,2),h=PM(new dt(c).sub(o).div(f-1),s,0),m=[...TM(new dt(o),new dt(c),h),c];return s===!1&&(m=m.map(v=>Math.round(v))),r>a?kb(m):m},RM=e=>e.rootProps.maxBarSize,Iq=e=>e.rootProps.barGap,IM=e=>e.rootProps.barCategoryGap,kq=e=>e.rootProps.barSize,ud=e=>e.rootProps.stackOffset,kM=e=>e.rootProps.reverseStackOrder,y_=e=>e.options.chartName,b_=e=>e.rootProps.syncId,LM=e=>e.rootProps.syncMethod,x_=e=>e.options.eventEmitter,Lq=e=>e.rootProps.baseValue,pn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ra={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ap=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},zq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:ra.reversed,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:ra.type,unit:void 0},Bq={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,ticks:void 0,type:Mr.type,unit:void 0},Uq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ra.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ra.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ra.scale,tick:ra.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$q={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,ticks:void 0,type:"category",unit:void 0},__=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Uq:zq,w_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$q:Bq,lp=e=>e.polarOptions,S_=V([Sa,Ea,_n],IP),zM=V([lp,S_],(e,t)=>{if(e!=null)return Qn(e.innerRadius,t,0)}),BM=V([lp,S_],(e,t)=>{if(e!=null)return Qn(e.outerRadius,t,t*.8)}),Hq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},UM=V([lp],Hq);V([__,UM],ap);var $M=V([S_,zM,BM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([w_,$M],ap);var HM=V([Qe,lp,zM,BM,Sa,Ea],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:f,endAngle:h}=t;return{cx:Qn(o,a,a/2),cy:Qn(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ft=(e,t)=>t,cd=(e,t,n)=>n;function sp(e){return e==null?void 0:e.id}function qM(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,o=new Map;return e.forEach(c=>{var f,h=(f=c.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var m=sp(c);h.forEach((v,y)=>{var x=s==null||a?y:String(St(v,s,null)),w=St(v,c.dataKey,0),S;o.has(x)?S=o.get(x):S={},Object.assign(S,{[m]:w}),o.set(x,S)})}}),Array.from(o.values())}function op(e){return e.stackId!=null&&e.dataKey!=null}var up=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function qq(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Sn=e=>{var t=Qe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Go=e=>e.tooltip.settings.axisId;function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){Fq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fq(e,t,n){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lb=[0,"auto"],On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FM=(e,t)=>e.cartesianAxis.xAxis[t],Ca=(e,t)=>{var n=FM(e,t);return n??On},jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:td},KM=(e,t)=>e.cartesianAxis.yAxis[t],Aa=(e,t)=>{var n=KM(e,t);return n??jn},Gq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},E_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Gq},Gt=(e,t,n)=>{switch(t){case"xAxis":return Ca(e,n);case"yAxis":return Aa(e,n);case"zAxis":return E_(e,n);case"angleAxis":return __(e,n);case"radiusAxis":return w_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Yq=(e,t,n)=>{switch(t){case"xAxis":return Ca(e,n);case"yAxis":return Aa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dd=(e,t,n)=>{switch(t){case"xAxis":return Ca(e,n);case"yAxis":return Aa(e,n);case"angleAxis":return __(e,n);case"radiusAxis":return w_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function N_(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var dp=e=>e.graphicalItems.cartesianItems,Wq=V([Ft,cd],N_),C_=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),fd=V([dp,Gt,Wq],C_,{memoizeOptions:{resultEqualityCheck:cp}}),GM=V([fd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(op)),YM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Xq=V([fd],YM),A_=e=>e.map(t=>t.data).filter(Boolean).flat(1),Qq=V([fd],A_,{memoizeOptions:{resultEqualityCheck:cp}}),O_=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},j_=V([Qq,ip],O_),T_=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:St(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:St(a,r)}))):e.map(r=>({value:r})),fp=V([j_,Gt,fd],T_);function WM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mh(e){if(Ti(e)||e instanceof Date){var t=Number(e);if(kt(t))return t}}function ij(e){if(Array.isArray(e)){var t=[mh(e[0]),mh(e[1])];return fl(t)?t:void 0}var n=mh(e);if(n!=null)return[n,n]}function ya(e){return e.map(mh).filter(mz)}function Zq(e,t,n){return!n||typeof t!="number"||ii(t)?[]:n.length?ya(n.flatMap(r=>{var a=St(e,r.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!kt(s)||!kt(o)))return[t-s,t+o]})):[]}var En=e=>{var t=Sn(e),n=Go(e);return dd(e,t,n)},hd=V([En],e=>e==null?void 0:e.dataKey),Jq=V([GM,ip,En],qM),XM=(e,t,n,r)=>{var a={},s=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),a);return Object.fromEntries(Object.entries(s).map(o=>{var[c,f]=o,h=r?[...f].reverse():f,m=h.map(sp);return[c,{stackedData:MB(e,m,n),graphicalItems:h}]}))},Pc=V([Jq,GM,ud,kM],XM),QM=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=LB(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},e9=V([Gt],e=>e.allowDataOverflow),D_=e=>{var t;if(e==null||!("domain"in e))return Lb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ya(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Lb},P_=V([Gt],D_),M_=V([P_,e9],xM),t9=V([Pc,wl,Ft,M_],QM,{memoizeOptions:{resultEqualityCheck:up}}),hp=e=>e.errorBars,n9=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>WM(n,r)),Qh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),c=Math.max(...s);return[o,c]}},R_=(e,t,n,r,a)=>{var s,o;if(n.length>0&&e.forEach(c=>{n.forEach(f=>{var h,m,v=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>WM(a,C)),y=St(c,(m=t.dataKey)!==null&&m!==void 0?m:f.dataKey),x=Zq(c,y,v);if(x.length>=2){var w=Math.min(...x),S=Math.max(...x);(s==null||w<s)&&(s=w),(o==null||S>o)&&(o=S)}var E=ij(y);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var f=ij(St(c,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),o=o==null?f[1]:Math.max(o,f[1]))}),kt(s)&&kt(o))return[s,o]},r9=V([j_,Gt,Xq,hp,Ft],R_,{memoizeOptions:{resultEqualityCheck:up}});function i9(e){var{value:t}=e;if(Ti(t)||t instanceof Date)return t}var a9=(e,t,n)=>{var r=e.map(i9).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&fD(r))?BP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ZM=e=>e.referenceElements.dots,Yo=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),l9=V([ZM,Ft,cd],Yo),JM=e=>e.referenceElements.areas,s9=V([JM,Ft,cd],Yo),eR=e=>e.referenceElements.lines,o9=V([eR,Ft,cd],Yo),tR=(e,t)=>{var n=ya(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},u9=V(l9,Ft,tR),nR=(e,t)=>{var n=ya(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},c9=V([s9,Ft],nR);function d9(e){var t;if(e.x!=null)return ya([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ya(n)}function f9(e){var t;if(e.y!=null)return ya([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ya(n)}var rR=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?d9(r):f9(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},h9=V([o9,Ft],rR),m9=V(u9,h9,c9,(e,t,n)=>Qh(e,n,t)),I_=(e,t,n,r,a,s,o,c)=>{if(n!=null)return n;var f=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",h=f?Qh(r,s,a):Qh(s,a);return Eq(t,h,e.allowDataOverflow)},p9=V([Gt,P_,M_,t9,r9,m9,Qe,Ft],I_,{memoizeOptions:{resultEqualityCheck:up}}),v9=[0,1],k_=(e,t,n,r,a,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:f}=e,h=wa(t,s);if(h&&c==null){var m;return BP(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return f==="category"?a9(r,e,h):a==="expand"?v9:o}},L_=V([Gt,Qe,j_,fp,ud,Ft,p9],k_),iR=(e,t,n,r,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Xc(s));return c in cc?c:"point"}}},Wo=V([Gt,Qe,VM,y_,Ft],iR);function g9(e){if(e!=null){if(e in cc)return cc[e]();var t="scale".concat(Xc(e));if(t in cc)return cc[t]()}}function z_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=g9(t);if(a!=null){var s=a.domain(n).range(r);return OB(s),s}}}var B_=(e,t,n)=>{var r=D_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fl(e))return Mq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fl(e))return Rq(e,t.tickCount,t.allowDecimals)}},U_=V([L_,dd,Wo],B_),$_=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],o=t[1],c=n[n.length-1];return[Math.min(a,s),Math.max(o,c)]}return t},y9=V([Gt,L_,U_,Ft],$_),b9=V(fp,Gt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ya(e.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/a}}),aR=V(b9,Qe,IM,_n,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!kt(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=Qn(n,e*s),c=e*s/2;return c-o-(c-o)/s*o}return 0}),x9=(e,t)=>{var n=Ca(e,t);return n==null||typeof n.padding!="string"?0:aR(e,"xAxis",t,n.padding)},_9=(e,t)=>{var n=Aa(e,t);return n==null||typeof n.padding!="string"?0:aR(e,"yAxis",t,n.padding)},w9=V(Ca,x9,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),S9=V(Aa,_9,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),E9=V([_n,w9,Vm,Km,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),N9=V([_n,Qe,S9,Vm,Km,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:o}=a;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),md=(e,t,n,r)=>{var a;switch(t){case"xAxis":return E9(e,n,r);case"yAxis":return N9(e,n,r);case"zAxis":return(a=E_(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return UM(e);case"radiusAxis":return $M(e,n);default:return}},lR=V([Gt,md],ap),Xo=V([Gt,Wo,y9,lR],z_);V([fd,hp,Ft],n9);function sR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mp=(e,t)=>t,pp=(e,t,n)=>n,C9=V(qm,mp,pp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sR)),A9=V(Fm,mp,pp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sR)),oR=(e,t)=>({width:e.width,height:t.height}),O9=(e,t)=>{var n=typeof t.width=="number"?t.width:td;return{width:n,height:e.height}},uR=V(_n,Ca,oR),j9=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},T9=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},D9=V(Ea,_n,C9,mp,pp,(e,t,n,r,a)=>{var s={},o;return n.forEach(c=>{var f=oR(t,c);o==null&&(o=j9(t,r,e));var h=r==="top"&&!a||r==="bottom"&&a;s[c.id]=o-Number(h)*f.height,o+=(h?-1:1)*f.height}),s}),P9=V(Sa,_n,A9,mp,pp,(e,t,n,r,a)=>{var s={},o;return n.forEach(c=>{var f=O9(t,c);o==null&&(o=T9(t,r,e));var h=r==="left"&&!a||r==="right"&&a;s[c.id]=o-Number(h)*f.width,o+=(h?-1:1)*f.width}),s}),M9=(e,t)=>{var n=Ca(e,t);if(n!=null)return D9(e,n.orientation,n.mirror)},R9=V([_n,Ca,M9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),I9=(e,t)=>{var n=Aa(e,t);if(n!=null)return P9(e,n.orientation,n.mirror)},k9=V([_n,Aa,I9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),cR=V(_n,Aa,(e,t)=>{var n=typeof t.width=="number"?t.width:td;return{width:n,height:e.height}}),aj=(e,t,n)=>{switch(t){case"xAxis":return uR(e,n).width;case"yAxis":return cR(e,n).height;default:return}},dR=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=n,c=wa(e,r),f=t.map(h=>h.value);if(o&&c&&s==="category"&&a&&fD(f))return f}},H_=V([Qe,fp,Gt,Ft],dR),fR=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,o=wa(e,r);if(o&&(a==="number"||s!=="auto"))return t.map(c=>c.value)}},q_=V([Qe,fp,dd,Ft],fR),lj=V([Qe,Yq,Wo,Xo,H_,q_,md,U_,Ft],(e,t,n,r,a,s,o,c,f)=>{if(t!=null){var h=wa(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:c,range:o,realScaleType:n,scale:r}}}),L9=(e,t,n,r,a,s,o,c,f)=>{if(!(t==null||r==null)){var h=wa(e,f),{type:m,ticks:v,tickCount:y}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/x:0;w=f==="angleAxis"&&s!=null&&s.length>=2?Mn(s[0]-s[1])*2*w:w;var S=v||a;if(S){var E=S.map((C,j)=>{var A=o?o.indexOf(C):C;return{index:j,coordinate:r(A)+w,value:C,offset:w}});return E.filter(C=>kt(C.coordinate))}return h&&c?c.map((C,j)=>({coordinate:r(C)+w,value:C,index:j,offset:w})).filter(C=>kt(C.coordinate)):r.ticks?r.ticks(y).map(C=>({coordinate:r(C)+w,value:C,offset:w})):r.domain().map((C,j)=>({coordinate:r(C)+w,value:o?o[C]:C,index:j,offset:w}))}},hR=V([Qe,dd,Wo,Xo,U_,md,H_,q_,Ft],L9),z9=(e,t,n,r,a,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=wa(e,o),{tickCount:f}=t,h=0;return h=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Mn(r[0]-r[1])*2*h:h,c&&s?s.map((m,v)=>({coordinate:n(m)+h,value:m,index:v,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,v)=>({coordinate:n(m)+h,value:a?a[m]:m,index:v,offset:h}))}},hl=V([Qe,dd,Xo,md,H_,q_,Ft],z9),ml=V(Gt,Xo,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})}),B9=V([Gt,Wo,L_,lR],z_);V((e,t,n)=>E_(e,n),B9,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})});var U9=V([Qe,qm,Fm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mR=e=>e.options.defaultTooltipEventType,pR=e=>e.options.validateTooltipEventTypes;function vR(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function F_(e,t){var n=mR(e),r=pR(e);return vR(t,n,r)}function $9(e){return _e(t=>F_(t,e))}var gR=(e,t)=>{var n,r=Number(t);if(!(ii(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},H9=e=>e.tooltip.settings,il={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},q9={itemInteraction:{click:il,hover:il},axisInteraction:{click:il,hover:il},keyboardInteraction:il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yR=_r({name:"tooltip",initialState:q9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Bt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=vi(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Bt()},removeTooltipEntrySettings:{reducer(e,t){var n=vi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Bt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:F9,replaceTooltipEntrySettings:K9,removeTooltipEntrySettings:V9,setTooltipSettingsState:G9,setActiveMouseOverItemIndex:bR,mouseLeaveItem:Y9,mouseLeaveChart:xR,setActiveClickItemIndex:W9,setMouseOverAxisIndex:_R,setMouseClickAxisIndex:X9,setSyncInteraction:zb,setKeyboardInteraction:Bb}=yR.actions,Q9=yR.reducer;function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){Z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z9(e,t,n){return(t=J9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J9(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tF(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nF(e){return e.index!=null}var wR=(e,t,n,r)=>{if(t==null)return il;var a=tF(e,t,n);if(a==null)return il;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(nF(a)){if(s)return rh(rh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rh(rh({},il),{},{coordinate:a.coordinate})};function rF(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function iF(e,t){var n=rF(e),r=t[0],a=t[1];if(n===void 0)return!1;var s=Math.min(r,a),o=Math.max(r,a);return n>=s&&n<=o}function aF(e,t,n){if(n==null||t==null)return!0;var r=St(e,t);return r==null||!fl(n)?!0:iF(r,n)}var K_=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!kt(s))return a;var o=0,c=1/0;t.length>0&&(c=t.length-1);var f=Math.max(o,Math.min(s,c)),h=t[f];return h==null||aF(h,n,r)?String(f):null},SR=(e,t,n,r,a,s,o,c)=>{if(!(s==null||c==null)){var f=o[0],h=f==null?void 0:c(f.positions,s);if(h!=null)return h;var m=a==null?void 0:a[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},ER=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===a})},pd=e=>e.options.tooltipPayloadSearcher,Qo=e=>e.tooltip;function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){lF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lF(e,t,n){return(t=sF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uF(e,t){return e??t}var NR=(e,t,n,r,a,s,o)=>{if(!(t==null||s==null)){var{chartData:c,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,v=[];return e.reduce((y,x)=>{var w,{dataDefinedOnItem:S,settings:E}=x,C=uF(S,c),j=Array.isArray(C)?aP(C,h,m):C,A=(w=E==null?void 0:E.dataKey)!==null&&w!==void 0?w:r,T=E==null?void 0:E.nameKey,D;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?D=hD(j,r,a):D=s(j,t,f,T),Array.isArray(D))D.forEach(k=>{var K=uj(uj({},E),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(DA({tooltipEntrySettings:K,dataKey:k.dataKey,payload:k.payload,value:St(k.payload,k.dataKey),name:k.name}))});else{var M;y.push(DA({tooltipEntrySettings:E,dataKey:A,payload:D,value:St(D,A),name:(M=St(D,T))!==null&&M!==void 0?M:E==null?void 0:E.name}))}return y},v)}},V_=V([En,Qe,VM,y_,Sn],iR),cF=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dF=V([Sn,Go],N_),vd=V([cF,En,dF],C_,{memoizeOptions:{resultEqualityCheck:cp}}),fF=V([vd],e=>e.filter(op)),hF=V([vd],A_,{memoizeOptions:{resultEqualityCheck:cp}}),Zo=V([hF,wl],O_),mF=V([fF,wl,En],qM),G_=V([Zo,En,vd],T_),CR=V([En],D_),pF=V([En],e=>e.allowDataOverflow),AR=V([CR,pF],xM),vF=V([vd],e=>e.filter(op)),gF=V([mF,vF,ud,kM],XM),yF=V([gF,wl,Sn,AR],QM),bF=V([vd],YM),xF=V([Zo,En,bF,hp,Sn],R_,{memoizeOptions:{resultEqualityCheck:up}}),_F=V([ZM,Sn,Go],Yo),wF=V([_F,Sn],tR),SF=V([JM,Sn,Go],Yo),EF=V([SF,Sn],nR),NF=V([eR,Sn,Go],Yo),CF=V([NF,Sn],rR),AF=V([wF,CF,EF],Qh),OF=V([En,CR,AR,yF,xF,AF,Qe,Sn],I_),gd=V([En,Qe,Zo,G_,ud,Sn,OF],k_),jF=V([gd,En,V_],B_),TF=V([En,gd,jF,Sn],$_),OR=e=>{var t=Sn(e),n=Go(e),r=!1;return md(e,t,n,r)},jR=V([En,OR],ap),TR=V([En,V_,TF,jR],z_),DF=V([Qe,G_,En,Sn],dR),PF=V([Qe,G_,En,Sn],fR),MF=(e,t,n,r,a,s,o,c)=>{if(t){var{type:f}=t,h=wa(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return v=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Mn(a[0]-a[1])*2*v:v,h&&o?o.map((y,x)=>({coordinate:r(y)+v,value:y,index:x,offset:v})):r.domain().map((y,x)=>({coordinate:r(y)+v,value:s?s[y]:y,index:x,offset:v}))}}},Oa=V([Qe,En,V_,TR,OR,DF,PF,Sn],MF),Y_=V([mR,pR,H9],(e,t,n)=>vR(n.shared,e,t)),DR=e=>e.tooltip.settings.trigger,W_=e=>e.tooltip.settings.defaultIndex,yd=V([Qo,Y_,DR,W_],wR),pl=V([yd,Zo,hd,gd],K_),PR=V([Oa,pl],gR),X_=V([yd],e=>{if(e)return e.dataKey}),RF=V([yd],e=>{if(e)return e.graphicalItemId}),MR=V([Qo,Y_,DR,W_],ER),IF=V([Sa,Ea,Qe,_n,Oa,W_,MR,pd],SR),kF=V([yd,IF],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),LF=V([yd],e=>e.active),zF=V([MR,pl,wl,hd,PR,pd,Y_],NR),BF=V([zF],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){UF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UF(e,t,n){return(t=$F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qF=()=>_e(En),FF=()=>{var e=qF(),t=_e(Oa),n=_e(TR);return Co(!e||!n?void 0:dj(dj({},e),{},{scale:n}),t)};function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){KF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KF(e,t,n){return(t=VF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(e){var t=GF(e,"string");return typeof t=="symbol"?t:t+""}function GF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YF=(e,t,n,r)=>{var a=t.find(s=>s&&s.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},WF=(e,t,n,r)=>{var a=t.find(h=>h&&h.index===n);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=r;return ao(ao(ao({},r),mn(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,{angle:f}=r;return ao(ao(ao({},r),mn(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function XF(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var RR=(e,t,n,r,a)=>{var s,o=-1,c=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<c;f++){var h=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,v=f>=c-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Mn(m-h)!==Mn(v-m)){var x=[];if(Mn(v-m)===Mn(a[1]-a[0])){y=v;var w=m+a[1]-a[0];x[0]=Math.min(w,(w+h)/2),x[1]=Math.max(w,(w+h)/2)}else{y=h;var S=v+a[1]-a[0];x[0]=Math.min(m,(S+m)/2),x[1]=Math.max(m,(S+m)/2)}var E=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>E[0]&&e<=E[1]||e>=x[0]&&e<=x[1]){({index:o}=n[f]);break}}else{var C=Math.min(h,v),j=Math.max(h,v);if(e>(C+m)/2&&e<=(j+m)/2){({index:o}=n[f]);break}}}else if(t){for(var A=0;A<c;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<c-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===c-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:o}=t[A]);break}}return o},IR=()=>_e(y_),Q_=(e,t)=>t,kR=(e,t,n)=>n,Z_=(e,t,n,r)=>r,QF=V(Oa,e=>Rm(e,t=>t.coordinate)),J_=V([Qo,Q_,kR,Z_],wR),e1=V([J_,Zo,hd,gd],K_),ZF=(e,t,n)=>{if(t!=null){var r=Qo(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},LR=V([Qo,Q_,kR,Z_],ER),Zh=V([Sa,Ea,Qe,_n,Oa,Z_,LR,pd],SR),JF=V([J_,Zh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),zR=V([Oa,e1],gR),eK=V([LR,e1,wl,hd,zR,pd,Q_],NR),tK=V([J_,e1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nK=(e,t,n,r,a,s,o)=>{if(!(!e||!n||!r||!a)&&XF(e,o)){var c=zB(e,t),f=RR(c,s,a,n,r),h=YF(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},rK=(e,t,n,r,a,s,o)=>{if(!(!e||!r||!a||!s||!n)){var c=U$(e,n);if(c){var f=BB(c,t),h=RR(f,o,s,r,a),m=WF(t,s,h,c);return{activeIndex:String(h),activeCoordinate:m}}}},iK=(e,t,n,r,a,s,o,c)=>{if(!(!e||!t||!r||!a||!s))return t==="horizontal"||t==="vertical"?nK(e,t,r,a,s,o,c):rK(e,t,n,r,a,s,o)},aK=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),lK=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(pn)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:qq}});function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(r){sK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sK(e,t,n){return(t=oK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cK={},dK={zIndexMap:Object.values(pn).reduce((e,t)=>mj(mj({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),cK)},fK=new Set(Object.values(pn));function hK(e){return fK.has(e)}var BR=_r({name:"zIndex",initialState:dK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Bt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!hK(n)&&delete e.zIndexMap[n])},prepare:Bt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Bt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Bt()}}}),{registerZIndexPortal:mK,unregisterZIndexPortal:pK,registerZIndexPortalId:vK,unregisterZIndexPortalId:gK}=BR.actions,yK=BR.reducer;function wr(e){var{zIndex:t,children:n}=e,r=vU(),a=r&&t!==void 0&&t!==0,s=Zn(),o=qt();_.useLayoutEffect(()=>a?(o(mK({zIndex:t})),()=>{o(pK({zIndex:t}))}):Qc,[o,t,a]);var c=_e(h=>aK(h,t,s));if(!a)return n;if(!c)return null;var f=document.getElementById(c);return f?F2.createPortal(n,f):null}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){bK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bK(e,t,n){return(t=xK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function SK(e){var t,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:o,layout:c,cursor:f,tooltipEventType:h,chartName:m}=e,v=n,y=r,x=a;if(!f||!v||m!=="ScatterChart"&&h!=="axis")return null;var w,S,E;if(m==="ScatterChart")w=v,S=t$,E=pn.cursorLine;else if(m==="BarChart")w=n$(c,v,s,o),S=RP,E=pn.cursorRectangle;else if(c==="radial"&&vD(v)){var{cx:C,cy:j,radius:A,startAngle:T,endAngle:D}=kP(v);w={cx:C,cy:j,startAngle:T,endAngle:D,innerRadius:A,outerRadius:A},S=zP,E=pn.cursorLine}else w={points:F$(c,v,s)},S=yo,E=pn.cursorLine;var M=typeof f=="object"&&"className"in f?f.className:void 0,k=ih(ih(ih(ih({stroke:"#ccc",pointerEvents:"none"},s),w),is(f)),{},{payload:y,payloadIndex:x,className:it("recharts-tooltip-cursor",M)});return _.createElement(wr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},_.createElement(wK,{cursor:f,cursorComp:S,cursorProps:k}))}function EK(e){var t=FF(),n=vP(),r=Ho(),a=IR();return t==null||n==null||r==null||a==null?null:_.createElement(SK,Ub({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var UR=_.createContext(null),NK=()=>_.useContext(UR),x0={exports:{}},vj;function CK(){return vj||(vj=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function s(f,h,m,v,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new a(m,v||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],x]:f._events[w].push(x):(f._events[w]=x,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,v;if(this._eventsCount===0)return h;for(v in m=this._events)t.call(m,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,x=v.length,w=new Array(x);y<x;y++)w[y]=v[y].fn;return w},c.prototype.listenerCount=function(h){var m=n?n+h:h,v=this._events[m];return v?v.fn?1:v.length:0},c.prototype.emit=function(h,m,v,y,x,w){var S=n?n+h:h;if(!this._events[S])return!1;var E=this._events[S],C=arguments.length,j,A;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,v),!0;case 4:return E.fn.call(E.context,m,v,y),!0;case 5:return E.fn.call(E.context,m,v,y,x),!0;case 6:return E.fn.call(E.context,m,v,y,x,w),!0}for(A=1,j=new Array(C-1);A<C;A++)j[A-1]=arguments[A];E.fn.apply(E.context,j)}else{var T=E.length,D;for(A=0;A<T;A++)switch(E[A].once&&this.removeListener(h,E[A].fn,void 0,!0),C){case 1:E[A].fn.call(E[A].context);break;case 2:E[A].fn.call(E[A].context,m);break;case 3:E[A].fn.call(E[A].context,m,v);break;case 4:E[A].fn.call(E[A].context,m,v,y);break;default:if(!j)for(D=1,j=new Array(C-1);D<C;D++)j[D-1]=arguments[D];E[A].fn.apply(E[A].context,j)}}return!0},c.prototype.on=function(h,m,v){return s(this,h,m,v,!1)},c.prototype.once=function(h,m,v){return s(this,h,m,v,!0)},c.prototype.removeListener=function(h,m,v,y){var x=n?n+h:h;if(!this._events[x])return this;if(!m)return o(this,x),this;var w=this._events[x];if(w.fn)w.fn===m&&(!y||w.once)&&(!v||w.context===v)&&o(this,x);else{for(var S=0,E=[],C=w.length;S<C;S++)(w[S].fn!==m||y&&!w[S].once||v&&w[S].context!==v)&&E.push(w[S]);E.length?this._events[x]=E.length===1?E[0]:E:o(this,x)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(x0)),x0.exports}var AK=CK();const OK=Mi(AK);var Mc=new OK,$b="recharts.syncEvent.tooltip",gj="recharts.syncEvent.brush";function t1(e,t){if(t){var n=Number.parseInt(t,10);if(!ii(n))return e==null?void 0:e[n]}}var jK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$R=_r({name:"options",initialState:jK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),TK=$R.reducer,{createEventEmitter:DK}=$R.actions;function PK(e){return e.tooltip.syncInteraction}var MK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HR=_r({name:"chartData",initialState:MK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:yj,setDataStartEndIndexes:RK,setComputedData:Aie}=HR.actions,IK=HR.reducer,kK=["x","y"];function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){LK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LK(e,t,n){return(t=zK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UK(e,t){if(e==null)return{};var n,r,a=$K(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $K(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HK(){var e=_e(b_),t=_e(x_),n=qt(),r=_e(LM),a=_e(Oa),s=Ho(),o=Gm(),c=_e(f=>f.rootProps.className);_.useEffect(()=>{if(e==null)return Qc;var f=(h,m,v)=>{if(t!==v&&e===h){if(r==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:w,y:S}=x,E=UK(x,kK),{x:C,y:j,width:A,height:T}=m.payload.sourceViewBox,D=lo(lo({},E),{},{x:o.x+(A?(w-C)/A:0)*o.width,y:o.y+(T?(S-j)/T:0)*o.height});n(lo(lo({},m),{},{payload:lo(lo({},m.payload),{},{coordinate:D})}))}else n(m);return}if(a!=null){var M;if(typeof r=="function"){var k={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},K=r(a,k);M=a[K]}else r==="value"&&(M=a.find(L=>String(L.value)===m.payload.label));var{coordinate:te}=m.payload;if(M==null||m.payload.active===!1||te==null||o==null){n(zb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:$}=te,P=Math.min(U,o.x+o.width),q=Math.min($,o.y+o.height),ee={x:s==="horizontal"?M.coordinate:P,y:s==="horizontal"?q:M.coordinate},ae=zb({active:m.payload.active,coordinate:ee,dataKey:m.payload.dataKey,index:String(M.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(ae)}}};return Mc.on($b,f),()=>{Mc.off($b,f)}},[c,n,t,e,r,a,s,o])}function qK(){var e=_e(b_),t=_e(x_),n=qt();_.useEffect(()=>{if(e==null)return Qc;var r=(a,s,o)=>{t!==o&&e===a&&n(RK(s))};return Mc.on(gj,r),()=>{Mc.off(gj,r)}},[n,t,e])}function FK(){var e=qt();_.useEffect(()=>{e(DK())},[e]),HK(),qK()}function KK(e,t,n,r,a,s){var o=_e(x=>ZF(x,e,t)),c=_e(x_),f=_e(b_),h=_e(LM),m=_e(PK),v=m==null?void 0:m.active,y=Gm();_.useEffect(()=>{if(!v&&f!=null&&c!=null){var x=zb({active:s,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Mc.emit($b,f,x,c)}},[v,n,o,a,r,c,f,h,s,y])}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){VK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VK(e,t,n){return(t=GK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WK(e){return e.dataKey}function XK(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(RU,t)}var wj=[],QK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ho(e){var t,n,r=Rn(e,QK),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:c,content:f,filterNull:h,isAnimationActive:m,offset:v,payloadUniqBy:y,position:x,reverseDirection:w,useTranslate3d:S,wrapperStyle:E,cursor:C,shared:j,trigger:A,defaultIndex:T,portal:D,axisId:M}=r,k=qt(),K=typeof T=="number"?String(T):T;_.useEffect(()=>{k(G9({shared:j,trigger:A,axisId:M,active:a,defaultIndex:K}))},[k,j,A,M,a,K]);var te=Gm(),U=jP(),$=$9(j),{activeIndex:P,isActive:q}=(t=_e(je=>tK(je,$,A,K)))!==null&&t!==void 0?t:{},ee=_e(je=>eK(je,$,A,K)),ae=_e(je=>zR(je,$,A,K)),L=_e(je=>JF(je,$,A,K)),X=ee,se=NK(),he=(n=a??q)!==null&&n!==void 0?n:!1,[ve,R]=S8([X,he]),Z=$==="axis"?ae:void 0;KK($,A,L,Z,P,he);var ue=D??se;if(ue==null||te==null||$==null)return null;var oe=X??wj;he||(oe=wj),h&&oe.length&&(oe=Wz(oe.filter(je=>je.value!=null&&(je.hide!==!0||r.includeHidden)),y,WK));var me=oe.length>0,Oe=_.createElement($U,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:m,active:he,coordinate:L,hasPayload:me,offset:v,position:x,reverseDirection:w,useTranslate3d:S,viewBox:te,wrapperStyle:E,lastBoundingBox:ve,innerRef:R,hasPortalFromProps:!!D},XK(f,_j(_j({},r),{},{payload:oe,label:Z,active:he,activeIndex:P,coordinate:L,accessibilityLayer:U})));return _.createElement(_.Fragment,null,F2.createPortal(Oe,ue),he&&_.createElement(EK,{cursor:C,tooltipEventType:$,coordinate:L,payload:oe,index:P}))}var al=e=>null;al.displayName="Cell";function ZK(e,t,n){return(t=JK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JK(e){var t=eV(e,"string");return typeof t=="symbol"?t:t+""}function eV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tV{constructor(t){ZK(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){rV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rV(e,t,n){return(t=iV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lV={cacheSize:2e3,enableCache:!0},qR=nV({},lV),Ej=new tV(qR.cacheSize),sV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Nj="recharts_measurement_span";function oV(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(c)}var Cj=(e,t)=>{try{var n=document.getElementById(Nj);n||(n=document.createElement("span"),n.setAttribute("id",Nj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,sV,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},dc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qo.isSsr)return{width:0,height:0};if(!qR.enableCache)return Cj(t,n);var r=oV(t,n),a=Ej.get(r);if(a)return a;var s=Cj(t,n);return Ej.set(r,s),s},Aj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dV=Object.keys(FR),mo="NaN";function fV(e,t){return e*FR[t]}class vr{static parse(t){var n,[,r,a]=(n=cV.exec(t))!==null&&n!==void 0?n:[];return new vr(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ii(t)&&(this.unit=""),n!==""&&!uV.test(n)&&(this.num=NaN,this.unit=""),dV.includes(n)&&(this.num=fV(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ii(this.num)}}function KR(e){if(e.includes(mo))return mo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=Aj.exec(t))!==null&&n!==void 0?n:[],o=vr.parse(r??""),c=vr.parse(s??""),f=a==="*"?o.multiply(c):o.divide(c);if(f.isNaN())return mo;t=t.replace(Aj,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,v,y]=(h=Oj.exec(t))!==null&&h!==void 0?h:[],x=vr.parse(m??""),w=vr.parse(y??""),S=v==="+"?x.add(w):x.subtract(w);if(S.isNaN())return mo;t=t.replace(Oj,S.toString())}return t}var jj=/\(([^()]*)\)/;function hV(e){for(var t=e,n;(n=jj.exec(t))!=null;){var[,r]=n;t=t.replace(jj,KR(r))}return t}function mV(e){var t=e.replace(/\s+/g,"");return t=hV(t),t=KR(t),t}function pV(e){try{return mV(e)}catch{return mo}}function _0(e){var t=pV(e.slice(5,-1));return t===mo?"":t}var vV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gV=["dx","dy","angle","className","breakAll"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function Tj(e,t){if(e==null)return{};var n,r,a=yV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VR=/[ \f\n\r\t\v\u2028\u2029]+/,GR=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Vt(t)||(n?a=t.toString().split(""):a=t.toString().split(VR));var s=a.map(c=>({word:c,width:dc(c,r).width})),o=n?0:dc("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function bV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var YR=(e,t,n,r)=>e.reduce((a,s)=>{var{word:o,width:c}=s,f=a[a.length-1];if(f&&c!=null&&(t==null||r||f.width+c+n<Number(t)))f.words.push(o),f.width+=c+n;else{var h={words:[o],width:c};a.push(h)}return a},[]),WR=e=>e.reduce((t,n)=>t.width>n.width?t:n),xV="",Dj=(e,t,n,r,a,s,o,c)=>{var f=e.slice(0,t),h=GR({breakAll:n,style:r,children:f+xV});if(!h)return[!1,[]];var m=YR(h.wordsWithComputedWidth,s,o,c),v=m.length>a||WR(m).width>Number(s);return[v,m]},_V=(e,t,n,r,a)=>{var{maxLines:s,children:o,style:c,breakAll:f}=e,h=ge(s),m=String(o),v=YR(t,r,n,a);if(!h||a)return v;var y=v.length>s||WR(v).width>Number(r);if(!y)return v;for(var x=0,w=m.length-1,S=0,E;x<=w&&S<=m.length-1;){var C=Math.floor((x+w)/2),j=C-1,[A,T]=Dj(m,j,f,c,s,r,n,a),[D]=Dj(m,C,f,c,s,r,n,a);if(!A&&!D&&(x=C+1),A&&D&&(w=C-1),!A&&D){E=T;break}S++}return E||v},Pj=e=>{var t=Vt(e)?[]:e.toString().split(VR);return[{words:t,width:void 0}]},wV=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:o}=e;if((t||n)&&!qo.isSsr){var c,f,h=GR({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:v}=h;c=m,f=v}else return Pj(r);return _V({breakAll:s,children:r,maxLines:o,style:a},c,f,t,!!n)}return Pj(r)},XR="#808080",SV={angle:0,breakAll:!1,capHeight:"0.71em",fill:XR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vp=_.forwardRef((e,t)=>{var n=Rn(e,SV),{x:r,y:a,lineHeight:s,capHeight:o,fill:c,scaleToFit:f,textAnchor:h,verticalAnchor:m}=n,v=Tj(n,vV),y=_.useMemo(()=>wV({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:x,dy:w,angle:S,className:E,breakAll:C}=v,j=Tj(v,gV);if(!Ti(r)||!Ti(a)||y.length===0)return null;var A=Number(r)+(ge(x)?x:0),T=Number(a)+(ge(w)?w:0);if(!kt(A)||!kt(T))return null;var D;switch(m){case"start":D=_0("calc(".concat(o,")"));break;case"middle":D=_0("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:D=_0("calc(".concat(y.length-1," * -").concat(s,")"));break}var M=[];if(f){var k=y[0].width,{width:K}=v;M.push("scale(".concat(ge(K)&&ge(k)?K/k:1,")"))}return S&&M.push("rotate(".concat(S,", ").concat(A,", ").concat(T,")")),M.length&&(j.transform=M.join(" ")),_.createElement("text",Hb({},lr(j),{ref:t,x:A,y:T,className:it("recharts-text",E),textAnchor:h,fill:c.includes("url")?XR:c}),y.map((te,U)=>{var $=te.words.join(C?"":" ");return _.createElement("tspan",{x:A,dy:U===0?D:s,key:"".concat($,"-").concat(U)},$)}))});vp.displayName="Text";var EV=["labelRef"];function NV(e,t){if(e==null)return{};var n,r,a=CV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function CV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){AV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AV(e,t,n){return(t=OV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(null,arguments)}var QR=_.createContext(null),TV=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:s,height:o,children:c}=e,f=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:s,height:o}),[t,n,r,a,s,o]);return _.createElement(QR.Provider,{value:f},c)},ZR=()=>{var e=_.useContext(QR),t=Gm();return e||pP(t)},DV=_.createContext(null),PV=()=>{var e=_.useContext(DV),t=_e(HM);return e||t},MV=e=>{var{value:t,formatter:n}=e,r=Vt(e.children)?t:e.children;return typeof n=="function"?n(r):r},n1=e=>e!=null&&typeof e=="function",RV=(e,t)=>{var n=Mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},IV=(e,t,n,r,a)=>{var{offset:s,className:o}=e,{cx:c,cy:f,innerRadius:h,outerRadius:m,startAngle:v,endAngle:y,clockWise:x}=a,w=(h+m)/2,S=RV(v,y),E=S>=0?1:-1,C,j;switch(t){case"insideStart":C=v+E*s,j=x;break;case"insideEnd":C=y-E*s,j=!x;break;case"end":C=y+E*s,j=x;break;default:throw new Error("Unsupported position ".concat(t))}j=S<=0?j:!j;var A=mn(c,f,w,C),T=mn(c,f,w,C+(j?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(T.x,",").concat(T.y),M=Vt(e.id)?bc("recharts-radial-line-"):e.id;return _.createElement("text",ia({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:M,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(M)},n))},kV=(e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:c,endAngle:f}=e,h=(c+f)/2;if(n==="outside"){var{x:m,y:v}=mn(r,a,o+t,h);return{x:m,y:v,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+o)/2,{x,y:w}=mn(r,a,y,h);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},qb=e=>"cx"in e&&ge(e.cx),LV=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,s;n!=null&&!qb(n)&&(s=n);var{x:o,y:c,upperWidth:f,lowerWidth:h,height:m}=t,v=o,y=o+(f-h)/2,x=(v+y)/2,w=(f+h)/2,S=v+f/2,E=m>=0?1:-1,C=E*r,j=E>0?"end":"start",A=E>0?"start":"end",T=f>=0?1:-1,D=T*r,M=T>0?"end":"start",k=T>0?"start":"end";if(a==="top"){var K={x:v+f/2,y:c-C,textAnchor:"middle",verticalAnchor:j};return rn(rn({},K),s?{height:Math.max(c-s.y,0),width:f}:{})}if(a==="bottom"){var te={x:y+h/2,y:c+m+C,textAnchor:"middle",verticalAnchor:A};return rn(rn({},te),s?{height:Math.max(s.y+s.height-(c+m),0),width:h}:{})}if(a==="left"){var U={x:x-D,y:c+m/2,textAnchor:M,verticalAnchor:"middle"};return rn(rn({},U),s?{width:Math.max(U.x-s.x,0),height:m}:{})}if(a==="right"){var $={x:x+w+D,y:c+m/2,textAnchor:k,verticalAnchor:"middle"};return rn(rn({},$),s?{width:Math.max(s.x+s.width-$.x,0),height:m}:{})}var P=s?{width:w,height:m}:{};return a==="insideLeft"?rn({x:x+D,y:c+m/2,textAnchor:k,verticalAnchor:"middle"},P):a==="insideRight"?rn({x:x+w-D,y:c+m/2,textAnchor:M,verticalAnchor:"middle"},P):a==="insideTop"?rn({x:v+f/2,y:c+C,textAnchor:"middle",verticalAnchor:A},P):a==="insideBottom"?rn({x:y+h/2,y:c+m-C,textAnchor:"middle",verticalAnchor:j},P):a==="insideTopLeft"?rn({x:v+D,y:c+C,textAnchor:k,verticalAnchor:A},P):a==="insideTopRight"?rn({x:v+f-D,y:c+C,textAnchor:M,verticalAnchor:A},P):a==="insideBottomLeft"?rn({x:y+D,y:c+m-C,textAnchor:k,verticalAnchor:j},P):a==="insideBottomRight"?rn({x:y+h-D,y:c+m-C,textAnchor:M,verticalAnchor:j},P):a&&typeof a=="object"&&(ge(a.x)||ha(a.x))&&(ge(a.y)||ha(a.y))?rn({x:o+Qn(a.x,w),y:c+Qn(a.y,m),textAnchor:"end",verticalAnchor:"end"},P):rn({x:S,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},P)},zV={angle:0,offset:5,zIndex:pn.label,position:"middle",textBreakAll:!1};function nl(e){var t=Rn(e,zV),{viewBox:n,position:r,value:a,children:s,content:o,className:c="",textBreakAll:f,labelRef:h}=t,m=PV(),v=ZR(),y=r==="center"?v:m??v,x,w,S;if(n==null?x=y:qb(n)?x=n:x=pP(n),!x||Vt(a)&&Vt(s)&&!_.isValidElement(o)&&typeof o!="function")return null;var E=rn(rn({},t),{},{viewBox:x});if(_.isValidElement(o)){var{labelRef:C}=E,j=NV(E,EV);return _.cloneElement(o,j)}if(typeof o=="function"){if(w=_.createElement(o,E),_.isValidElement(w))return w}else w=MV(t);var A=lr(t);if(qb(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return IV(t,r,w,A,x);S=kV(x,t.offset,t.position)}else S=LV(t,x);return _.createElement(wr,{zIndex:t.zIndex},_.createElement(vp,ia({ref:h,className:it("recharts-label",c)},A,S,{textAnchor:bV(A.textAnchor)?A.textAnchor:S.textAnchor,breakAll:f}),w))}nl.displayName="Label";var BV=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(nl,ia({key:"label-implicit"},r)):Ti(e)?_.createElement(nl,ia({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===nl?_.cloneElement(e,rn({key:"label-implicit"},r)):_.createElement(nl,ia({key:"label-implicit",content:e},r)):n1(e)?_.createElement(nl,ia({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(nl,ia({},e,{key:"label-implicit"},r)):null};function UV(e){var{label:t,labelRef:n}=e,r=ZR();return BV(t,r,n)||null}var w0={},S0={},Rj;function $V(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(S0)),S0}var E0={},Ij;function HV(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(E0)),E0}var kj;function qV(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$V(),n=HV(),r=Px();function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a})(w0)),w0}var N0,Lj;function FV(){return Lj||(Lj=1,N0=qV().last),N0}var KV=FV();const VV=Mi(KV);var GV=["valueAccessor"],YV=["dataKey","clockWise","id","textBreakAll","zIndex"];function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jh.apply(null,arguments)}function zj(e,t){if(e==null)return{};var n,r,a=WV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XV=e=>Array.isArray(e.value)?VV(e.value):e.value,JR=_.createContext(void 0),eI=JR.Provider,tI=_.createContext(void 0),QV=tI.Provider;function ZV(){return _.useContext(JR)}function JV(){return _.useContext(tI)}function ph(e){var{valueAccessor:t=XV}=e,n=zj(e,GV),{dataKey:r,clockWise:a,id:s,textBreakAll:o,zIndex:c}=n,f=zj(n,YV),h=ZV(),m=JV(),v=h||m;return!v||!v.length?null:_.createElement(wr,{zIndex:c??pn.label},_.createElement(an,{className:"recharts-label-list"},v.map((y,x)=>{var w,S=Vt(r)?t(y,x):St(y&&y.payload,r),E=Vt(s)?{}:{id:"".concat(s,"-").concat(x)};return _.createElement(nl,Jh({key:"label-".concat(x)},lr(y),f,E,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:o,viewBox:y.viewBox,index:x,zIndex:0}))})))}ph.displayName="LabelList";function r1(e){var{label:t}=e;return t?t===!0?_.createElement(ph,{key:"labelList-implicit"}):_.isValidElement(t)||n1(t)?_.createElement(ph,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(ph,Jh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(null,arguments)}var nI=e=>{var{cx:t,cy:n,r,className:a}=e,s=it("recharts-dot",a);return ge(t)&&ge(n)&&ge(r)?_.createElement("circle",Fb({},xr(e),Dx(e),{className:s,cx:t,cy:n,r})):null},rI=e=>e.graphicalItems.polarItems,eG=V([Ft,cd],N_),gp=V([rI,Gt,eG],C_),tG=V([gp],A_),yp=V([tG,p_],O_),nG=V([yp,Gt,gp],T_);V([yp,Gt,gp],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var s,o=St(r,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:St(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var Bj=()=>{},rG=V([yp,Gt,gp,hp,Ft],R_),iG=V([Gt,P_,M_,Bj,rG,Bj,Qe,Ft],I_),iI=V([Gt,Qe,yp,nG,ud,Ft,iG],k_),aG=V([iI,Gt,Wo],B_);V([Gt,iI,aG,Ft],$_);var lG={radiusAxis:{},angleAxis:{}},aI=_r({name:"polarAxis",initialState:lG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Oie,removeRadiusAxis:jie,addAngleAxis:Tie,removeAngleAxis:Die}=aI.actions,sG=aI.reducer;function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){oG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oG(e,t,n){return(t=uG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dG=(e,t)=>t,i1=V([rI,dG],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),fG=[],a1=(e,t,n)=>(n==null?void 0:n.length)===0?fG:n,lI=V([p_,i1,a1],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>$j($j({},t.presentationProps),s.props))),a!=null)return a}}),hG=V([lI,i1,a1],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var s,o=St(r,t.nameKey,t.name),c;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:$o(o,t.dataKey),color:c,payload:r,type:t.legendType}})}),mG=V([lI,i1,a1,_n],(e,t,n,r)=>{if(!(t==null||e==null))return pY({offset:r,pieSettings:t,displayedData:e,cells:n})}),C0={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function pG(){if(Hj)return gt;Hj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case e:switch(S=S.type,S){case n:case a:case r:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case o:case c:case v:case m:return S;case s:return S;default:return E}}case t:return E}}}return gt.ContextConsumer=s,gt.ContextProvider=o,gt.Element=e,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=v,gt.Memo=m,gt.Portal=t,gt.Profiler=a,gt.StrictMode=r,gt.Suspense=f,gt.SuspenseList=h,gt.isContextConsumer=function(S){return w(S)===s},gt.isContextProvider=function(S){return w(S)===o},gt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},gt.isForwardRef=function(S){return w(S)===c},gt.isFragment=function(S){return w(S)===n},gt.isLazy=function(S){return w(S)===v},gt.isMemo=function(S){return w(S)===m},gt.isPortal=function(S){return w(S)===t},gt.isProfiler=function(S){return w(S)===a},gt.isStrictMode=function(S){return w(S)===r},gt.isSuspense=function(S){return w(S)===f},gt.isSuspenseList=function(S){return w(S)===h},gt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===a||S===r||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===v||S.$$typeof===m||S.$$typeof===o||S.$$typeof===s||S.$$typeof===c||S.$$typeof===x||S.getModuleId!==void 0)},gt.typeOf=w,gt}var qj;function vG(){return qj||(qj=1,C0.exports=pG()),C0.exports}var gG=vG(),Fj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Kj=null,A0=null,sI=e=>{if(e===Kj&&Array.isArray(A0))return A0;var t=[];return _.Children.forEach(e,n=>{Vt(n)||(gG.isFragment(n)?t=t.concat(sI(n.props.children)):t.push(n))}),A0=t,Kj=e,t};function l1(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>Fj(a)):r=[Fj(t)],sI(e).forEach(a=>{var s=as(a,"type.displayName")||as(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var oI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,O0={},Vj;function yG(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(O0)),O0}var j0,Gj;function bG(){return Gj||(Gj=1,j0=yG().isPlainObject),j0}var xG=bG();const _G=Mi(xG);function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){wG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wG(e,t,n){return(t=SG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},em.apply(null,arguments)}var Xj=(e,t,n,r,a)=>{var s=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+a),o+="L ".concat(e+n-s/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},NG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CG=e=>{var t=Rn(e,NG),{x:n,y:r,upperWidth:a,lowerWidth:s,height:o,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:v}=t,y=_.useRef(null),[x,w]=_.useState(-1),S=_.useRef(a),E=_.useRef(s),C=_.useRef(o),j=_.useRef(n),A=_.useRef(r),T=id(e,"trapezoid-");if(_.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ee=y.current.getTotalLength();ee&&w(ee)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var D=it("recharts-trapezoid",c);if(!v)return _.createElement("g",null,_.createElement("path",em({},lr(t),{className:D,d:Xj(n,r,a,s,o)})));var M=S.current,k=E.current,K=C.current,te=j.current,U=A.current,$="0px ".concat(x===-1?1:x,"px"),P="".concat(x,"px 0px"),q=TP(["strokeDasharray"],h,f);return _.createElement(rd,{animationId:T,key:T,canBegin:x>0,duration:h,easing:f,isActive:v,begin:m},ee=>{var ae=It(M,a,ee),L=It(k,s,ee),X=It(K,o,ee),se=It(te,n,ee),he=It(U,r,ee);y.current&&(S.current=ae,E.current=L,C.current=X,j.current=se,A.current=he);var ve=ee>0?{transition:q,strokeDasharray:P}:{strokeDasharray:$};return _.createElement("path",em({},lr(t),{className:D,d:Xj(se,he,ae,L,X),ref:y,style:Wj(Wj({},ve),t.style)}))})},AG=["option","shapeType","propTransformer","activeClassName"];function OG(e,t){if(e==null)return{};var n,r,a=jG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){TG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TG(e,t,n){return(t=DG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){return tm(tm({},t),e)}function RG(e,t){return e==="symbols"}function Zj(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return _.createElement(RP,n);case"trapezoid":return _.createElement(CG,n);case"sector":return _.createElement(zP,n);case"symbols":if(RG(t))return _.createElement(pD,n);break;case"curve":return _.createElement(yo,n);default:return null}}function IG(e){return _.isValidElement(e)?e.props:e}function uI(e){var{option:t,shapeType:n,propTransformer:r=MG,activeClassName:a="recharts-active-shape"}=e,s=OG(e,AG),o;if(_.isValidElement(t))o=_.cloneElement(t,tm(tm({},s),IG(t)));else if(typeof t=="function")o=t(s,s.index);else if(_G(t)&&typeof t!="boolean"){var c=r(t,s);o=_.createElement(Zj,{shapeType:n,elementProps:c})}else{var f=s;o=_.createElement(Zj,{shapeType:n,elementProps:f})}return s.isActive?_.createElement(an,{className:a},o):o}var s1=(e,t,n)=>{var r=qt();return(a,s)=>o=>{e==null||e(a,s,o),r(bR({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},o1=e=>{var t=qt();return(n,r)=>a=>{e==null||e(n,r,a),t(Y9())}},u1=(e,t,n)=>{var r=qt();return(a,s)=>o=>{e==null||e(a,s,o),r(W9({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function c1(e){var{tooltipEntrySettings:t}=e,n=qt(),r=Zn(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(F9(t)):a.current!==t&&n(K9({prev:a.current,next:t})),a.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{a.current&&(n(V9(a.current)),a.current=null)},[n]),null}function cI(e){var{legendPayload:t}=e,n=qt(),r=Zn(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(CP(t)):a.current!==t&&n(AP({prev:a.current,next:t})),a.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{a.current&&(n(OP(a.current)),a.current=null)},[n]),null}function kG(e){var{legendPayload:t}=e,n=qt(),r=_e(Qe),a=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(CP(t)):a.current!==t&&n(AP({prev:a.current,next:t})),a.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{a.current&&(n(OP(a.current)),a.current=null)},[n]),null}var T0,LG=()=>{var[e]=_.useState(()=>bc("uid-"));return e},zG=(T0=$L.useId)!==null&&T0!==void 0?T0:LG;function dI(e,t){var n=zG();return t||(e?"".concat(e,"-").concat(n):n)}var BG=_.createContext(void 0),d1=e=>{var{id:t,type:n,children:r}=e,a=dI("recharts-".concat(n),t);return _.createElement(BG.Provider,{value:a},r(a))},UG={cartesianItems:[],polarItems:[]},fI=_r({name:"graphicalItems",initialState:UG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Bt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=vi(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Bt()},removeCartesianGraphicalItem:{reducer(e,t){var n=vi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Bt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Bt()},removePolarGraphicalItem:{reducer(e,t){var n=vi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Bt()}}}),{addCartesianGraphicalItem:$G,replaceCartesianGraphicalItem:HG,removeCartesianGraphicalItem:qG,addPolarGraphicalItem:FG,removePolarGraphicalItem:KG}=fI.actions,VG=fI.reducer,GG=e=>{var t=qt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t($G(e)):n.current!==e&&t(HG({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(qG(n.current)),n.current=null)},[t]),null},hI=_.memo(GG);function YG(e){var t=qt();return _.useLayoutEffect(()=>(t(FG(e)),()=>{t(KG(e))}),[t,e]),null}var WG=["key"],XG=["onMouseEnter","onClick","onMouseLeave"],QG=["id"],ZG=["id"];function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){JG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JG(e,t,n){return(t=eY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(null,arguments)}function bp(e,t){if(e==null)return{};var n,r,a=nY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rY(e){var t=_.useMemo(()=>l1(e.children,al),[e.children]),n=_e(r=>hG(r,e.id,t));return n==null?null:_.createElement(kG,{legendPayload:n})}var iY=_.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:o,name:c,hide:f,tooltipType:h}=e,m={dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:n,name:$o(c,t),hide:f,type:h,color:o,unit:""}};return _.createElement(c1,{tooltipEntrySettings:m})}),aY=(e,t)=>e>t?"start":e<t?"end":"middle",lY=(e,t,n)=>Qn(typeof t=="function"?t(e):t,n,n*.8),sY=(e,t,n)=>{var{top:r,left:a,width:s,height:o}=t,c=IP(s,o),f=a+Qn(e.cx,s,s/2),h=r+Qn(e.cy,o,o/2),m=Qn(e.innerRadius,c,0),v=lY(n,e.outerRadius,c),y=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:f,cy:h,innerRadius:m,outerRadius:v,maxRadius:y}},oY=(e,t)=>{var n=Mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function uY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var cY=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var n=it("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=bp(t,WG);return _.createElement(yo,vl({},a,{type:"linear",className:n}))},dY=(e,t,n)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),_.isValidElement(r)))return r;var a=it("recharts-pie-label-text",uY(e));return _.createElement(vp,vl({},t,{alignmentBaseline:"middle",className:a}),r)};function fY(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:o}=n;if(!r||!a||!t)return null;var c=xr(n),f=is(a),h=is(s),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=t.map((y,x)=>{var w=(y.startAngle+y.endAngle)/2,S=mn(y.cx,y.cy,y.outerRadius+m,w),E=Jt(Jt(Jt(Jt({},c),y),{},{stroke:"none"},f),{},{index:x,textAnchor:aY(S.x,y.cx)},S),C=Jt(Jt(Jt(Jt({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[mn(y.cx,y.cy,y.outerRadius,w),S],key:"line"});return _.createElement(wr,{zIndex:pn.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},_.createElement(an,null,s&&cY(s,C),dY(a,E,St(y,o))))});return _.createElement(an,{className:"recharts-pie-labels"},v)}function hY(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(r1,{label:a}):_.createElement(fY,{sectors:t,props:n,showLabels:r})}function mY(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s,id:o}=e,c=_e(pl),f=_e(X_),h=_e(RF),{onMouseEnter:m,onClick:v,onMouseLeave:y}=a,x=bp(a,XG),w=s1(m,a.dataKey,o),S=o1(y),E=u1(v,a.dataKey,o);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((C,j)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var A=h==null||h===o,T=String(j)===c&&(f==null||a.dataKey===f)&&A,D=c?r:null,M=n&&T?n:D,k=Jt(Jt({},C),{},{stroke:C.stroke,tabIndex:-1,[cP]:j,[dP]:a.dataKey});return _.createElement(an,vl({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},Mm(x,C,j),{onMouseEnter:w(C,j),onMouseLeave:S(C,j),onClick:E(C,j)}),_.createElement(uI,vl({option:s??M,index:j,shapeType:"sector",isActive:T},k)))}))}function pY(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:s}=e,{cornerRadius:o,startAngle:c,endAngle:f,dataKey:h,nameKey:m,tooltipType:v}=n,y=Math.abs(n.minAngle),x=oY(c,f),w=Math.abs(x),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,E=r.filter(M=>St(M,h,0)!==0).length,C=(w>=360?E:E-1)*S,j=w-E*y-C,A=r.reduce((M,k)=>{var K=St(k,h,0);return M+(ge(K)?K:0)},0),T;if(A>0){var D;T=r.map((M,k)=>{var K=St(M,h,0),te=St(M,m,k),U=sY(n,s,M),$=(ge(K)?K:0)/A,P,q=Jt(Jt({},M),a&&a[k]&&a[k].props);k?P=D.endAngle+Mn(x)*S*(K!==0?1:0):P=c;var ee=P+Mn(x)*((K!==0?y:0)+$*j),ae=(P+ee)/2,L=(U.innerRadius+U.outerRadius)/2,X=[{name:te,value:K,payload:q,dataKey:h,type:v}],se=mn(U.cx,U.cy,L,ae);return D=Jt(Jt(Jt(Jt({},n.presentationProps),{},{percent:$,cornerRadius:typeof o=="string"?parseFloat(o):o,name:te,tooltipPayload:X,midAngle:ae,middleRadius:L,tooltipPosition:se},q),U),{},{value:K,dataKey:h,startAngle:P,endAngle:ee,payload:q,paddingAngle:Mn(x)*S}),D})}return T}function vY(e){var{showLabels:t,sectors:n,children:r}=e,a=_.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return _.createElement(QV,{value:t?a:void 0},r)}function gY(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:f,activeShape:h,inactiveShape:m,onAnimationStart:v,onAnimationEnd:y}=t,x=id(t,"recharts-pie-"),w=n.current,[S,E]=_.useState(!1),C=_.useCallback(()=>{typeof y=="function"&&y(),E(!1)},[y]),j=_.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]);return _.createElement(vY,{showLabels:!S,sectors:a},_.createElement(rd,{animationId:x,begin:o,duration:c,isActive:s,easing:f,onAnimationStart:j,onAnimationEnd:C,key:x},A=>{var T=[],D=a&&a[0],M=D==null?void 0:D.startAngle;return a==null||a.forEach((k,K)=>{var te=w&&w[K],U=K>0?as(k,"paddingAngle",0):0;if(te){var $=It(te.endAngle-te.startAngle,k.endAngle-k.startAngle,A),P=Jt(Jt({},k),{},{startAngle:M+U,endAngle:M+$+U});T.push(P),M=P.endAngle}else{var{endAngle:q,startAngle:ee}=k,ae=It(0,q-ee,A),L=Jt(Jt({},k),{},{startAngle:M+U,endAngle:M+ae+U});T.push(L),M=L.endAngle}}),n.current=T,_.createElement(an,null,_.createElement(mY,{sectors:T,activeShape:h,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:r}))}),_.createElement(hY,{showLabels:!S,sectors:a,props:t}),t.children)}var yY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pn.area};function bY(e){var{id:t}=e,n=bp(e,QG),{hide:r,className:a,rootTabIndex:s}=e,o=_.useMemo(()=>l1(e.children,al),[e.children]),c=_e(m=>mG(m,t,o)),f=_.useRef(null),h=it("recharts-pie",a);return r||c==null?(f.current=null,_.createElement(an,{tabIndex:s,className:h})):_.createElement(wr,{zIndex:e.zIndex},_.createElement(iY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),_.createElement(an,{tabIndex:s,className:h},_.createElement(gY,{props:Jt(Jt({},n),{},{sectors:c}),previousSectorsRef:f,id:t})))}function Kb(e){var t=Rn(e,yY),{id:n}=t,r=bp(t,ZG),a=xr(r);return _.createElement(d1,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(YG,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),_.createElement(rY,vl({},r,{id:s})),_.createElement(bY,vl({},r,{id:s}))))}Kb.displayName="Pie";var xY=["points"];function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function D0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){_Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Y(e,t,n){return(t=wY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nm.apply(null,arguments)}function EY(e,t){if(e==null)return{};var n,r,a=NY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CY(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var a=it(r,typeof t!="boolean"?t.className:""),s=n??{},{points:o}=s,c=EY(s,xY);return _.createElement(nI,nm({},c,{className:a}))}function AY(e,t){return e==null?!1:t?!0:e.length===1}function OY(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:o,needClip:c,clipPathId:f,zIndex:h=pn.scatter}=e;if(!AY(t,n))return null;var m=oI(n),v=w5(n),y=t.map((w,S)=>{var E,C,j=D0(D0(D0({r:3},o),v),{},{index:S,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(C=w.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return _.createElement(CY,{key:"dot-".concat(S),option:n,dotProps:j,className:a})}),x={};return c&&f!=null&&(x.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(f,")")),_.createElement(wr,{zIndex:h},_.createElement(an,nm({className:r},x),y))}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){jY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(e,t,n){return(t=TY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PY={xAxis:{},yAxis:{},zAxis:{}},mI=_r({name:"cartesianAxis",initialState:PY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Bt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Bt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Bt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Bt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Bt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Bt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Bt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Bt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Bt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=nT(nT({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:MY,replaceXAxis:RY,removeXAxis:IY,addYAxis:kY,replaceYAxis:LY,removeYAxis:zY,addZAxis:Pie,replaceZAxis:Mie,removeZAxis:Rie,updateYAxisWidth:BY}=mI.actions,UY=mI.reducer,$Y=V([_n],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),HY=V([$Y,Sa,Ea],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),f1=()=>_e(HY),qY=()=>_e(BF);function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=KY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GY=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=P0(P0(P0({},c),is(a)),Dx(a)),h;return _.isValidElement(a)?h=_.cloneElement(a,f):typeof a=="function"?h=a(f):h=_.createElement(nI,f),_.createElement(an,{className:"recharts-active-dot",clipPath:o},h)};function iT(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:o=pn.activeDot}=e,c=_e(pl),f=qY();if(t==null||f==null)return null;var h=t.find(m=>f.includes(m.payload));return Vt(h)?null:_.createElement(wr,{zIndex:o},_.createElement(GY,{point:h,childIndex:Number(c),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var YY="Invariant failed";function WY(e,t){throw new Error(YY)}var XY=["x","y"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(null,arguments)}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eW(e,t){if(e==null)return{};var n,r,a=tW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nW(e,t){var{x:n,y:r}=e,a=eW(e,XY),s="".concat(n),o=parseInt(s,10),c="".concat(r),f=parseInt(c,10),h="".concat(t.height||a.height),m=parseInt(h,10),v="".concat(t.width||a.width),y=parseInt(v,10);return rc(rc(rc(rc(rc({},t),a),o?{x:o}:{}),f?{y:f}:{}),{},{height:m,width:y,name:t.name,radius:t.radius})}function rm(e){return _.createElement(uI,Vb({shapeType:"rectangle",propTransformer:nW,activeClassName:"recharts-active-bar"},e))}var rW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(ge(t))return t;var s=ge(r)||Vt(r);return s?t(r,a):(s||WY(),n)}},iW={},pI=_r({name:"errorBars",initialState:iW,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Iie,replaceErrorBar:kie,removeErrorBar:Lie}=pI.actions,aW=pI.reducer,lW=["children"];function sW(e,t){if(e==null)return{};var n,r,a=oW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cW=_.createContext(uW);function dW(e){var{children:t}=e,n=sW(e,lW);return _.createElement(cW.Provider,{value:n},t)}function h1(e,t){var n,r,a=_e(h=>Ca(h,e)),s=_e(h=>Aa(h,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:On.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,f=o||c;return{needClip:f,needClipX:o,needClipY:c}}function vI(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=f1(),{needClipX:s,needClipY:o,needClip:c}=h1(t,n);if(!c||!a)return null;var{x:f,y:h,width:m,height:v}=a;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-m/2,y:o?h:h-v/2,width:s?m:m*2,height:o?v:v*2}))}function fW(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&kt(e.zIndex)?e.zIndex:t}var M0={exports:{}},R0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function hW(){if(lT)return R0;lT=1;var e=zo();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return R0.useSyncExternalStoreWithSelector=function(f,h,m,v,y){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=o(function(){function E(D){if(!C){if(C=!0,j=D,D=v(D),y!==void 0&&w.hasValue){var M=w.value;if(y(M,D))return A=M}return A=D}if(M=A,n(j,D))return M;var k=v(D);return y!==void 0&&y(M,k)?(j=D,M):(j=D,A=k)}var C=!1,j,A,T=m===void 0?null:m;return[function(){return E(h())},T===null?void 0:function(){return E(T())}]},[h,m,v,y]);var S=r(f,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),c(S),S},R0}var sT;function mW(){return sT||(sT=1,M0.exports=hW()),M0.exports}mW();function pW(e){e()}function vW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pW(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var oT={notify(){},get:()=>[]};function gW(e,t){let n,r=oT,a=0,s=!1;function o(S){m();const E=r.subscribe(S);let C=!1;return()=>{C||(C=!0,E(),v())}}function c(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function m(){a++,n||(n=e.subscribe(f),r=vW())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=oT)}function y(){s||(s=!0,m())}function x(){s&&(s=!1,v())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return w}var yW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bW=yW(),xW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_W=xW(),wW=()=>bW||_W?_.useLayoutEffect:_.useEffect,SW=wW();function uT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function EW(e,t){if(uT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!uT(e[n[a]],t[n[a]]))return!1;return!0}var I0=Symbol.for("react-redux-context"),k0=typeof globalThis<"u"?globalThis:{};function NW(){if(!_.createContext)return{};const e=k0[I0]??(k0[I0]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var CW=NW();function AW(e){const{children:t,context:n,serverState:r,store:a}=e,s=_.useMemo(()=>{const f=gW(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),o=_.useMemo(()=>a.getState(),[a]);SW(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,o]);const c=n||CW;return _.createElement(c.Provider,{value:s},t)}var OW=AW,jW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function TW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function xp(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(jW.has(r)){if(e[r]==null&&t[r]==null)continue;if(!EW(e[r],t[r]))return!1}else if(!TW(e[r],t[r]))return!1;return!0}var DW=["onMouseEnter","onMouseLeave","onClick"],PW=["value","background","tooltipPosition"],MW=["id"],RW=["onMouseEnter","onClick","onMouseLeave"];function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(null,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){IW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IW(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(e,t){if(e==null)return{};var n,r,a=zW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BW=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:$o(n,t),payload:e}]},UW=_.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:s,hide:o,unit:c,tooltipType:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:$o(s,t),hide:o,type:f,color:a,unit:c}};return _.createElement(c1,{tooltipEntrySettings:h})});function $W(e){var t=_e(pl),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:c,onClick:f}=s,h=im(s,DW),m=s1(o,r),v=o1(c),y=u1(f,r);if(!a||n==null)return null;var x=is(a);return _.createElement(wr,{zIndex:fW(a,pn.barBackground)},n.map((w,S)=>{var{value:E,background:C,tooltipPosition:j}=w,A=im(w,PW);if(!C)return null;var T=m(w,S),D=v(w,S),M=y(w,S),k=nr(nr(nr(nr(nr({option:a,isActive:String(S)===t},A),{},{fill:"#eee"},C),x),Mm(h,w,S)),{},{onMouseEnter:T,onMouseLeave:D,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return _.createElement(rm,ba({key:"background-bar-".concat(S)},k))}))}function HW(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return nr(nr({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return _.createElement(eI,{value:t?a:void 0},n)}function qW(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:s,dataKey:o}=e,c=_e(pl),f=_e(X_),h=n&&String(s)===c&&(f==null||o===f),m=h?n:t;return h?_.createElement(wr,{zIndex:pn.activeBar},_.createElement(rm,ba({},r,{name:String(r.name)},a,{isActive:h,option:m,index:s,dataKey:o}))):_.createElement(rm,ba({},r,{name:String(r.name)},a,{isActive:h,option:m,index:s,dataKey:o}))}function FW(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:s}=e;return _.createElement(rm,ba({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:s}))}function KW(e){var t,{data:n,props:r}=e,a=(t=xr(r))!==null&&t!==void 0?t:{},{id:s}=a,o=im(a,MW),{shape:c,dataKey:f,activeBar:h}=r,{onMouseEnter:m,onClick:v,onMouseLeave:y}=r,x=im(r,RW),w=s1(m,f),S=o1(y),E=u1(v,f);return n?_.createElement(_.Fragment,null,n.map((C,j)=>_.createElement(an,ba({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(j),className:"recharts-bar-rectangle"},Mm(x,C,j),{onMouseEnter:w(C,j),onMouseLeave:S(C,j),onClick:E(C,j)}),h?_.createElement(qW,{shape:c,activeBar:h,baseProps:o,entry:C,index:j,dataKey:f}):_.createElement(FW,{shape:c,baseProps:o,entry:C,index:j,dataKey:f})))):null}function VW(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=t,v=n.current,y=id(t,"recharts-bar-"),[x,w]=_.useState(!1),S=!x,E=_.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),C=_.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return _.createElement(HW,{showLabels:S,rects:r},_.createElement(rd,{animationId:y,begin:o,duration:c,isActive:s,easing:f,onAnimationEnd:E,onAnimationStart:C,key:y},j=>{var A=j===1?r:r==null?void 0:r.map((T,D)=>{var M=v&&v[D];if(M)return nr(nr({},T),{},{x:It(M.x,T.x,j),y:It(M.y,T.y,j),width:It(M.width,T.width,j),height:It(M.height,T.height,j)});if(a==="horizontal"){var k=It(0,T.height,j),K=It(T.stackedBarStart,T.y,j);return nr(nr({},T),{},{y:K,height:k})}var te=It(0,T.width,j),U=It(T.stackedBarStart,T.x,j);return nr(nr({},T),{},{width:te,x:U})});return j>0&&(n.current=A??null),A==null?null:_.createElement(an,null,_.createElement(KW,{props:t,data:A}))}),_.createElement(r1,{label:t.label}),t.children)}function GW(e){var t=_.useRef(null);return _.createElement(VW,{previousRectanglesRef:t,props:e})}var gI=0,YW=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:St(e,t)}};class WW extends _.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:o,needClip:c,background:f,id:h}=this.props;if(t||n==null)return null;var m=it("recharts-bar",a),v=h;return _.createElement(an,{className:m,id:h},c&&_.createElement("defs",null,_.createElement(vI,{clipPathId:v,xAxisId:s,yAxisId:o})),_.createElement(an,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):void 0},_.createElement($W,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(GW,this.props)))}}var XW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:gI,xAxisId:0,yAxisId:0,zIndex:pn.bar};function QW(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m}=e,{needClip:v}=h1(t,n),y=Ho(),x=Zn(),w=l1(e.children,al),S=_e(j=>NX(j,t,n,x,e.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var E,C=S==null?void 0:S[0];return C==null||C.height==null||C.width==null?E=0:E=y==="vertical"?C.height/2:C.width/2,_.createElement(dW,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:YW,errorBarOffset:E},_.createElement(WW,ba({},e,{layout:y,needClip:v,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function ZW(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:o,yAxis:c,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:v,offset:y,cells:x,parentViewBox:w,dataStartIndex:S}=e,E=t==="horizontal"?c:o,C=m?E.scale.domain():null,j=RB({numericAxis:E}),A=E.scale(j);return v.map((T,D)=>{var M,k,K,te,U,$;m?M=jB(m[D+S],C):(M=St(T,n),Array.isArray(M)||(M=[j,M]));var P=rW(r,gI)(M[1],D);if(t==="horizontal"){var q,[ee,ae]=[c.scale(M[0]),c.scale(M[1])];k=OA({axis:o,ticks:f,bandSize:s,offset:a.offset,entry:T,index:D}),K=(q=ae??ee)!==null&&q!==void 0?q:void 0,te=a.size;var L=ee-ae;if(U=ii(L)?0:L,$={x:k,y:y.top,width:te,height:y.height},Math.abs(P)>0&&Math.abs(U)<Math.abs(P)){var X=Mn(U||P)*(Math.abs(P)-Math.abs(U));K-=X,U+=X}}else{var[se,he]=[o.scale(M[0]),o.scale(M[1])];if(k=se,K=OA({axis:c,ticks:h,bandSize:s,offset:a.offset,entry:T,index:D}),te=he-se,U=a.size,$={x:y.left,y:K,width:y.width,height:U},Math.abs(P)>0&&Math.abs(te)<Math.abs(P)){var ve=Mn(te||P)*(Math.abs(P)-Math.abs(te));te+=ve}}if(k==null||K==null||te==null||U==null)return null;var R=nr(nr({},T),{},{stackedBarStart:A,x:k,y:K,width:te,height:U,value:m?M:M[1],payload:T,background:$,tooltipPosition:{x:k+te/2,y:K+U/2},parentViewBox:w},x&&x[D]&&x[D].props);return R}).filter(Boolean)}function JW(e){var t=Rn(e,XW),n=Zn();return _.createElement(d1,{id:t.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(cI,{legendPayload:BW(t)}),_.createElement(UW,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(hI,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:oP(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(wr,{zIndex:t.zIndex},_.createElement(QW,ba({},t,{id:r})))))}var m1=_.memo(JW,xp);m1.displayName="Bar";function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(n),!0).forEach(function(r){eX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eX(e,t,n){return(t=tX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rX=(e,t)=>t,iX=(e,t,n)=>n,aX=(e,t,n,r)=>r,lX=(e,t,n,r,a)=>a,bd=V([dp,lX],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),sX=V([bd],e=>e==null?void 0:e.maxBarSize),oX=(e,t,n,r,a,s)=>s,fT=(e,t,n)=>{var r=n??e;if(!Vt(r))return Qn(r,t,0)},uX=V([Qe,dp,rX,iX,aX],(e,t,n,r,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),cX=(e,t,n,r)=>{var a=Qe(e);return a==="horizontal"?Pc(e,"yAxis",n,r):Pc(e,"xAxis",t,r)},dX=(e,t,n)=>{var r=Qe(e);return r==="horizontal"?aj(e,"xAxis",t):aj(e,"yAxis",n)},fX=(e,t,n)=>{var r={},a=e.filter(op),s=e.filter(h=>h.stackId==null),o=a.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),c=Object.entries(o).map(h=>{var[m,v]=h,y=v.map(w=>w.dataKey),x=fT(t,n,v[0].barSize);return{stackId:m,dataKeys:y,barSize:x}}),f=s.map(h=>{var m=[h.dataKey].filter(y=>y!=null),v=fT(t,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:v}});return[...c,...f]},hX=V([uX,kq,dX],fX),mX=(e,t,n,r,a)=>{var s,o,c=bd(e,t,n,r,a);if(c!=null){var f=Qe(e),h=RM(e),{maxBarSize:m}=c,v=Vt(m)?h:m,y,x;return f==="horizontal"?(y=ml(e,"xAxis",t,r),x=hl(e,"xAxis",t,r)):(y=ml(e,"yAxis",n,r),x=hl(e,"yAxis",n,r)),(s=(o=Co(y,x,!0))!==null&&o!==void 0?o:v)!==null&&s!==void 0?s:0}},yI=(e,t,n,r)=>{var a=Qe(e),s,o;return a==="horizontal"?(s=ml(e,"xAxis",t,r),o=hl(e,"xAxis",t,r)):(s=ml(e,"yAxis",n,r),o=hl(e,"yAxis",n,r)),Co(s,o)};function pX(e,t,n,r,a){var s=r.length;if(!(s<1)){var o=Qn(e,n,0,!0),c,f=[];if(kt(r[0].barSize)){var h=!1,m=n/s,v=r.reduce((C,j)=>C+(j.barSize||0),0);v+=(s-1)*o,v>=n&&(v-=(s-1)*o,o=0),v>=n&&m>0&&(h=!0,m*=.9,v=s*m);var y=(n-v)/2>>0,x={offset:y-o,size:0};c=r.reduce((C,j)=>{var A,T={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:x.offset+x.size+o,size:h?m:(A=j.barSize)!==null&&A!==void 0?A:0}},D=[...C,T];return x=D[D.length-1].position,D},f)}else{var w=Qn(t,n,0,!0);n-2*w-(s-1)*o<=0&&(o=0);var S=(n-2*w-(s-1)*o)/s;S>1&&(S>>=0);var E=kt(a)?Math.min(S,a):S;c=r.reduce((C,j,A)=>[...C,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:w+(S+o)*A+(S-E)/2,size:E}}],f)}return c}}var vX=(e,t,n,r,a,s,o)=>{var c=Vt(o)?t:o,f=pX(n,r,a!==s?a:s,e,c);return a!==s&&f!=null&&(f=f.map(h=>ah(ah({},h),{},{position:ah(ah({},h.position),{},{offset:h.position.offset-a/2})}))),f},gX=V([hX,RM,Iq,IM,mX,yI,sX],vX),yX=(e,t,n,r)=>ml(e,"xAxis",t,r),bX=(e,t,n,r)=>ml(e,"yAxis",n,r),xX=(e,t,n,r)=>hl(e,"xAxis",t,r),_X=(e,t,n,r)=>hl(e,"yAxis",n,r),wX=V([gX,bd],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),SX=(e,t)=>{var n=sp(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===n)}}}},EX=V([cX,bd],SX),NX=V([_n,Hx,yX,bX,xX,_X,wX,Qe,ip,yI,EX,bd,oX],(e,t,n,r,a,s,o,c,f,h,m,v,y)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:S}=f;if(!(v==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:E}=v,C;if(E!=null&&E.length>0?C=E:C=x==null?void 0:x.slice(w,S+1),C!=null)return ZW({layout:c,barSettings:v,pos:o,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:C,offset:e,cells:y,dataStartIndex:w})}}),bI=e=>{var{chartData:t}=e,n=qt(),r=Zn();return _.useEffect(()=>r?()=>{}:(n(yj(t)),()=>{n(yj(void 0))}),[t,n,r]),null},hT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xI=_r({name:"brush",initialState:hT,reducers:{setBrushSettings(e,t){return t.payload==null?hT:t.payload}}}),{setBrushSettings:zie}=xI.actions,CX=xI.reducer;function AX(e,t,n){return(t=OX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class p1{static create(t){return new p1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}AX(p1,"EPS",1e-4);function TX(e){return(e%180+180)%180}var DX=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=TX(a),o=s*Math.PI/180,c=Math.atan(r/n),f=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},PX={dots:[],areas:[],lines:[]},_I=_r({name:"referenceElements",initialState:PX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=vi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=vi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=vi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Bie,removeDot:Uie,addArea:$ie,removeArea:Hie,addLine:qie,removeLine:Fie}=_I.actions,MX=_I.reducer,RX=_.createContext(void 0),IX=e=>{var{children:t}=e,[n]=_.useState("".concat(bc("recharts"),"-clip")),r=f1();if(r==null)return null;var{x:a,y:s,width:o,height:c}=r;return _.createElement(RX.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:a,y:s,height:c,width:o}))),t)};function wI(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function kX(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return DX(r,n)}function LX(e,t,n){var r=n==="width",{x:a,y:s,width:o,height:c}=e;return t===1?{start:r?a:s,end:r?a+o:s+c}:{start:r?a+o:s+c,end:r?a:s}}function am(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function zX(e,t){return wI(e,t+1)}function BX(e,t,n,r,a){for(var s=(r||[]).slice(),{start:o,end:c}=t,f=0,h=1,m=o,v=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:wI(r,h)};var S=f,E,C=()=>(E===void 0&&(E=n(w,S)),E),j=w.coordinate,A=f===0||am(e,j,C,m,c);A||(f=0,m=o,h+=1),A&&(m=j+e*(C()/2+a),f+=h)},y;h<=s.length;)if(y=v(),y)return y.v;return[]}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qX(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,{start:c}=t,{end:f}=t,h=function(y){var x=s[y],w,S=()=>(w===void 0&&(w=n(x,y)),w);if(y===o-1){var E=e*(x.coordinate+e*S()/2-f);s[y]=x=Wn(Wn({},x),{},{tickCoord:E>0?x.coordinate-E*e:x.coordinate})}else s[y]=x=Wn(Wn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var C=am(e,x.tickCoord,S,c,f);C&&(f=x.tickCoord-e*(S()/2+a),s[y]=Wn(Wn({},x),{},{isShow:!0}))}},m=o-1;m>=0;m--)h(m);return s}function FX(e,t,n,r,a,s){var o=(r||[]).slice(),c=o.length,{start:f,end:h}=t;if(s){var m=r[c-1],v=n(m,c-1),y=e*(m.coordinate+e*v/2-h);if(o[c-1]=m=Wn(Wn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var x=am(e,m.tickCoord,()=>v,f,h);x&&(h=m.tickCoord-e*(v/2+a),o[c-1]=Wn(Wn({},m),{},{isShow:!0}))}}for(var w=s?c-1:c,S=function(j){var A=o[j],T,D=()=>(T===void 0&&(T=n(A,j)),T);if(j===0){var M=e*(A.coordinate-e*D()/2-f);o[j]=A=Wn(Wn({},A),{},{tickCoord:M<0?A.coordinate-M*e:A.coordinate})}else o[j]=A=Wn(Wn({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var k=am(e,A.tickCoord,D,f,h);k&&(f=A.tickCoord+e*(D()/2+a),o[j]=Wn(Wn({},A),{},{isShow:!0}))}},E=0;E<w;E++)S(E);return o}function v1(e,t,n){var{tick:r,ticks:a,viewBox:s,minTickGap:o,orientation:c,interval:f,tickFormatter:h,unit:m,angle:v}=e;if(!a||!a.length||!r)return[];if(ge(f)||qo.isSsr){var y;return(y=zX(a,ge(f)?f:0))!==null&&y!==void 0?y:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",S=m&&w==="width"?dc(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(A,T)=>{var D=typeof h=="function"?h(A.value,T):A.value;return w==="width"?kX(dc(D,{fontSize:t,letterSpacing:n}),S,v):dc(D,{fontSize:t,letterSpacing:n})[w]},C=a.length>=2?Mn(a[1].coordinate-a[0].coordinate):1,j=LX(s,C,w);return f==="equidistantPreserveStart"?BX(C,j,E,a,o):(f==="preserveStart"||f==="preserveStartEnd"?x=FX(C,j,E,a,o,f==="preserveStartEnd"):x=qX(C,j,E,a,o),x.filter(A=>A.isShow))}var KX=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var v=m.getBoundingClientRect();v.width>o&&(o=v.width)}});var c=n?n.getBoundingClientRect().width:0,f=a+s,h=o+f+c+(n?r:0);return Math.round(h)}return 0},VX=["axisLine","width","height","className","hide","ticks","axisType"];function GX(e,t){if(e==null)return{};var n,r,a=YX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(null,arguments)}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=XX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ca={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pn.axis};function ZX(e){var{x:t,y:n,width:r,height:a,orientation:s,mirror:o,axisLine:c,otherSvgProps:f}=e;if(!c)return null;var h=fn(fn(fn({},f),xr(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!o||s==="bottom"&&o);h=fn(fn({},h),{},{x1:t,y1:n+m*a,x2:t+r,y2:n+m*a})}else{var v=+(s==="left"&&!o||s==="right"&&o);h=fn(fn({},h),{},{x1:t+v*r,y1:n,x2:t+v*r,y2:n+a})}return _.createElement("line",us({},h,{className:it("recharts-cartesian-axis-line",as(c,"className"))}))}function JX(e,t,n,r,a,s,o,c,f){var h,m,v,y,x,w,S=c?-1:1,E=e.tickSize||o,C=ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=m=e.coordinate,y=n+ +!c*a,v=y-S*E,w=v-S*f,x=C;break;case"left":v=y=e.coordinate,m=t+ +!c*r,h=m-S*E,x=h-S*f,w=C;break;case"right":v=y=e.coordinate,m=t+ +c*r,h=m+S*E,x=h+S*f,w=C;break;default:h=m=e.coordinate,y=n+ +c*a,v=y+S*E,w=v+S*f,x=C;break}return{line:{x1:h,y1:v,x2:m,y2:y},tick:{x,y:w}}}function eQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function tQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function nQ(e){var{option:t,tickProps:n,value:r}=e,a,s=it(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))a=_.cloneElement(t,fn(fn({},n),{},{className:s}));else if(typeof t=="function")a=t(fn(fn({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=it(o,t==null?void 0:t.className)),a=_.createElement(vp,us({},n,{className:o}),r)}return a}var rQ=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:o,unit:c,padding:f,tickTextProps:h,orientation:m,mirror:v,x:y,y:x,width:w,height:S,tickSize:E,tickMargin:C,fontSize:j,letterSpacing:A,getTicksConfig:T,events:D,axisType:M}=e,k=v1(fn(fn({},T),{},{ticks:n}),j,A),K=eQ(m,v),te=tQ(m,v),U=xr(T),$=is(r),P={};typeof a=="object"&&(P=a);var q=fn(fn({},U),{},{fill:"none"},P),ee=k.map(X=>fn({entry:X},JX(X,y,x,w,S,m,E,v,C))),ae=ee.map(X=>{var{entry:se,line:he}=X;return _.createElement(an,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},a&&_.createElement("line",us({},q,he,{className:it("recharts-cartesian-axis-tick-line",as(a,"className"))})))}),L=ee.map((X,se)=>{var{entry:he,tick:ve}=X,R=fn(fn(fn(fn({textAnchor:K,verticalAnchor:te},U),{},{stroke:"none",fill:s},$),ve),{},{index:se,payload:he,visibleTicksCount:k.length,tickFormatter:o,padding:f},h);return _.createElement(an,us({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},Mm(D,he,se)),r&&_.createElement(nQ,{option:r,tickProps:R,value:"".concat(typeof o=="function"?o(he.value,se):he.value).concat(c||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},L.length>0&&_.createElement(wr,{zIndex:pn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},L)),ae.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},ae))}),iQ=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:s,hide:o,ticks:c,axisType:f}=e,h=GX(e,VX),[m,v]=_.useState(""),[y,x]=_.useState(""),w=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return KX({ticks:w.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=_.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var j=C[0];if(j){var A=window.getComputedStyle(j),T=A.fontSize,D=A.letterSpacing;(T!==m||D!==y)&&(v(T),x(D))}}},[m,y]);return o||r!=null&&r<=0||a!=null&&a<=0?null:_.createElement(wr,{zIndex:e.zIndex},_.createElement(an,{className:it("recharts-cartesian-axis",s)},_.createElement(ZX,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:xr(e)}),_.createElement(rQ,{ref:S,axisType:f,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(TV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(UV,{label:e.label,labelRef:e.labelRef}),e.children)))}),g1=_.forwardRef((e,t)=>{var n=Rn(e,ca);return _.createElement(iQ,us({},n,{ref:t}))});g1.displayName="CartesianAxis";var aQ=["x1","y1","x2","y2","key"],lQ=["offset"],sQ=["xAxisId","yAxisId"],oQ=["xAxisId","yAxisId"];function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){uQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uQ(e,t,n){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}function lm(e,t){if(e==null)return{};var n,r,a=fQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:o,ry:c}=e;return _.createElement("rect",{x:r,y:a,ry:c,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function SI(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:s,y1:o,x2:c,y2:f,key:h}=n,m=lm(n,aQ),v=(a=xr(m))!==null&&a!==void 0?a:{},{offset:y}=v,x=lm(v,lQ);r=_.createElement("line",Ql({},x,{x1:s,y1:o,x2:c,y2:f,fill:"none",key:h}))}return r}function mQ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,c=lm(e,sQ),f=a.map((h,m)=>{var v=Xn(Xn({},c),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(m),index:m});return _.createElement(SI,{key:"line-".concat(m),option:r,lineItemProps:v})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function pQ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,c=lm(e,oQ),f=a.map((h,m)=>{var v=Xn(Xn({},c),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(m),index:m});return _.createElement(SI,{option:r,lineItemProps:v,key:"line-".concat(m)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function vQ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:o,horizontalPoints:c,horizontal:f=!0}=e;if(!f||!t||!t.length||c==null)return null;var h=c.map(v=>Math.round(v+a-a)).sort((v,y)=>v-y);a!==h[0]&&h.unshift(0);var m=h.map((v,y)=>{var x=!h[y+1],w=x?a+o-v:h[y+1]-v;if(w<=0)return null;var S=y%t.length;return _.createElement("rect",{key:"react-".concat(y),y:v,x:r,height:w,width:s,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function gQ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:o,height:c,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var h=f.map(v=>Math.round(v+a-a)).sort((v,y)=>v-y);a!==h[0]&&h.unshift(0);var m=h.map((v,y)=>{var x=!h[y+1],w=x?a+o-v:h[y+1]-v;if(w<=0)return null;var S=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:w,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var yQ=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return lP(v1(Xn(Xn(Xn({},ca),n),{},{ticks:sP(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},bQ=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return lP(v1(Xn(Xn(Xn({},ca),n),{},{ticks:sP(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},xQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pn.grid};function Rc(e){var t=gP(),n=yP(),r=vP(),a=Xn(Xn({},Rn(e,xQ)),{},{x:ge(e.x)?e.x:r.left,y:ge(e.y)?e.y:r.top,width:ge(e.width)?e.width:r.width,height:ge(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:c,y:f,width:h,height:m,syncWithTicks:v,horizontalValues:y,verticalValues:x}=a,w=Zn(),S=_e(te=>lj(te,"xAxis",s,w)),E=_e(te=>lj(te,"yAxis",o,w));if(!Di(h)||!Di(m)||!ge(c)||!ge(f))return null;var C=a.verticalCoordinatesGenerator||yQ,j=a.horizontalCoordinatesGenerator||bQ,{horizontalPoints:A,verticalPoints:T}=a;if((!A||!A.length)&&typeof j=="function"){var D=y&&y.length,M=j({yAxis:E?Xn(Xn({},E),{},{ticks:D?y:E.ticks}):void 0,width:t??h,height:n??m,offset:r},D?!0:v);Dh(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(A=M)}if((!T||!T.length)&&typeof C=="function"){var k=x&&x.length,K=C({xAxis:S?Xn(Xn({},S),{},{ticks:k?x:S.ticks}):void 0,width:t??h,height:n??m,offset:r},k?!0:v);Dh(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(T=K)}return _.createElement(wr,{zIndex:a.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(hQ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),_.createElement(vQ,Ql({},a,{horizontalPoints:A})),_.createElement(gQ,Ql({},a,{verticalPoints:T})),_.createElement(mQ,Ql({},a,{offset:r,horizontalPoints:A,xAxis:S,yAxis:E})),_.createElement(pQ,Ql({},a,{offset:r,verticalPoints:T,xAxis:S,yAxis:E}))))}Rc.displayName="CartesianGrid";function _Q(e){var t=is(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),c=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var EI=(e,t,n,r)=>ml(e,"xAxis",t,r),NI=(e,t,n,r)=>hl(e,"xAxis",t,r),CI=(e,t,n,r)=>ml(e,"yAxis",n,r),AI=(e,t,n,r)=>hl(e,"yAxis",n,r),wQ=V([Qe,EI,CI,NI,AI],(e,t,n,r,a)=>wa(e,"xAxis")?Co(t,r,!1):Co(n,a,!1)),SQ=(e,t,n,r,a)=>a,OI=V([dp,SQ],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),EQ=(e,t,n,r,a)=>{var s,o=OI(e,t,n,r,a);if(o!=null){var c=Qe(e),f=wa(c,"xAxis"),h;if(f?h=Pc(e,"yAxis",n,r):h=Pc(e,"xAxis",t,r),h!=null){var{stackId:m}=o,v=sp(o);if(!(m==null||v==null)){var y=(s=h[m])===null||s===void 0?void 0:s.stackedData;return y==null?void 0:y.find(x=>x.key===v)}}}},NQ=V([Qe,EI,CI,NI,AI,EQ,ip,wQ,OI,Lq],(e,t,n,r,a,s,o,c,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:y}=o;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{data:x}=f,w;if(x&&x.length>0?w=x:w=m==null?void 0:m.slice(v,y+1),w!=null)return FQ({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:v,areaSettings:f,stackedData:s,displayedData:w,chartBaseValue:h,bandSize:c})}}),CQ=["id"],AQ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(null,arguments)}function jI(e,t){if(e==null)return{};var n,r,a=OQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function OQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(r){jQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sm(e,t){return e&&e!=="none"?e:t}var PQ=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:sm(r,a),value:$o(n,t),payload:e}]},MQ=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:o,hide:c,unit:f,tooltipType:h}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:$o(o,t),hide:c,type:h,color:sm(r,s),unit:f}};return _.createElement(c1,{tooltipEntrySettings:m})});function RQ(e){var{clipPathId:t,points:n,props:r}=e,{needClip:a,dot:s,dataKey:o}=r,c=xr(r);return _.createElement(OY,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:a,clipPathId:t})}function IQ(e){var{showLabels:t,children:n,points:r}=e,a=r.map(s=>{var o,c,f={x:(o=s.x)!==null&&o!==void 0?o:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return po(po({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return _.createElement(eI,{value:t?a:void 0},n)}function yT(e){var{points:t,baseLine:n,needClip:r,clipPathId:a,props:s}=e,{layout:o,type:c,stroke:f,connectNulls:h,isRange:m}=s,{id:v}=s,y=jI(s,CQ),x=xr(y),w=lr(y);return _.createElement(_.Fragment,null,(t==null?void 0:t.length)>1&&_.createElement(an,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},_.createElement(yo,rs({},w,{id:v,points:t,connectNulls:h,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),f!=="none"&&_.createElement(yo,rs({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:h,fill:"none",points:t})),f!=="none"&&m&&_.createElement(yo,rs({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:h,fill:"none",points:n}))),_.createElement(RQ,{points:t,props:y,clipPathId:a}))}function kQ(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,s=r[0].y,o=r[r.length-1].y;if(!kt(s)||!kt(o))return null;var c=t*Math.abs(s-o),f=Math.max(...r.map(h=>h.x||0));return ge(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),ge(f)?_.createElement("rect",{x:0,y:s<o?s:s-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function LQ(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,s=r[0].x,o=r[r.length-1].x;if(!kt(s)||!kt(o))return null;var c=t*Math.abs(s-o),f=Math.max(...r.map(h=>h.y||0));return ge(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),ge(f)?_.createElement("rect",{x:s<o?s:s-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function zQ(e){var{alpha:t,layout:n,points:r,baseLine:a,strokeWidth:s}=e;return n==="vertical"?_.createElement(kQ,{alpha:t,points:r,baseLine:a,strokeWidth:s}):_.createElement(LQ,{alpha:t,points:r,baseLine:a,strokeWidth:s})}function BQ(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s}=e,{points:o,baseLine:c,isAnimationActive:f,animationBegin:h,animationDuration:m,animationEasing:v,onAnimationStart:y,onAnimationEnd:x}=r,w=_.useMemo(()=>({points:o,baseLine:c}),[o,c]),S=id(w,"recharts-area-"),E=pU(),[C,j]=_.useState(!1),A=!C,T=_.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),D=_.useCallback(()=>{typeof y=="function"&&y(),j(!0)},[y]);if(E==null)return null;var M=a.current,k=s.current;return _.createElement(IQ,{showLabels:A,points:o},r.children,_.createElement(rd,{animationId:S,begin:h,duration:m,isActive:f,easing:v,onAnimationEnd:T,onAnimationStart:D,key:S},K=>{if(M){var te=M.length/o.length,U=K===1?o:o.map((P,q)=>{var ee=Math.floor(q*te);if(M[ee]){var ae=M[ee];return po(po({},P),{},{x:It(ae.x,P.x,K),y:It(ae.y,P.y,K)})}return P}),$;return ge(c)?$=It(k,c,K):Vt(c)||ii(c)?$=It(k,0,K):$=c.map((P,q)=>{var ee=Math.floor(q*te);if(Array.isArray(k)&&k[ee]){var ae=k[ee];return po(po({},P),{},{x:It(ae.x,P.x,K),y:It(ae.y,P.y,K)})}return P}),K>0&&(a.current=U,s.current=$),_.createElement(yT,{points:U,baseLine:$,needClip:t,clipPathId:n,props:r})}return K>0&&(a.current=o,s.current=c),_.createElement(an,null,f&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(zQ,{alpha:K,points:o,baseLine:c,layout:E,strokeWidth:r.strokeWidth}))),_.createElement(an,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(yT,{points:o,baseLine:c,needClip:t,clipPathId:n,props:r})))}),_.createElement(r1,{label:r.label}))}function UQ(e){var{needClip:t,clipPathId:n,props:r}=e,a=_.useRef(null),s=_.useRef();return _.createElement(BQ,{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s})}class $Q extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:a,top:s,left:o,needClip:c,xAxisId:f,yAxisId:h,width:m,height:v,id:y,baseLine:x,zIndex:w}=this.props;if(t)return null;var S=it("recharts-area",a),E=y,{r:C,strokeWidth:j}=_Q(n),A=oI(n),T=C*2+j,D=c?"url(#clipPath-".concat(A?"":"dots-").concat(E,")"):void 0;return _.createElement(wr,{zIndex:w},_.createElement(an,{className:S},c&&_.createElement("defs",null,_.createElement(vI,{clipPathId:E,xAxisId:f,yAxisId:h}),!A&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:o-T/2,y:s-T/2,width:m+T,height:v+T}))),_.createElement(UQ,{needClip:c,clipPathId:E,props:this.props})),_.createElement(iT,{points:r,mainColor:sm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(x)&&_.createElement(iT,{points:x,mainColor:sm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var TI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:pn.area};function HQ(e){var t,n=Rn(e,TI),{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:c,dot:f,fill:h,fillOpacity:m,hide:v,isAnimationActive:y,legendType:x,stroke:w,xAxisId:S,yAxisId:E}=n,C=jI(n,AQ),j=Ho(),A=IR(),{needClip:T}=h1(S,E),D=Zn(),{points:M,isRange:k,baseLine:K}=(t=_e(ee=>NQ(ee,S,E,D,e.id)))!==null&&t!==void 0?t:{},te=f1();if(j!=="horizontal"&&j!=="vertical"||te==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:U,width:$,x:P,y:q}=te;return!M||!M.length?null:_.createElement($Q,rs({},C,{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:o,baseLine:K,connectNulls:c,dot:f,fill:h,fillOpacity:m,height:U,hide:v,layout:j,isAnimationActive:y==="auto"?!qo.isSsr:y,isRange:k,legendType:x,needClip:T,points:M,stroke:w,width:$,left:P,top:q,xAxisId:S,yAxisId:E}))}var qQ=(e,t,n,r,a)=>{var s=n??t;if(ge(s))return s;var o=e==="horizontal"?a:r,c=o.scale.domain();if(o.type==="number"){var f=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]};function FQ(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:a,layout:s,chartBaseValue:o,xAxis:c,yAxis:f,displayedData:h,dataStartIndex:m,xAxisTicks:v,yAxisTicks:y,bandSize:x}=e,w=a&&a.length,S=qQ(s,o,n,c,f),E=s==="horizontal",C=!1,j=h.map((T,D)=>{var M;w?M=a[m+D]:(M=St(T,r),Array.isArray(M)?C=!0:M=[S,M]);var k=M[1]==null||w&&!t&&St(T,r)==null;return E?{x:AA({axis:c,ticks:v,bandSize:x,entry:T,index:D}),y:k?null:f.scale(M[1]),value:M,payload:T}:{x:k?null:c.scale(M[1]),y:AA({axis:f,ticks:y,bandSize:x,entry:T,index:D}),value:M,payload:T}}),A;return w||C?A=j.map(T=>{var D=Array.isArray(T.value)?T.value[0]:null;return E?{x:T.x,y:D!=null&&T.y!=null?f.scale(D):null,payload:T.payload}:{x:D!=null?c.scale(D):null,y:T.y,payload:T.payload}}):A=E?f.scale(S):c.scale(S),{points:j,baseLine:A,isRange:C}}function KQ(e){var t=Rn(e,TI),n=Zn();return _.createElement(d1,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(cI,{legendPayload:PQ(t)}),_.createElement(MQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(hI,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:oP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(HQ,rs({},t,{id:r}))))}var y1=_.memo(KQ,xp);y1.displayName="Area";var VQ=["domain","range"],GQ=["domain","range"];function bT(e,t){if(e==null)return{};var n,r,a=YQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function DI(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=bT(e,VQ),{domain:s,range:o}=t,c=bT(t,GQ);return!xT(n,s)||!xT(r,o)?!1:xp(a,c)}var WQ=["dangerouslySetInnerHTML","ticks"],XQ=["id"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function _T(e,t){if(e==null)return{};var n,r,a=QQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZQ(e){var t=qt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(MY(e)):n.current!==e&&t(RY({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(IY(n.current)),n.current=null)},[t]),null}var JQ=e=>{var{xAxisId:t,className:n}=e,r=_e(Hx),a=Zn(),s="xAxis",o=_e(E=>Xo(E,s,t,a)),c=_e(E=>hR(E,s,t,a)),f=_e(E=>uR(E,t)),h=_e(E=>R9(E,t)),m=_e(E=>FM(E,t));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=_T(e,WQ),{id:w}=m,S=_T(m,XQ);return _.createElement(g1,Gb({},x,S,{scale:o,x:h.x,y:h.y,width:f.width,height:f.height,className:it("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},eZ={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,angle:On.angle,axisLine:ca.axisLine,height:On.height,hide:!1,includeHidden:On.includeHidden,interval:On.interval,minTickGap:On.minTickGap,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tick:On.tick,tickCount:On.tickCount,tickLine:ca.tickLine,tickSize:ca.tickSize,type:On.type,xAxisId:0},tZ=e=>{var t=Rn(e,eZ);return _.createElement(_.Fragment,null,_.createElement(ZQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(JQ,t))},Ic=_.memo(tZ,DI);Ic.displayName="XAxis";var nZ=["dangerouslySetInnerHTML","ticks"],rZ=["id"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}function wT(e,t){if(e==null)return{};var n,r,a=iZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aZ(e){var t=qt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(kY(e)):n.current!==e&&t(LY({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(zY(n.current)),n.current=null)},[t]),null}var lZ=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,s=_.useRef(null),o=_.useRef(null),c=_e(Hx),f=Zn(),h=qt(),m="yAxis",v=_e(D=>Xo(D,m,t,f)),y=_e(D=>cR(D,t)),x=_e(D=>k9(D,t)),w=_e(D=>hR(D,m,t,f)),S=_e(D=>KM(D,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!y||n1(a)||_.isValidElement(a)||S==null)){var D=s.current;if(D){var M=D.getCalculatedWidth();Math.round(y.width)!==Math.round(M)&&h(BY({id:t,width:M}))}}},[w,y,h,a,t,r,S]),y==null||x==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:C}=e,j=wT(e,nZ),{id:A}=S,T=wT(S,rZ);return _.createElement(g1,Yb({},j,T,{ref:s,labelRef:o,scale:v,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:it("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))},sZ={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:ca.axisLine,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:ca.tickLine,tickSize:ca.tickSize,type:jn.type,width:jn.width,yAxisId:0},oZ=e=>{var t=Rn(e,sZ);return _.createElement(_.Fragment,null,_.createElement(aZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(lZ,t))},kc=_.memo(oZ,DI);kc.displayName="YAxis";var uZ=(e,t)=>t,b1=V([uZ,Qe,HM,Sn,jR,Oa,QF,_n],iK),x1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},PI=ai("mouseClick"),MI=ed();MI.startListening({actionCreator:PI,effect:(e,t)=>{var n=e.payload,r=b1(t.getState(),x1(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(X9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Wb=ai("mouseMove"),RI=ed(),lh=null;RI.startListening({actionCreator:Wb,effect:(e,t)=>{var n=e.payload;lh!==null&&cancelAnimationFrame(lh);var r=x1(n);lh=requestAnimationFrame(()=>{var a=t.getState(),s=F_(a,a.tooltip.settings.shared);if(s==="axis"){var o=b1(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(_R({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(xR())}lh=null})}});var ST={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},II=_r({name:"rootProps",initialState:ST,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:ST.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cZ=II.reducer,{updateOptions:dZ}=II.actions,kI=_r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fZ}=kI.actions,hZ=kI.reducer,LI=ai("keyDown"),zI=ai("focus"),_1=ed();_1.startListening({actionCreator:LI,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=K_(a,Zo(n),hd(n),gd(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var f=Oa(n);if(s==="Enter"){var h=Zh(n,"axis","hover",String(a.index));t.dispatch(Bb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var m=U9(n),v=m==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,x=c+y*v;if(!(f==null||x>=f.length||x<0)){var w=Zh(n,"axis","hover",String(x));t.dispatch(Bb({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});_1.startListening({actionCreator:zI,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",o=Zh(n,"axis","hover",String(s));t.dispatch(Bb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Jr=ai("externalEvent"),BI=ed(),L0=new Map;BI.startListening({actionCreator:Jr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,s=L0.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var c=t.getState(),f={activeCoordinate:kF(c),activeDataKey:X_(c),activeIndex:pl(c),activeLabel:PR(c),activeTooltipIndex:pl(c),isTooltipActive:LF(c)};n(f,r)}finally{L0.delete(a)}});L0.set(a,o)}}});var mZ=V([Qo],e=>e.tooltipItemPayloads),pZ=V([mZ,pd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,n);return o}}}),UI=ai("touchMove"),$I=ed();$I.startListening({actionCreator:UI,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=F_(r,r.tooltip.settings.shared);if(a==="axis"){var s=b1(r,x1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(_R({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(cP),m=(o=f.getAttribute(dP))!==null&&o!==void 0?o:void 0,v=pZ(t.getState(),h,m);t.dispatch(bR({activeDataKey:m,activeIndex:h,activeCoordinate:v}))}}}});var vZ=DD({brush:CX,cartesianAxis:UY,chartData:IK,errorBars:aW,graphicalItems:VG,layout:SB,legend:jU,options:TK,polarAxis:sG,polarOptions:hZ,referenceElements:MX,rootProps:cZ,tooltip:Q9,zIndex:yK}),gZ=function(t){return Y8({reducer:vZ,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([MI.middleware,RI.middleware,_1.middleware,BI.middleware,$I.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(VD({type:"raf"}))},devTools:qo.devToolsEnabled})};function HI(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Zn(),s=_.useRef(null);if(a)return n;s.current==null&&(s.current=gZ(t));var o=Mx;return _.createElement(OW,{context:o,store:s.current},n)}function yZ(e){var{layout:t,margin:n}=e,r=qt(),a=Zn();return _.useEffect(()=>{a||(r(xB(t)),r(bB(n)))},[r,a,t,n]),null}var qI=_.memo(yZ,xp);function FI(e){var t=qt();return _.useEffect(()=>{t(dZ(e))},[t,e]),null}function ET(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=dI("".concat(r).concat(t)),s=qt();return _.useLayoutEffect(()=>(s(vK({zIndex:t,elementId:a,isPanorama:n})),()=>{s(gK({zIndex:t,isPanorama:n}))}),[s,t,a,n]),_.createElement("g",{tabIndex:-1,id:a})}function NT(e){var{children:t,isPanorama:n}=e,r=_e(lK);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),s=r.filter(o=>o>0);return _.createElement(_.Fragment,null,a.map(o=>_.createElement(ET,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>_.createElement(ET,{key:o,zIndex:o,isPanorama:n})))}var bZ=["children"];function xZ(e,t){if(e==null)return{};var n,r,a=_Z(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om.apply(null,arguments)}var wZ={width:"100%",height:"100%",display:"block"},SZ=_.forwardRef((e,t)=>{var n=gP(),r=yP(),a=jP();if(!Di(n)||!Di(r))return null;var{children:s,otherAttributes:o,title:c,desc:f}=e,h,m;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=a?0:void 0,typeof o.role=="string"?m=o.role:m=a?"application":void 0),_.createElement(Y2,om({},o,{title:c,desc:f,role:m,tabIndex:h,width:n,height:r,style:wZ,ref:t}),s)}),EZ=e=>{var{children:t}=e,n=_e(Vm);if(!n)return null;var{width:r,height:a,y:s,x:o}=n;return _.createElement(Y2,{width:r,height:a,x:o,y:s},t)},CT=_.forwardRef((e,t)=>{var{children:n}=e,r=xZ(e,bZ),a=Zn();return a?_.createElement(EZ,null,_.createElement(NT,{isPanorama:!0},n)):_.createElement(SZ,om({ref:t},r),_.createElement(NT,{isPanorama:!1},n))});function NZ(){var e=qt(),[t,n]=_.useState(null),r=_e(UB);return _.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;kt(s)&&s!==r&&e(wB(s))}},[t,e,r]),n}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){AZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AZ(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(null,arguments)}var TZ=()=>(FK(),null);function um(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var DZ=_.forwardRef((e,t)=>{var n,r,a=_.useRef(null),[s,o]=_.useState({containerWidth:um((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:um((r=e.style)===null||r===void 0?void 0:r.height)}),c=_.useCallback((h,m)=>{o(v=>{var y=Math.round(h),x=Math.round(m);return v.containerWidth===y&&v.containerHeight===x?v:{containerWidth:y,containerHeight:x}})},[]),f=_.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:v}=h.getBoundingClientRect();c(m,v);var y=w=>{var{width:S,height:E}=w[0].contentRect;c(S,E)},x=new ResizeObserver(y);x.observe(h),a.current=x}},[t,c]);return _.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[c]),_.createElement(_.Fragment,null,_.createElement(Ym,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",cs({ref:f},e)))}),PZ=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,s]=_.useState({containerWidth:um(n),containerHeight:um(r)}),o=_.useCallback((f,h)=>{s(m=>{var v=Math.round(f),y=Math.round(h);return m.containerWidth===v&&m.containerHeight===y?m:{containerWidth:v,containerHeight:y}})},[]),c=_.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();o(h,m)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Ym,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",cs({ref:c},e)))}),MZ=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(Ym,{width:n,height:r}),_.createElement("div",cs({ref:t},e)))}),RZ=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return ha(n)||ha(r)?_.createElement(PZ,cs({},e,{ref:t})):_.createElement(MZ,cs({},e,{ref:t}))});function IZ(e){return e===!0?DZ:RZ}var kZ=_.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:o,onDoubleClick:c,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:v,onMouseUp:y,onTouchEnd:x,onTouchMove:w,onTouchStart:S,style:E,width:C,responsive:j,dispatchTouchEvents:A=!0}=e,T=_.useRef(null),D=qt(),[M,k]=_.useState(null),[K,te]=_.useState(null),U=NZ(),$=qx(),P=($==null?void 0:$.width)>0?$.width:C,q=($==null?void 0:$.height)>0?$.height:a,ee=_.useCallback(J=>{U(J),typeof t=="function"&&t(J),k(J),te(J),J!=null&&(T.current=J)},[U,t,k,te]),ae=_.useCallback(J=>{D(PI(J)),D(Jr({handler:s,reactEvent:J}))},[D,s]),L=_.useCallback(J=>{D(Wb(J)),D(Jr({handler:h,reactEvent:J}))},[D,h]),X=_.useCallback(J=>{D(xR()),D(Jr({handler:m,reactEvent:J}))},[D,m]),se=_.useCallback(J=>{D(Wb(J)),D(Jr({handler:v,reactEvent:J}))},[D,v]),he=_.useCallback(()=>{D(zI())},[D]),ve=_.useCallback(J=>{D(LI(J.key))},[D]),R=_.useCallback(J=>{D(Jr({handler:o,reactEvent:J}))},[D,o]),Z=_.useCallback(J=>{D(Jr({handler:c,reactEvent:J}))},[D,c]),ue=_.useCallback(J=>{D(Jr({handler:f,reactEvent:J}))},[D,f]),oe=_.useCallback(J=>{D(Jr({handler:y,reactEvent:J}))},[D,y]),me=_.useCallback(J=>{D(Jr({handler:S,reactEvent:J}))},[D,S]),Oe=_.useCallback(J=>{A&&D(UI(J)),D(Jr({handler:w,reactEvent:J}))},[D,A,w]),je=_.useCallback(J=>{D(Jr({handler:x,reactEvent:J}))},[D,x]),nt=IZ(j);return _.createElement(UR.Provider,{value:M},_.createElement(j5.Provider,{value:K},_.createElement(nt,{width:P??(E==null?void 0:E.width),height:q??(E==null?void 0:E.height),className:it("recharts-wrapper",r),style:CZ({position:"relative",cursor:"default",width:P,height:q},E),onClick:ae,onContextMenu:R,onDoubleClick:Z,onFocus:he,onKeyDown:ve,onMouseDown:ue,onMouseEnter:L,onMouseLeave:X,onMouseMove:se,onMouseUp:oe,onTouchEnd:je,onTouchMove:Oe,onTouchStart:me,ref:ee},_.createElement(TZ,null),n)))}),LZ=["width","height","responsive","children","className","style","compact","title","desc"];function zZ(e,t){if(e==null)return{};var n,r,a=BZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function BZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KI=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:o,style:c,compact:f,title:h,desc:m}=e,v=zZ(e,LZ),y=xr(v);return f?_.createElement(_.Fragment,null,_.createElement(Ym,{width:n,height:r}),_.createElement(CT,{otherAttributes:y,title:h,desc:m},s)):_.createElement(kZ,{className:o,style:c,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(CT,{otherAttributes:y,title:h,desc:m,ref:t},_.createElement(IX,null,s)))});function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}var UZ={top:5,right:5,bottom:5,left:5},$Z={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:UZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},VI=_.forwardRef(function(t,n){var r,a=Rn(t.categoricalChartProps,$Z),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(HI,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(bI,{chartData:h.data}),_.createElement(qI,{layout:a.layout,margin:a.margin}),_.createElement(FI,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(KI,Xb({},a,{ref:n})))}),HZ=["axis","item"],GI=_.forwardRef((e,t)=>_.createElement(VI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HZ,tooltipPayloadSearcher:t1,categoricalChartProps:e,ref:t}));function qZ(e){var t=qt();return _.useEffect(()=>{t(fZ(e))},[t,e]),null}var FZ=["layout"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function KZ(e,t){if(e==null)return{};var n,r,a=VZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GZ={top:5,right:5,bottom:5,left:5},YI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},YZ=_.forwardRef(function(t,n){var r,a=Rn(t.categoricalChartProps,YI),{layout:s}=a,o=KZ(a,FZ),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,v={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return _.createElement(HI,{preloadedState:{options:v},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:c},_.createElement(bI,{chartData:a.data}),_.createElement(qI,{layout:s,margin:a.margin}),_.createElement(FI,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(qZ,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(KI,Qb({},o,{ref:n})))});function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){WZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZZ=["item"],JZ=jT(jT({},YI),{},{layout:"centric",startAngle:0,endAngle:360}),TT=_.forwardRef((e,t)=>{var n=Rn(e,JZ);return _.createElement(YZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ZZ,tooltipPayloadSearcher:t1,categoricalChartProps:n,ref:t})}),eJ=["axis"],WI=_.forwardRef((e,t)=>_.createElement(VI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eJ,tooltipPayloadSearcher:t1,categoricalChartProps:e,ref:t}));const tJ=()=>{var c;const{orders:e}=or(),[t,n]=_.useState(null),[r,a]=_.useState([]),[s,o]=_.useState("TODAY");return _.useEffect(()=>{const f=new Date;let h=e.filter(C=>C.status!=="CANCELLED");const m=new Date(f.getFullYear(),f.getMonth(),f.getDate()).getTime(),v=new Date(f.getTime()-10080*60*1e3).getTime(),y=new Date(f.getFullYear(),f.getMonth(),1).getTime();s==="TODAY"?h=h.filter(C=>C.timestamp>=m):s==="WEEK"?h=h.filter(C=>C.timestamp>=v):s==="MONTH"&&(h=h.filter(C=>C.timestamp>=y));const x=h.reduce((C,j)=>C+j.total,0),w=h.length>0?x/h.length:0,S=new Map;h.forEach(C=>{(C.items||[]).forEach(j=>{S.set(j.name,(S.get(j.name)||0)+j.qty)})});const E=Array.from(S.entries()).map(([C,j])=>({name:C,count:j})).sort((C,j)=>j.count-C.count).slice(0,5);if(n({totalRevenue:x,totalOrders:h.length,avgOrderValue:w,topSellingItems:E}),s==="TODAY"){const C=new Map;h.forEach(M=>{const k=new Date(M.timestamp).getHours();C.set(k,(C.get(k)||0)+M.total)});const j=[],A=Array.from(C.keys()).sort((M,k)=>M-k);let T=9,D=21;A.length>0&&(T=Math.min(T,A[0]),D=Math.max(D,A[A.length-1]));for(let M=T;M<=D;M++){const k=`${M>12?M-12:M===0?12:M}${M>=12?"pm":"am"}`;j.push({name:k,sales:C.get(M)||0})}a(j)}else{const C=new Map;h.forEach(T=>{const D=new Date(T.timestamp).toISOString().split("T")[0];C.set(D,(C.get(D)||0)+T.total)});const A=Array.from(C.keys()).sort().map(T=>({name:new Date(T).toLocaleDateString(void 0,{day:"numeric",month:"short"}),sales:C.get(T)||0}));a(A)}},[e,s]),t?p.jsxs("div",{className:"p-8 space-y-8 animate-fade-in",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Business Dashboard"}),p.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Real-time overview & performance analytics"})]}),p.jsx("div",{className:"bg-white p-1 rounded-lg border border-slate-200 flex shadow-sm",children:["TODAY","WEEK","MONTH","ALL"].map(f=>p.jsx("button",{onClick:()=>o(f),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${s===f?"bg-slate-800 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:f==="TODAY"?"Today":f==="WEEK"?"This Week":f==="MONTH"?"This Month":"All Time"},f))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 transition-hover hover:shadow-md",children:[p.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["Revenue (",s.toLowerCase(),")"]}),p.jsxs("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:["",t.totalRevenue.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 transition-hover hover:shadow-md",children:[p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Total Orders"}),p.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-2",children:t.totalOrders})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 transition-hover hover:shadow-md",children:[p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Avg. Order Value"}),p.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:["",Math.round(t.avgOrderValue)]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 transition-hover hover:shadow-md",children:[p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Top Item"}),p.jsx("p",{className:"text-xl font-bold text-amber-500 mt-3 truncate",children:((c=t.topSellingItems[0])==null?void 0:c.name)||"N/A"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 h-96 flex flex-col",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Sales Trend"}),p.jsx("div",{className:"flex-1 w-full min-h-0",children:r.length>0?p.jsx(fo,{width:"100%",height:"100%",children:p.jsxs(WI,{data:r,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),p.jsx(Rc,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(Ic,{dataKey:"name",fontSize:12,tick:{fill:"#64748b"},tickLine:!1,axisLine:!1}),p.jsx(kc,{fontSize:12,tick:{fill:"#64748b"},tickLine:!1,axisLine:!1,tickFormatter:f=>`${f}`}),p.jsx(ho,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:f=>[`${f}`,"Sales"]}),p.jsx(y1,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)",dot:{r:4,fill:"#10b981",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}})]})}):p.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 italic",children:"No sales data for this period"})})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 h-96 flex flex-col",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Top Selling Items"}),p.jsx("div",{className:"flex-1 w-full min-h-0",children:t.topSellingItems.length>0?p.jsx(fo,{width:"100%",height:"100%",children:p.jsxs(GI,{data:t.topSellingItems,layout:"vertical",margin:{left:40},children:[p.jsx(Rc,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),p.jsx(Ic,{type:"number",hide:!0}),p.jsx(kc,{dataKey:"name",type:"category",width:100,fontSize:12,tick:{fill:"#64748b"},tickLine:!1,axisLine:!1}),p.jsx(ho,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),p.jsx(m1,{dataKey:"count",fill:"#4f46e5",radius:[0,4,4,0],barSize:32})]})}):p.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 italic",children:"No items sold yet"})})]})]})]}):p.jsx("div",{className:"p-8 text-slate-500",children:"Processing analytics..."})};var Ut=(e=>(e.OPEN="OPEN",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))(Ut||{}),gr=(e=>(e.CASH="CASH",e.CARD="CARD",e.UPI="UPI",e))(gr||{}),rl=(e=>(e.CONFIRMED="CONFIRMED",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.NO_SHOW="NO_SHOW",e))(rl||{});const nJ=()=>{var st,at,Nr;const{products:e,categories:t,addToCart:n,cart:r,removeFromCart:a,updateCartItemQty:s,clearCart:o,sendToKitchen:c,settleOrder:f,settleCustomerDue:h,tables:m,orders:v,customers:y,loyaltySettings:x}=or(),w=Ii(),S=Yc(),[E,C]=_.useState("ALL"),[j,A]=_.useState(""),[T,D]=_.useState(((st=w.state)==null?void 0:st.tableId)||((at=m[0])==null?void 0:at.id)||"");_.useEffect(()=>{!T&&m.length>0&&D(m[0].id)},[m,T]);const[M,k]=_.useState(!1),[K,te]=_.useState("FLAT"),[U,$]=_.useState(""),[P,q]=_.useState(!1),[ee,ae]=_.useState(""),[L,X]=_.useState("+91"),[se,he]=_.useState(""),[ve,R]=_.useState(""),[Z,ue]=_.useState(!1),[oe,me]=_.useState(gr.CASH),[Oe,je]=_.useState(""),[nt,J]=_.useState([]),[Ce,Re]=_.useState(!1),[le,Nt]=_.useState(null),[Le,W]=_.useState({});_.useEffect(()=>{o()},[T]);const pe=_.useMemo(()=>{const Y=m.find(Se=>Se.id===T);return Y==null?void 0:Y.name.toLowerCase().includes("delivery")},[T,m]),ye=v.find(Y=>Y.tableId===T&&Y.status===Ut.OPEN);_.useEffect(()=>{ye?(ae(ye.customerName||""),X(ye.customerPhone||"+91"),R(ye.deliveryAddress||"")):r.length===0&&!P&&!M&&(ae(""),X("+91"),R(""))},[ye,T]);const Ie=_.useMemo(()=>y.find(Y=>Y.phone===L),[L,y]);_.useEffect(()=>{L.length>=3&&Ie?(ae(Ie.name),he(Ie.email||""),ve||R(Ie.address||"")):L.length<3&&Re(!1)},[L,Ie]);const Lt=_.useMemo(()=>!L||L.length<3?[]:v.filter(Y=>Y.customerPhone===L&&Y.status===Ut.COMPLETED).sort((Y,Se)=>Se.timestamp-Y.timestamp),[L,v]),ln=_.useMemo(()=>Lt.reduce((Y,Se)=>Y+(Se.total-Se.amountPaid),0),[Lt]),Sr=_.useMemo(()=>e.filter(Y=>{const Se=E==="ALL"||Y.category===E,_t=Y.name.toLowerCase().includes(j.toLowerCase());return Se&&_t}),[e,E,j]),Ta=r.reduce((Y,Se)=>Y+Se.price*Se.qty,0),Sl=Math.round(Ta*.05),kn=ye?ye.subtotal:0,fe=ye?ye.tax:0;ye&&ye.total;const de=kn+Ta,Ee=fe+Sl,Te=de+Ee,bt=_.useMemo(()=>!(!x.enabled||!Ie||!Ce||Te<x.minOrderValueToRedeem||(Ie.loyaltyPoints||0)<x.minPointsToRedeem),[x,Ie,Ce,Te]),Ae=_.useMemo(()=>{if(!bt||!Ie)return 0;const Y=Math.ceil(Te/x.redemptionValue);return Math.min(Ie.loyaltyPoints,Y)},[bt,Ie,Te,x]),Tt=_.useMemo(()=>Ae*x.redemptionValue,[Ae,x]),Ln=_.useMemo(()=>{const Y=parseFloat(U)||0;if(Y<=0)return 0;if(K==="FLAT")return Math.min(Y,Te);{const Se=Math.min(Y,100);return Math.round(Te*Se/100)}},[K,U,Te]),xt=Math.min(Te,Ln+Tt),Be=Math.max(0,Te-xt),Dt=nt.reduce((Y,Se)=>Y+Se.amount,0),Pe=Math.max(0,Be-Dt);_.useEffect(()=>{M&&oe!=="DUE"?je(Pe.toString()):oe==="DUE"&&je("0")},[Pe,oe,M]);const zn=Y=>{if(!(Y.stock<=0))if(Y.variants&&Y.variants.length>0){const Se={};Y.variants.forEach(_t=>{_t.options.length>0&&(Se[_t.id]=_t.options[0])}),W(Se),Nt(Y)}else n(Y)},Er=()=>{le&&(n(le,Le),Nt(null),W({}))},Jn=()=>{r.length!==0&&q(!0)},sn=async()=>{var Se;const Y=await c(T,ee,L);if(L&&Y){const _t=((Se=m.find(ur=>ur.id===T))==null?void 0:Se.name)||T,er=r.map(ur=>`${ur.qty} x ${ur.name}`).join("%0a"),Gn=`*Order Placed!* %0a%0aHello ${ee||"Customer"},%0aYour order at *NexPOS* has been received.%0a%0a*KOT Number:* ${Y}%0a*Table:* ${_t}%0a%0a*Items:*%0a${er}%0a%0aThank you!`;window.open(`https://wa.me/${L}?text=${Gn}`,"_blank")}q(!1),alert(`KOT ${Y} generated for Table ${T}`)},ft=()=>{if(r.length>0){alert("Please send current items to kitchen before settling, or remove them.");return}ye&&(te("FLAT"),$(""),J([]),Re(!1),me(gr.CASH),k(!0))},ht=(Y,Se,_t,er,Gn,ur)=>{var gn;if(!L)return;const El=new Date().toLocaleString(),wi=((gn=m.find(Nn=>Nn.id===T))==null?void 0:gn.name)||T;let ot=` *Bill Receipt - NexPOS*

`;ot+=` *Date:* ${El}
`,ot+=` *Order No:* #${Y.id.slice(-6)}
`,ot+=` *Table:* ${wi}
`,ee&&(ot+=` *Customer:* ${ee}
`),ot+=`--------------------------------
`,ot+=`*ORDER DETAILS*
`,(Y.items||[]).forEach((Nn,iu)=>{const Lp=Nn.price*Nn.qty;let Od=`${iu+1}. ${Nn.name} (x${Nn.qty}) = ${Lp}`;if(Nn.selectedVariants&&Object.keys(Nn.selectedVariants).length>0){const jd=Object.values(Nn.selectedVariants).map(Nl=>Nl.name).join(", ");Od+=`
   _Options: ${jd}_`}ot+=`${Od}
`}),ot+=`--------------------------------
`,ot+=`Subtotal: ${Se}
`,ot+=`Tax (5%): ${_t}
`,er>0&&(ot+=`Discount: -${er}
`),ot+=`*GRAND TOTAL: ${Gn}*
`,ot+=`--------------------------------
`,ot+=`Status: ${ur}
`,ot+=`
Thank you for visiting! `;const Wt=encodeURIComponent(ot);window.open(`https://wa.me/${L}?text=${Wt}`,"_blank")},Bn=()=>{if(pe&&!ve.trim()){alert("Delivery Address is required for delivery orders.");return}if(!ye)return;const Y={...ye},Se=de,_t=Ee,er=xt,Gn=Be,ur=[];Ln>0&&ur.push(`Manual (${K})`),Tt>0&&ur.push(`Loyalty (${Ae} pts)`);const El=ur.join(" + ");if(oe==="DUE"){if(Pe>0&&!L){alert("Customer Phone Number is required to record due/credit.");return}f(T,nt,xt,El,ee,L,ve,se,Ae),L&&ht(Y,Se,_t,er,Gn,` Payment Due (${Pe})`),k(!1),alert(`Bill closed. ${Pe} marked as due.`);return}const wi=parseFloat(Oe);if(isNaN(wi)||wi<=0){alert("Please enter a valid amount.");return}if(wi>=Pe){const ot=Pe,Wt=wi-Pe,gn={method:oe,amount:ot,timestamp:Date.now()},Nn=[...nt,gn];f(T,Nn,xt,El,ee,L,ve,se,Ae),L&&ht(Y,Se,_t,er,Gn,` Paid via ${oe}`),k(!1),Wt>0?alert(`Bill Settled! Change to return: ${Wt}`):alert("Bill Settled!")}else{const ot={method:oe,amount:wi,timestamp:Date.now()};J([...nt,ot])}},Da=Y=>{const Se=[...nt];Se.splice(Y,1),J(Se)},lt=(Y,Se)=>{if(Y<=0)return;const _t={method:Se,amount:Y,timestamp:Date.now()};h(L,_t),alert(`Received ${Y} via ${Se}. Customer due updated.`)},Yt=()=>{if(!le)return 0;let Y=le.price;return Object.values(Le).forEach(Se=>Y+=Se.priceModifier),Y};return m.length===0?p.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-100 flex-col space-y-4",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md",children:[p.jsx("div",{className:"text-5xl mb-4",children:""}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"No Tables Configured"}),p.jsx("p",{className:"text-slate-500 mb-6",children:"You need to set up tables or service areas before you can start billing."}),p.jsx("button",{onClick:()=>S("/tables"),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/30",children:"Go to Tables Management"})]})}):p.jsxs("div",{className:"flex h-screen overflow-hidden pt-4 bg-slate-100",children:[p.jsxs("div",{className:"flex-1 flex flex-col p-4 pr-2 overflow-hidden",children:[p.jsxs("div",{className:"mb-4 flex gap-4",children:[p.jsx("button",{onClick:()=>S("/tables"),className:"px-3 py-3 bg-white text-slate-500 rounded-xl border border-slate-200 hover:bg-slate-50 hover:text-indigo-600 transition-colors",title:"Back to Tables",children:" Back"}),p.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:j,onChange:Y=>A(Y.target.value)}),p.jsx("select",{value:T,onChange:Y=>D(Y.target.value),className:"px-4 py-3 rounded-xl border border-slate-200 bg-white font-medium text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none w-32",children:m.map(Y=>p.jsx("option",{value:Y.id,children:Y.name},Y.id))})]}),p.jsxs("div",{className:"flex space-x-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:[p.jsx("button",{onClick:()=>C("ALL"),className:`px-5 py-2 rounded-full whitespace-nowrap text-sm font-semibold transition-all ${E==="ALL"?"bg-slate-800 text-white shadow-md":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:"All Items"}),t.map(Y=>p.jsx("button",{onClick:()=>C(Y),className:`px-5 py-2 rounded-full whitespace-nowrap text-sm font-semibold transition-all ${E===Y?"bg-indigo-600 text-white shadow-md":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:Y},Y))]}),p.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 pb-20 content-start",children:Sr.map(Y=>{const Se=Y.stock>0;return p.jsxs("div",{onClick:()=>zn(Y),className:`bg-white p-4 rounded-xl shadow-sm border border-slate-100 transition-all flex flex-col justify-between group h-36 relative overflow-hidden ${Se?"cursor-pointer hover:shadow-md hover:-translate-y-1 active:scale-95":"cursor-not-allowed opacity-60 grayscale-[0.8]"}`,children:[!Se&&p.jsx("div",{className:"absolute inset-0 bg-white/40 z-10 flex items-center justify-center",children:p.jsx("span",{className:"bg-slate-800 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg transform -rotate-6 tracking-wide",children:"UNAVAILABLE"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-start mb-1",children:[p.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${Y.isVeg?"bg-green-500":"bg-red-500"}`,title:Y.isVeg?"Vegetarian":"Non-Vegetarian"}),Y.variants&&Y.variants.length>0&&p.jsx("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded border border-slate-200 font-medium",children:"Custom"})]}),p.jsx("h3",{className:"font-bold text-slate-800 text-sm mb-1 leading-snug line-clamp-2",children:Y.name})]}),p.jsx("div",{className:"mt-2 flex justify-between items-end",children:p.jsxs("span",{className:"font-bold text-base text-indigo-700",children:["",Y.price]})})]},Y.id)})})]}),p.jsxs("div",{className:"w-96 bg-white shadow-xl flex flex-col border-l border-slate-200 h-full",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Billing"}),p.jsx("p",{className:"text-xs text-slate-500",children:ye?`Order #${ye.id.slice(-6)} (Open)`:"New Order"})]}),p.jsx("div",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg text-sm font-bold",children:((Nr=m.find(Y=>Y.id===T))==null?void 0:Nr.name)||T})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[ye&&(ye.items||[]).length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Sent to Kitchen"}),p.jsx("div",{className:"space-y-3 opacity-80",children:(ye.items||[]).map((Y,Se)=>p.jsxs("div",{className:"flex justify-between items-start text-sm",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"font-medium text-slate-800",children:Y.name}),p.jsxs("div",{className:"text-xs text-slate-500",children:[Y.qty," x ",Y.price,Y.selectedVariants&&` (+${Object.values(Y.selectedVariants).map(_t=>_t.name).join(", ")})`]})]}),p.jsxs("span",{className:"font-semibold text-slate-700",children:["",Y.price*Y.qty]})]},`run_${Se}`))}),p.jsxs("div",{className:"mt-3 pt-2 border-t border-dashed border-slate-200 flex justify-between text-sm font-semibold text-slate-600",children:[p.jsx("span",{children:"Running Total"}),p.jsxs("span",{children:["",ye.total]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider mb-2 sticky top-0 bg-white py-1 z-10",children:["Current Selection ",r.length>0&&"(Not Sent)"]}),r.length===0?p.jsxs("div",{className:`text-center py-6 text-slate-400 border-2 border-dashed rounded-lg ${ye?"hidden":"block"}`,children:[p.jsx("span",{className:"text-2xl block mb-2",children:""}),p.jsx("p",{className:"text-sm",children:"Select items to add"})]}):p.jsx("div",{className:"space-y-4",children:r.map((Y,Se)=>p.jsxs("div",{className:"flex justify-between items-start group bg-emerald-50/50 p-2 rounded-lg border border-emerald-100",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-slate-800 text-sm",children:Y.name}),Y.selectedVariants&&Object.keys(Y.selectedVariants).length>0&&p.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:Object.values(Y.selectedVariants).map(_t=>_t.name).join(", ")}),p.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:["",Y.price," x ",Y.qty]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{onClick:()=>s(Y.id,Y.qty-1,Y.selectedVariants),className:"w-6 h-6 rounded bg-white border border-slate-200 text-slate-600 flex items-center justify-center hover:bg-slate-50",children:"-"}),p.jsx("span",{className:"text-sm font-semibold w-4 text-center",children:Y.qty}),p.jsx("button",{onClick:()=>s(Y.id,Y.qty+1,Y.selectedVariants),className:"w-6 h-6 rounded bg-indigo-50 text-indigo-600 flex items-center justify-center hover:bg-indigo-100",children:"+"}),p.jsx("button",{onClick:()=>a(Y.id,Y.selectedVariants),className:"text-slate-300 hover:text-red-500 ml-1",children:""})]})]},`cart_${Se}`))})]})]}),p.jsxs("div",{className:"p-4 bg-white border-t border-slate-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-20",children:[p.jsxs("div",{className:"flex justify-between items-end mb-4",children:[p.jsxs("div",{className:"text-sm text-slate-500",children:[p.jsxs("p",{children:["Subtotal: ",de]}),p.jsxs("p",{children:["Tax (5%): ",Ee]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Total Payable"}),p.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",Te]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{disabled:r.length===0,onClick:Jn,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed text-white py-3 rounded-xl font-bold text-sm shadow-md transition-all active:scale-95 flex flex-col items-center justify-center",children:[p.jsx("span",{children:"Send to Kitchen"}),r.length>0&&p.jsxs("span",{className:"text-[10px] font-normal opacity-90",children:["(",r.length," new items)"]})]}),p.jsxs("button",{disabled:!ye&&r.length===0,onClick:ft,className:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed text-white py-3 rounded-xl font-bold text-sm shadow-md transition-all active:scale-95 flex flex-col items-center justify-center",children:[p.jsx("span",{children:"Settle Bill"}),p.jsx("span",{className:"text-[10px] font-normal opacity-90",children:"Print & Close"})]})]})]})]}),P&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl p-6",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("span",{className:"text-3xl",children:""}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-2",children:"Kitchen Order Details"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Enter customer details for notification"})]}),p.jsxs("div",{className:"space-y-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Phone Number"}),p.jsx("input",{type:"tel",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"Customer Phone",value:L,onChange:Y=>X(Y.target.value),autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Customer Name"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"Name (Optional)",value:ee,onChange:Y=>ae(Y.target.value)})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-2 text-slate-500 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),p.jsx("button",{onClick:sn,className:"flex-1 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-bold shadow-sm flex items-center justify-center gap-2",children:p.jsx("span",{children:"Confirm & Send"})})]}),L&&p.jsxs("p",{className:"text-xs text-center text-green-600 mt-3 flex items-center justify-center gap-1",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"WhatsApp link will be generated"]})]})}),le&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:["Customize ",le.name]}),p.jsx("p",{className:"text-sm text-slate-500",children:"Select options"})]}),p.jsx("div",{className:"p-6 overflow-y-auto",children:(le.variants||[]).map(Y=>p.jsxs("div",{className:"mb-6 last:mb-0",children:[p.jsx("h4",{className:"font-semibold text-slate-700 mb-3 uppercase text-xs tracking-wider",children:Y.name}),p.jsx("div",{className:"space-y-2",children:Y.options.map(Se=>{var _t;return p.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors has-[:checked]:border-indigo-500 has-[:checked]:bg-indigo-50",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("input",{type:"radio",name:Y.id,checked:((_t=Le[Y.id])==null?void 0:_t.id)===Se.id,onChange:()=>W(er=>({...er,[Y.id]:Se})),className:"w-4 h-4 text-indigo-600 border-slate-300 focus:ring-indigo-500"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:Se.name})]}),Se.priceModifier!==0&&p.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:[Se.priceModifier>0?"+":"","",Se.priceModifier]})]},Se.id)})})]},Y.id))}),p.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex space-x-3",children:[p.jsx("button",{onClick:()=>Nt(null),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-200 rounded-xl transition-colors",children:"Cancel"}),p.jsxs("button",{onClick:Er,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 transition-colors",children:["Add  ",Yt()]})]})]})}),M&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden max-h-[95vh] flex flex-col animate-scale-up",children:p.jsxs("div",{className:"p-6 overflow-y-auto",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Final Settlement"}),p.jsxs("p",{className:"text-slate-500 text-sm",children:["Table: ",p.jsx("span",{className:"font-bold",children:T})]})]}),p.jsxs("div",{className:"mb-5 bg-slate-50 p-4 rounded-xl border border-slate-100 relative",children:[p.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Customer (CRM)"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"tel",placeholder:"Phone Number (Auto-fill)",value:L,onChange:Y=>X(Y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-slate-800 text-sm font-medium"}),Lt.length>0&&p.jsx("button",{onClick:()=>ue(!0),className:"absolute right-2 top-1.5 text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded font-bold hover:bg-indigo-200",children:"History"})]}),p.jsx("input",{type:"text",placeholder:"Customer Name",value:ee,onChange:Y=>ae(Y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-slate-800 text-sm"}),p.jsx("input",{type:"email",placeholder:"Email Address (Optional)",value:se,onChange:Y=>he(Y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-slate-800 text-sm"}),pe&&p.jsx("textarea",{placeholder:"Delivery Address (Required)",value:ve,onChange:Y=>R(Y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-slate-800 text-sm min-h-[60px]"})]}),ln>0&&p.jsxs("div",{className:"absolute -top-3 -right-2 bg-red-100 text-red-700 border border-red-200 px-3 py-1 rounded-full text-xs font-bold shadow-sm",children:["Total Due: ",ln]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"space-y-2 bg-slate-50 p-3 rounded-lg border border-slate-100 mb-4",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-slate-600",children:"Subtotal"}),p.jsxs("span",{className:"font-medium",children:["",Te]})]}),x.enabled&&Ie&&p.jsxs("div",{className:`p-2 rounded border ${Ce?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200"}`,children:[p.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:Ce,onChange:Y=>Re(Y.target.checked),disabled:Te<x.minOrderValueToRedeem||(Ie.loyaltyPoints||0)<x.minPointsToRedeem,className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold text-indigo-900",children:"Redeem Loyalty Points"}),p.jsxs("p",{className:"text-[10px] text-slate-500",children:["Available: ",Ie.loyaltyPoints||0," pts"]})]})]}),Ce&&p.jsxs("span",{className:"text-xs font-bold text-indigo-700",children:["-",Tt]})]}),!Ce&&p.jsxs("div",{className:"ml-6 mt-1",children:[Te<x.minOrderValueToRedeem&&p.jsxs("p",{className:"text-[10px] text-slate-400 italic",children:["Min bill ",x.minOrderValueToRedeem," required"]}),(Ie.loyaltyPoints||0)<x.minPointsToRedeem&&p.jsxs("p",{className:"text-[10px] text-slate-400 italic",children:["Min ",x.minPointsToRedeem," pts required"]})]})]}),p.jsxs("div",{className:"flex justify-between text-sm items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-slate-600",children:"Discount"}),p.jsxs("div",{className:"flex bg-slate-100 rounded p-0.5 border border-slate-200",children:[p.jsx("button",{onClick:()=>te("FLAT"),className:`px-2 py-0.5 text-[10px] font-bold rounded transition-colors ${K==="FLAT"?"bg-white shadow text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:""}),p.jsx("button",{onClick:()=>te("PERCENT"),className:`px-2 py-0.5 text-[10px] font-bold rounded transition-colors ${K==="PERCENT"?"bg-white shadow text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:"%"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[K==="PERCENT"&&Ln>0&&p.jsxs("span",{className:"text-xs text-slate-400 font-medium",children:["(-",Ln,")"]}),p.jsx("input",{type:"number",value:U,onChange:Y=>$(Y.target.value),placeholder:"0",className:"w-20 px-2 py-1 text-right border border-slate-300 rounded text-sm outline-none focus:border-indigo-500 bg-white text-slate-800 placeholder:text-slate-300"})]})]}),p.jsxs("div",{className:"flex justify-between text-base font-bold border-t border-slate-200 pt-2 text-slate-800",children:[p.jsx("span",{children:"Payable Amount"}),p.jsxs("span",{children:["",Be]})]})]}),nt.length>0&&p.jsxs("div",{className:"mb-4 bg-emerald-50 border border-emerald-100 rounded-lg p-3",children:[p.jsx("p",{className:"text-xs font-bold text-emerald-700 uppercase mb-2",children:"Payments Added"}),p.jsxs("div",{className:"space-y-2",children:[nt.map((Y,Se)=>p.jsxs("div",{className:"flex justify-between text-sm text-slate-700 items-center",children:[p.jsx("span",{children:Y.method}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"font-bold",children:["",Y.amount]}),p.jsx("button",{onClick:()=>Da(Se),className:"text-red-400 hover:text-red-600 leading-none",children:""})]})]},Se)),p.jsxs("div",{className:"border-t border-emerald-200 pt-1 mt-1 flex justify-between text-sm font-bold text-emerald-800",children:[p.jsx("span",{children:"Total Paid"}),p.jsxs("span",{children:["",Dt]})]})]})]}),p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Payment Method"}),p.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[gr.CASH,gr.CARD,gr.UPI,"DUE"].map(Y=>p.jsx("button",{onClick:()=>me(Y),className:`py-2 rounded-lg text-xs font-bold uppercase transition-all border ${oe===Y?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:Y},Y))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 font-bold",children:""}),p.jsx("input",{type:"number",placeholder:"Amount",className:"w-full pl-7 pr-3 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none font-bold text-lg text-slate-800 bg-white disabled:bg-slate-100 disabled:text-slate-400",value:Oe,onChange:Y=>je(Y.target.value),disabled:oe==="DUE"})]}),p.jsx("button",{onClick:Bn,disabled:oe!=="DUE"&&(!Oe||parseFloat(Oe)<=0),className:`flex-1 py-3 rounded-xl font-bold text-white shadow-md transition-all active:scale-95 text-sm ${oe==="DUE"?"bg-amber-600 hover:bg-amber-700":"bg-indigo-600 hover:bg-indigo-700"}`,children:oe==="DUE"?Pe>0?"Credit Remaining":"Close Bill":parseFloat(Oe)>=Pe?"Settle & Close":"Add Payment"})]}),Pe>0&&oe!=="DUE"&&p.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["Remaining Balance: ",p.jsxs("span",{className:"font-bold text-slate-800",children:["",Pe]})]})]}),p.jsx("div",{className:"mt-6",children:p.jsx("button",{onClick:()=>k(!1),className:"w-full py-3 text-slate-500 font-medium hover:text-slate-800",children:"Cancel"})})]})})}),Z&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl flex flex-col max-h-[85vh]",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800",children:"Customer Account"}),p.jsxs("p",{className:"text-xs text-slate-500",children:[ee," - ",L]})]}),p.jsx("button",{onClick:()=>ue(!1),className:"text-2xl text-slate-400 hover:text-slate-600",children:""})]}),p.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:p.jsxs("div",{className:"bg-white border border-red-100 rounded-xl p-4 shadow-sm flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total Outstanding"}),p.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",ln]})]}),ln>0&&p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-[10px] text-slate-400 mb-1",children:"Pay Due Amount"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>lt(ln,gr.CASH),className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded hover:bg-green-200",children:"Cash"}),p.jsx("button",{onClick:()=>lt(ln,gr.UPI),className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded hover:bg-blue-200",children:"UPI"})]})]})]})}),p.jsx("div",{className:"p-4 overflow-y-auto space-y-3 bg-slate-50/50 flex-1",children:Lt.map(Y=>{const Se=Y.amountPaid||0,_t=Y.total-Se,er=_t>.01;return p.jsxs("div",{className:`bg-white p-3 rounded-lg border shadow-sm ${er?"border-red-200":"border-slate-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("span",{className:"font-bold text-slate-700 text-sm",children:["#",Y.id.slice(-6)]}),p.jsx("span",{className:"text-xs text-slate-500",children:new Date(Y.timestamp).toLocaleDateString()})]}),p.jsx("div",{className:"text-xs text-slate-600 mb-2 border-b border-slate-100 pb-2",children:(Y.items||[]).map(Gn=>`${Gn.qty} x ${Gn.name}`).join(", ")}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"text-xs",children:[p.jsxs("span",{className:"text-slate-500 block",children:["Bill: ",Y.total]}),(Y.payments||[]).length>0&&p.jsxs("span",{className:"text-slate-400 block text-[10px]",children:["Paid: ",(Y.payments||[]).map(Gn=>`${Gn.method.charAt(0)}:${Gn.amount}`).join(", ")]})]}),p.jsx("div",{className:"text-right",children:er?p.jsxs("span",{className:"text-sm font-bold text-red-600 block",children:["Due: ",_t]}):p.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-bold",children:"PAID"})})]})]},Y.id)})})]})})]})},DT=()=>{const{orders:e,updateKotStatus:t,currentUser:n,logout:r}=or(),a=e.filter(h=>h.status===Ut.CANCELLED?!1:h.status===Ut.OPEN?!0:h.status===Ut.COMPLETED?(h.items||[]).some(m=>m.status!=="SERVED"):!1).sort((h,m)=>m.timestamp-h.timestamp),s=h=>{const m={};return(h||[]).forEach(v=>{if(v.status==="SERVED")return;const y=v.kotId||"UNKNOWN";m[y]||(m[y]=[]),m[y].push(v)}),m},o=(h,m)=>{t(h,m,"READY")},c=(h,m)=>{t(h,m,"SERVED")},f=(n==null?void 0:n.role)==="CHEF";return p.jsxs("div",{className:`h-full bg-slate-100 overflow-y-auto ${f?"p-4":"p-8"}`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:`${f?"text-2xl":"text-3xl"} font-bold text-slate-800`,children:"Kitchen Display"}),p.jsxs("p",{className:"text-slate-500 text-sm",children:["Active Orders: ",a.length]})]}),f?p.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-xs font-bold text-indigo-700",children:n.name.charAt(0)}),p.jsx("span",{className:"text-sm font-bold text-slate-700",children:n.name})]}),p.jsx("button",{onClick:r,className:"ml-4 text-xs bg-red-100 text-red-700 px-3 py-1.5 rounded font-bold hover:bg-red-200",children:"Log Out"})]}):p.jsx("div",{className:"flex space-x-2",children:p.jsx("span",{className:"px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-200 font-bold text-slate-700",children:"Pending KOTs"})})]}),a.length===0?p.jsxs("div",{className:"text-center py-20 text-slate-400",children:[p.jsx("p",{className:"text-4xl mb-4",children:""}),p.jsx("p",{className:"text-xl font-medium",children:"Kitchen is clear"}),p.jsx("p",{children:"No active orders at the moment."})]}):p.jsx("div",{className:`grid gap-4 ${f?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:a.map(h=>{const m=s(h.items),v=Object.keys(m).sort().reverse();return v.length===0?null:p.jsx("div",{className:"space-y-4",children:v.map(y=>{const x=m[y],w=x[0].timestamp||Date.now(),S=x.every(E=>E.status==="READY");return p.jsxs("div",{className:`rounded-xl shadow-md border overflow-hidden flex flex-col animate-fade-in transition-all ${S?"bg-emerald-50 border-emerald-200 ring-2 ring-emerald-500/20":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:`p-3 border-b flex justify-between items-start ${S?"bg-emerald-100 border-emerald-200":"bg-amber-50 border-amber-100"}`,children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("h3",{className:"font-bold text-lg text-slate-800",children:["Table ",h.tableId]}),h.status===Ut.COMPLETED&&p.jsx("span",{className:"text-[10px] bg-green-200 text-green-800 px-1.5 rounded font-bold uppercase",children:"PAID"})]}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsxs("span",{className:"text-xs font-mono bg-white px-1.5 rounded border border-slate-200 text-slate-600",children:["#",y]}),p.jsx("span",{className:"text-xs text-slate-500",children:new Date(w).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),p.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${S?"bg-emerald-600 text-white":"bg-amber-100 text-amber-700"}`,children:S?"Ready":"Preparing"})]}),p.jsx("div",{className:"p-4 space-y-3",children:x.map((E,C)=>p.jsx("div",{className:"flex justify-between items-start text-sm",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("span",{className:"font-bold w-6 h-6 bg-slate-100 rounded flex items-center justify-center text-slate-700",children:E.qty}),p.jsxs("div",{children:[p.jsx("span",{className:"text-slate-800 font-bold block",children:E.name}),E.selectedVariants&&Object.keys(E.selectedVariants).length>0&&p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Object.values(E.selectedVariants).map(j=>j.name).join(", ")}),E.notes&&p.jsxs("p",{className:"text-xs text-red-500 italic mt-0.5",children:["Note: ",E.notes]})]})]})},`${y}_${C}`))}),p.jsx("div",{className:"p-3 bg-white/50 border-t border-slate-100 flex gap-2",children:S?p.jsxs("button",{onClick:()=>c(h.id,y),className:"w-full bg-slate-200 hover:bg-slate-300 text-slate-700 py-3 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 touch-manipulation",children:[p.jsx("span",{children:""})," Serve / Clear"]}):p.jsx("button",{onClick:()=>o(h.id,y),className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white py-3 rounded-lg font-bold text-sm transition-colors shadow-sm touch-manipulation",children:"Mark Order Ready"})})]},`${h.id}_${y}`)})},h.id)})})]})},rJ=()=>{var te;const{products:e,categories:t,addProduct:n,updateProduct:r}=or(),[a,s]=_.useState(""),[o,c]=_.useState(!1),[f,h]=_.useState(null),[m,v]=_.useState(!1),[y,x]=_.useState({name:"",category:"",price:0,stock:100,taxRate:5,isVeg:!0,variants:[]}),w=e.filter(U=>U.name.toLowerCase().includes(a.toLowerCase())),S=()=>{h(null),x({name:"",category:"",price:0,stock:100,taxRate:5,isVeg:!0,variants:[]}),c(!0)},E=U=>{h(U),x({...U,variants:U.variants?JSON.parse(JSON.stringify(U.variants)):[]}),c(!0)},C=U=>{if(U.preventDefault(),!y.name||!y.price||y.price<0){alert("Please enter valid name and price");return}if(!y.category){alert("Please select or enter a category");return}f?r({...f,...y}):n(y),c(!1)},j=U=>{r({...U,stock:U.stock>0?0:100})},A=()=>{const U={id:`vg_${Date.now()}`,name:"",options:[]};x($=>({...$,variants:[...$.variants||[],U]}))},T=U=>{x($=>{const P=[...$.variants||[]];return P.splice(U,1),{...$,variants:P}})},D=(U,$)=>{x(P=>{const q=[...P.variants||[]];return q[U]={...q[U],name:$},{...P,variants:q}})},M=U=>{x($=>{const P=[...$.variants||[]],q=P[U],ee={id:`vo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:"",priceModifier:0};return P[U]={...q,options:[...q.options,ee]},{...$,variants:P}})},k=(U,$)=>{x(P=>{const q=[...P.variants||[]],ee=q[U],ae=[...ee.options];return ae.splice($,1),q[U]={...ee,options:ae},{...P,variants:q}})},K=(U,$,P,q)=>{x(ee=>{const ae=[...ee.variants||[]],L=ae[U],X=[...L.options];return X[$]={...X[$],[P]:q},ae[U]={...L,options:X},{...ee,variants:ae}})};return p.jsxs("div",{className:"p-8 h-full overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Inventory Management"}),p.jsx("button",{onClick:S,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 shadow-md transition-all active:scale-95",children:"+ Add New Item"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col flex-1 overflow-hidden",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[p.jsx("input",{type:"text",placeholder:"Search products...",className:"px-4 py-2 border rounded-lg w-64 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:a,onChange:U=>s(U.target.value)}),p.jsxs("div",{className:"text-sm text-slate-500",children:["Total Items: ",p.jsx("span",{className:"font-bold text-slate-800",children:e.length})]})]}),p.jsx("div",{className:"overflow-y-auto flex-1",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm font-semibold uppercase sticky top-0 z-10",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4 border-b border-slate-200",children:"Item Name"}),p.jsx("th",{className:"px-6 py-4 border-b border-slate-200",children:"Category"}),p.jsx("th",{className:"px-6 py-4 border-b border-slate-200",children:"Price"}),p.jsx("th",{className:"px-6 py-4 border-b border-slate-200",children:"Variants"}),p.jsx("th",{className:"px-6 py-4 border-b border-slate-200",children:"Availability"}),p.jsx("th",{className:"px-6 py-4 text-right border-b border-slate-200",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(U=>{const $=U.stock>0;return p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:p.jsx("span",{children:U.name})}),p.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm",children:p.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-bold",children:U.category})}),p.jsxs("td",{className:"px-6 py-4 text-slate-600",children:["",U.price]}),p.jsx("td",{className:"px-6 py-4",children:U.variants&&U.variants.length>0?p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:U.variants.map(P=>P.name).join(", ")}):p.jsx("span",{className:"text-slate-400 text-xs",children:"None"})}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("button",{onClick:()=>j(U),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${$?"bg-green-500":"bg-slate-200"}`,children:p.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${$?"translate-x-6":"translate-x-1"}`})}),p.jsx("span",{className:`ml-3 text-sm font-medium ${$?"text-green-700":"text-slate-400"}`,children:$?"In Stock":"Unavailable"})]}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsx("button",{onClick:()=>E(U),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium hover:underline",children:"Edit"})})]},U.id)})})]})})]}),o&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:f?"Edit Product":"Add New Product"}),p.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 text-2xl leading-none",children:""})]}),p.jsx("div",{className:"p-8 overflow-y-auto",children:p.jsxs("form",{id:"productForm",onSubmit:C,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Product Name"}),p.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:y.name,onChange:U=>x({...y,name:U.target.value})})]}),p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",required:!0,placeholder:"Select or type new...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:y.category,onChange:U=>{x({...y,category:U.target.value}),v(!0)},onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),200),autoComplete:"off"}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),m&&p.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-xl max-h-60 overflow-y-auto animate-fade-in",children:[t.filter(U=>U.toLowerCase().includes((y.category||"").toLowerCase())).map(U=>p.jsx("div",{className:"px-4 py-2.5 hover:bg-indigo-50 cursor-pointer text-sm text-slate-700 border-b border-slate-50 last:border-0",onMouseDown:$=>{$.preventDefault(),x(P=>({...P,category:U})),v(!1)},children:U},U)),t.filter(U=>U.toLowerCase().includes((y.category||"").toLowerCase())).length===0&&p.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 italic bg-slate-50",children:y.category?p.jsxs("span",{className:"text-indigo-600 font-medium",children:['Create new category "',y.category,'"']}):"Type to add a new category..."})]})]}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Select from list or type to create new."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price ()"}),p.jsx("input",{type:"number",min:"0",required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:y.price,onChange:U=>x({...y,price:parseFloat(U.target.value)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Item Status"}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{type:"button",onClick:()=>x(U=>({...U,stock:(U.stock||0)>0?0:100})),className:`flex-1 py-2 px-4 rounded-lg border font-bold text-sm transition-all ${(y.stock||0)>0?"bg-green-50 border-green-200 text-green-700 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"In Stock"}),p.jsx("button",{type:"button",onClick:()=>x(U=>({...U,stock:0})),className:`flex-1 py-2 px-4 rounded-lg border font-bold text-sm transition-all ${(y.stock||0)<=0?"bg-red-50 border-red-200 text-red-700 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Unavailable"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tax Rate (%)"}),p.jsx("input",{type:"number",min:"0",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:y.taxRate,onChange:U=>x({...y,taxRate:parseFloat(U.target.value)})})]}),p.jsxs("div",{className:"col-span-1 flex items-center space-x-3 mt-6",children:[p.jsx("input",{type:"checkbox",id:"isVeg",className:"w-5 h-5 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500 bg-white",checked:y.isVeg,onChange:U=>x({...y,isVeg:U.target.checked})}),p.jsx("label",{htmlFor:"isVeg",className:"text-sm font-medium text-slate-700 select-none cursor-pointer",children:"Is Vegetarian?"})]}),p.jsxs("div",{className:"col-span-2 border-t border-slate-200 pt-6 mt-2",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-slate-800",children:"Product Variants"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Add options like Size, Spice Level, etc."})]}),p.jsx("button",{type:"button",onClick:A,className:"text-sm bg-indigo-50 text-indigo-600 px-3 py-1.5 rounded-lg font-medium hover:bg-indigo-100 border border-indigo-100",children:"+ Add Variant Group"})]}),(!y.variants||y.variants.length===0)&&p.jsx("div",{className:"text-center py-6 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:p.jsx("p",{className:"text-sm text-slate-400 italic",children:"No variants configured for this product."})}),p.jsx("div",{className:"space-y-4",children:(te=y.variants)==null?void 0:te.map((U,$)=>p.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsx("input",{type:"text",placeholder:"Group Name (e.g. Size)",className:"bg-white border border-slate-200 px-3 py-1.5 rounded focus:ring-1 focus:ring-indigo-500 outline-none font-bold text-slate-700 w-1/2",value:U.name,onChange:P=>D($,P.target.value)}),p.jsx("button",{type:"button",onClick:()=>T($),className:"text-red-400 hover:text-red-600 text-xs font-medium",children:"Remove Group"})]}),p.jsxs("div",{className:"space-y-2 pl-2",children:[U.options.map((P,q)=>p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{type:"text",placeholder:"Option Name (e.g. Small)",className:"flex-1 px-3 py-1.5 text-sm border border-slate-200 rounded bg-white text-slate-800 focus:ring-1 focus:ring-indigo-500 outline-none",value:P.name,onChange:ee=>K($,q,"name",ee.target.value)}),p.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded px-2 w-32 focus-within:ring-1 focus-within:ring-indigo-500",children:[p.jsx("span",{className:"text-slate-400 text-xs mr-1",children:""}),p.jsx("input",{type:"number",placeholder:"Diff",className:"w-full py-1.5 text-sm outline-none bg-transparent text-slate-800",value:P.priceModifier,onChange:ee=>K($,q,"priceModifier",parseFloat(ee.target.value)||0)})]}),p.jsx("button",{type:"button",onClick:()=>k($,q),className:"text-slate-400 hover:text-red-500 px-1 text-lg leading-none",children:""})]},P.id)),p.jsx("button",{type:"button",onClick:()=>M($),className:"text-xs text-indigo-600 font-bold mt-2 hover:underline flex items-center",children:"+ Add Option"})]})]},U.id))})]})]})}),p.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex justify-end space-x-3",children:[p.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 text-slate-600 font-bold hover:bg-slate-200 rounded-xl transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",form:"productForm",className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 transition-colors",children:f?"Update Product":"Create Product"})]})]})})]})},iJ=()=>{var Le;const{tables:e,orders:t,reservations:n,addTable:r,removeTable:a,addReservation:s,updateReservationStatus:o}=or(),c=Yc(),[f,h]=_.useState(null),[m,v]=_.useState(!1),[y,x]=_.useState(""),[w,S]=_.useState("Ground Floor"),[E,C]=_.useState(""),[j,A]=_.useState(""),[T,D]=_.useState(Date.now()),[M,k]=_.useState("ALL"),[K,te]=_.useState("ORDERS"),[U,$]=_.useState(null),[P,q]=_.useState(!1),[ee,ae]=_.useState({customerName:"",customerPhone:"+91",date:new Date().toISOString().split("T")[0],time:"19:00",guests:2,notes:""}),[L,X]=_.useState("");_.useEffect(()=>{const W=setInterval(()=>{D(Date.now())},6e4);return()=>clearInterval(W)},[]);const se=W=>t.find(ye=>ye.tableId===W&&ye.status!==Ut.COMPLETED&&ye.status!==Ut.CANCELLED)?"OCCUPIED":"AVAILABLE",he=W=>{const pe=Date.now(),ye=pe+7200*1e3;return n.find(Ie=>Ie.tableId===W&&Ie.status===rl.CONFIRMED&&Ie.reservationTime>pe&&Ie.reservationTime<ye)},ve=W=>t.find(pe=>pe.tableId===W&&pe.status!==Ut.COMPLETED&&pe.status!==Ut.CANCELLED),R=(W,pe=T)=>{const ye=Math.max(0,pe-W),Ie=Math.floor(ye/6e4),Lt=Math.floor(Ie/60),ln=Ie%60;return Lt>0?`${Lt}h ${ln}m`:`${ln}m`},Z=W=>{if(W.preventDefault(),y.trim()){const pe=w==="CUSTOM"?E.trim():w;if(!pe){alert("Please select or enter a floor name");return}r(y.trim(),pe),x(""),C(""),v(!1)}},ue=(W,pe)=>{W.stopPropagation(),c("/pos",{state:{tableId:pe}})},oe=(W,pe,ye)=>{W.stopPropagation(),W.preventDefault(),console.log("Delete requested for:",pe,ye),window.confirm(`Are you sure you want to delete ${ye}?`)&&a(pe)},me=(W,pe)=>{W.stopPropagation(),X(pe),q(!0)},Oe=W=>{W.preventDefault();const pe=`${ee.date}T${ee.time}`,ye=new Date(pe).getTime();if(ye<Date.now()){alert("Reservation time must be in the future.");return}if(s({tableId:L,customerName:ee.customerName,customerPhone:ee.customerPhone,reservationTime:ye,guests:ee.guests,notes:ee.notes,status:rl.CONFIRMED}),ee.customerPhone&&ee.customerPhone.length>4){const Ie=new Date(ye).toLocaleDateString(),Lt=new Date(ye).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ln=e.find(Sl=>Sl.id===L),Sr=ln?ln.name:L,Ta=`*Reservation Confirmed!* %0a%0aHello ${ee.customerName},%0aYour reservation at *NexPOS* is confirmed.%0a%0a *Date:* ${Ie}%0a *Time:* ${Lt}%0a *Guests:* ${ee.guests}%0a *Table:* ${Sr}%0a%0aThank you!`;window.open(`https://wa.me/${ee.customerPhone}?text=${Ta}`,"_blank")}q(!1),ae({customerName:"",customerPhone:"+91",date:new Date().toISOString().split("T")[0],time:"19:00",guests:2,notes:""})},je=W=>t.filter(pe=>pe.tableId===W).filter(pe=>pe.id.toLowerCase().includes(j.toLowerCase())||new Date(pe.timestamp).toLocaleDateString().includes(j)||pe.customerName&&pe.customerName.toLowerCase().includes(j.toLowerCase())||pe.customerPhone&&pe.customerPhone.includes(j)).sort((pe,ye)=>ye.timestamp-pe.timestamp),nt=W=>n.filter(pe=>pe.tableId===W).sort((pe,ye)=>ye.reservationTime-pe.reservationTime),J=f?je(f):[],Ce=f?nt(f):[],Re=J.filter(W=>W.status!==Ut.CANCELLED).reduce((W,pe)=>W+pe.total,0),le=_.useMemo(()=>["ALL",...Array.from(new Set(e.map(pe=>pe.floor))).sort()],[e]),Nt=_.useMemo(()=>M==="ALL"?e:e.filter(W=>W.floor===M),[e,M]);return p.jsxs("div",{className:"flex h-screen bg-slate-100 overflow-hidden",children:[p.jsxs("div",{className:`${f?"w-1/2":"w-full"} flex flex-col p-6 transition-all duration-300 ease-in-out overflow-y-auto`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Tables"}),p.jsx("p",{className:"text-slate-500 mt-1",children:"Manage dining areas by floor"})]}),p.jsx("button",{onClick:()=>v(!m),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 transition-all flex items-center gap-2",children:p.jsx("span",{children:"+ Add Table"})})]}),le.length>1&&p.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:le.map(W=>p.jsx("button",{onClick:()=>k(W),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all whitespace-nowrap ${M===W?"bg-slate-800 text-white shadow-md":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:W},W))}),m&&p.jsxs("form",{onSubmit:Z,className:"mb-6 bg-white p-5 rounded-xl shadow-md border border-indigo-100 animate-fade-in",children:[p.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Add New Table"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Table Name"}),p.jsx("input",{type:"text",placeholder:"e.g. T-12",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:y,onChange:W=>x(W.target.value),autoFocus:!0,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Floor / Area"}),p.jsxs("select",{value:w,onChange:W=>S(W.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",children:[p.jsx("option",{value:"Ground Floor",children:"Ground Floor"}),p.jsx("option",{value:"First Floor",children:"First Floor"}),p.jsx("option",{value:"Rooftop",children:"Rooftop"}),p.jsx("option",{value:"Outdoor",children:"Outdoor"}),p.jsx("option",{value:"CUSTOM",children:"Custom..."})]})]}),w==="CUSTOM"&&p.jsx("div",{className:"md:col-span-2",children:p.jsx("input",{type:"text",placeholder:"Enter custom floor name...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:E,onChange:W=>C(W.target.value),required:!0})})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700",children:"Save Table"})]})]}),Nt.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-dashed border-slate-300",children:[p.jsx("p",{className:"text-4xl mb-4",children:""}),p.jsx("h3",{className:"text-xl font-bold text-slate-700",children:"No tables configured"}),p.jsx("p",{className:"text-slate-500 mb-6",children:"Add your first table to get started"}),p.jsx("button",{onClick:()=>v(!0),className:"bg-indigo-50 text-indigo-600 px-6 py-2 rounded-lg font-bold hover:bg-indigo-100",children:"Create Table"})]}):p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Nt.map(W=>{const pe=se(W.id),ye=ve(W.id),Ie=he(W.id);return p.jsxs("div",{onClick:()=>h(W.id),className:`
                    relative p-6 rounded-xl border-2 cursor-pointer transition-all hover:-translate-y-1 hover:shadow-md flex flex-col justify-between min-h-[160px] group
                    ${f===W.id?"border-indigo-600 ring-2 ring-indigo-100":"border-white bg-white"}
                    ${pe==="OCCUPIED"?"bg-red-50 border-red-100":"bg-white"}
                    `,children:[pe==="AVAILABLE"&&p.jsx("button",{onClick:Lt=>oe(Lt,W.id,W.name),className:"absolute top-2 right-2 p-2 bg-white text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all z-20 shadow-sm border border-transparent hover:border-red-100 opacity-0 group-hover:opacity-100",title:"Delete Table",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),pe==="AVAILABLE"&&!Ie&&p.jsx("button",{onClick:Lt=>me(Lt,W.id),className:"absolute top-2 right-10 p-2 bg-white text-slate-400 hover:text-purple-500 hover:bg-purple-50 rounded-full transition-all z-20 shadow-sm border border-transparent hover:border-purple-100 opacity-0 group-hover:opacity-100",title:"Book Table",children:p.jsx("span",{className:"text-lg",children:""})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-start mb-2 pr-8",children:[p.jsx("span",{className:"font-bold text-xl text-slate-800 break-words leading-tight",children:W.name}),p.jsx("span",{className:`w-3 h-3 rounded-full flex-shrink-0 ${pe==="OCCUPIED"?"bg-red-500 animate-pulse":"bg-emerald-500"}`})]}),p.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider bg-slate-100 px-1.5 py-0.5 rounded",children:W.floor}),p.jsx("div",{className:"text-sm mt-3",children:pe==="OCCUPIED"?p.jsxs("div",{className:"text-red-600 font-medium",children:[p.jsx("p",{children:"Occupied"}),p.jsxs("p",{className:"text-xs opacity-75 mt-1",children:["Order #",ye==null?void 0:ye.id.slice(-4)]}),p.jsxs("div",{className:"mt-2 flex items-center text-xs bg-red-100 text-red-700 px-2 py-1 rounded w-fit",children:[p.jsx("span",{className:"mr-1",children:""}),ye&&R(ye.timestamp)]})]}):Ie?p.jsxs("div",{className:"text-purple-600 font-medium animate-pulse",children:[p.jsx("p",{children:"Reserved"}),p.jsxs("p",{className:"text-xs text-purple-500 mt-1",children:["@ ",new Date(Ie.reservationTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),p.jsx("p",{className:"text-xs text-purple-500",children:Ie.customerName})]}):p.jsx("div",{className:"text-emerald-600 font-medium",children:"Available"})})]}),p.jsx("div",{className:"mt-4 pt-4 border-t border-dashed border-slate-200",children:p.jsx("button",{onClick:Lt=>ue(Lt,W.id),className:`w-full text-sm font-bold px-4 py-2 rounded-lg transition-colors ${pe==="OCCUPIED"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-indigo-50 text-indigo-600 hover:bg-indigo-100"}`,children:pe==="OCCUPIED"?"View Order":"Take Order"})})]},W.id)})})]}),f&&p.jsxs("div",{className:"w-1/2 bg-white border-l border-slate-200 shadow-xl flex flex-col h-full animate-slide-in-right",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex justify-between items-start",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[((Le=e.find(W=>W.id===f))==null?void 0:Le.name)||f,p.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${se(f)==="OCCUPIED"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:se(f)})]})}),p.jsx("button",{onClick:()=>h(null),className:"text-slate-400 hover:text-slate-600 text-2xl leading-none",children:""})]}),p.jsxs("div",{className:"flex border-b border-slate-200",children:[p.jsx("button",{onClick:()=>te("ORDERS"),className:`flex-1 py-3 text-sm font-bold text-center border-b-2 ${K==="ORDERS"?"border-indigo-600 text-indigo-700 bg-indigo-50":"border-transparent text-slate-500 hover:bg-slate-50"}`,children:"Order History"}),p.jsx("button",{onClick:()=>te("RESERVATIONS"),className:`flex-1 py-3 text-sm font-bold text-center border-b-2 ${K==="RESERVATIONS"?"border-purple-600 text-purple-700 bg-purple-50":"border-transparent text-slate-500 hover:bg-slate-50"}`,children:"Reservations"})]}),K==="ORDERS"?p.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[p.jsx("p",{className:"text-xs text-indigo-600 font-bold uppercase tracking-wider",children:"Total Revenue"}),p.jsxs("p",{className:"text-2xl font-bold text-indigo-900 mt-1",children:["",Re.toLocaleString()]})]}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total Orders"}),p.jsx("p",{className:"text-2xl font-bold text-slate-700 mt-1",children:J.length})]})]}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"text",placeholder:"Search by Date, Order ID or Customer...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg text-sm focus:ring-1 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:j,onChange:W=>A(W.target.value)})}),p.jsx("div",{className:"space-y-3",children:J.length===0?p.jsx("div",{className:"text-center py-10 text-slate-400",children:"No order history found."}):J.map(W=>{const pe=W.isFullyPaid!==!1,ye=W.total-(W.amountPaid||W.total),Ie=U===W.id;let Lt=W.timestamp;W.payments&&W.payments.length>0&&(Lt=W.payments[W.payments.length-1].timestamp);const ln=W.status===Ut.COMPLETED?R(W.timestamp,Lt):W.status===Ut.CANCELLED?"Cancelled":"Active";return p.jsxs("div",{className:`border rounded-lg transition-all ${Ie?"border-indigo-200 shadow-md":"border-slate-100 hover:bg-slate-50"}`,children:[p.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>$(Ie?null:W.id),children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"font-bold text-slate-800 block",children:["#",W.id.slice(-6)]}),Ie&&p.jsx("span",{className:"text-[10px] bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:"Expanded View"})]}),p.jsx("span",{className:"text-xs text-slate-500",children:new Date(W.timestamp).toLocaleTimeString()}),(W.customerName||W.customerPhone)&&p.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs font-medium text-indigo-600 bg-indigo-50 w-fit px-1.5 py-0.5 rounded",children:[p.jsxs("span",{children:[" ",W.customerName||"Guest"]}),W.customerPhone&&p.jsxs("span",{className:"text-indigo-400",children:["| ",W.customerPhone]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("span",{className:"font-bold text-slate-900 block",children:["",W.total]}),W.status===Ut.CANCELLED?p.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-bold uppercase bg-red-100 text-red-700",children:"CANCELLED"}):pe?p.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-bold uppercase bg-green-100 text-green-700",children:"PAID"}):p.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-bold uppercase bg-amber-100 text-amber-700",children:["DUE: ",ye]})]})]}),!Ie&&p.jsx("div",{className:"text-xs text-slate-600 border-t border-slate-100 pt-2 mt-2 truncate",children:(W.items||[]).map(Sr=>`${Sr.qty} x ${Sr.name}`).join(", ")}),p.jsx("div",{className:"flex justify-center mt-1",children:p.jsx("div",{className:`text-slate-300 transform transition-transform ${Ie?"rotate-180":""}`,children:""})})]}),Ie&&p.jsxs("div",{className:"border-t border-indigo-100 bg-indigo-50/30 p-4 text-sm animate-fade-in rounded-b-lg",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-xs",children:[p.jsxs("div",{className:"bg-white p-2 rounded border border-slate-100",children:[p.jsx("p",{className:"text-slate-400 font-bold uppercase mb-1",children:"Time Analysis"}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("p",{className:"flex justify-between",children:[p.jsx("span",{children:"Created:"})," ",p.jsx("span",{className:"font-mono text-slate-700",children:new Date(W.timestamp).toLocaleTimeString()})]}),p.jsxs("p",{className:"flex justify-between",children:[p.jsx("span",{children:"Occupied:"})," ",p.jsx("span",{className:"font-mono text-slate-700",children:ln})]})]})]}),p.jsxs("div",{className:"bg-white p-2 rounded border border-slate-100",children:[p.jsx("p",{className:"text-slate-400 font-bold uppercase mb-1",children:"Service Info"}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("p",{children:["Staff: ",p.jsx("span",{className:"font-bold text-slate-700",children:W.staffName||"Unknown"})]}),p.jsxs("p",{children:["Table: ",p.jsx("span",{className:"font-bold text-slate-700",children:W.tableId})]})]})]})]}),p.jsx("div",{className:"bg-white p-3 rounded border border-slate-200 space-y-2 mb-4",children:p.jsxs("div",{className:"flex justify-between font-bold text-base text-slate-900 border-t border-slate-200 pt-2 mt-1",children:[p.jsx("span",{children:"Grand Total"}),p.jsxs("span",{children:["",W.total]})]})})]})]},W.id)})})]}):p.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Reservation History"}),p.jsx("button",{onClick:W=>me(W,f),className:"text-xs bg-purple-600 text-white px-3 py-1.5 rounded-lg font-bold shadow hover:bg-purple-700",children:"+ New Booking"})]}),p.jsx("div",{className:"space-y-4",children:Ce.length===0?p.jsx("div",{className:"text-center py-10 text-slate-400",children:"No reservations found for this table."}):Ce.map(W=>{const pe=W.reservationTime>Date.now(),ye=W.status===rl.CONFIRMED;return p.jsxs("div",{className:`p-4 rounded-xl border relative ${ye?"bg-white border-purple-200 shadow-sm":"bg-slate-50 border-slate-200 opacity-70"}`,children:[ye&&pe&&p.jsx("span",{className:"absolute top-0 right-0 bg-purple-100 text-purple-700 text-[10px] px-2 py-0.5 rounded-bl-lg font-bold",children:"UPCOMING"}),p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800",children:W.customerName}),p.jsx("p",{className:"text-sm text-slate-500",children:W.customerPhone})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-mono font-bold text-slate-800",children:new Date(W.reservationTime).toLocaleDateString()}),p.jsx("p",{className:"text-sm text-slate-500",children:new Date(W.reservationTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),p.jsxs("div",{className:"flex gap-4 text-xs text-slate-600 mb-3 bg-slate-50 p-2 rounded",children:[p.jsxs("span",{className:"font-semibold",children:[" ",W.guests," Guests"]}),W.notes&&p.jsxs("span",{className:"italic",children:['"',W.notes,'"']})]}),ye&&p.jsxs("div",{className:"flex gap-2 border-t border-dashed border-slate-200 pt-2",children:[p.jsx("button",{onClick:()=>o(W.id,rl.COMPLETED),className:"flex-1 py-1.5 bg-green-50 text-green-700 text-xs font-bold rounded hover:bg-green-100",children:" Arrived"}),p.jsx("button",{onClick:()=>o(W.id,rl.CANCELLED),className:"flex-1 py-1.5 bg-red-50 text-red-700 text-xs font-bold rounded hover:bg-red-100",children:" Cancel"}),p.jsx("button",{onClick:()=>o(W.id,rl.NO_SHOW),className:"flex-1 py-1.5 bg-slate-100 text-slate-600 text-xs font-bold rounded hover:bg-slate-200",children:"No Show"})]}),!ye&&p.jsx("div",{className:"text-center text-xs font-bold text-slate-400 uppercase tracking-widest mt-2",children:W.status})]},W.id)})})]})]}),P&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl p-6 animate-scale-up",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"New Reservation"}),p.jsx("button",{onClick:()=>q(!1),className:"text-slate-400 hover:text-slate-600 text-2xl",children:""})]}),p.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Date"}),p.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:ee.date,onChange:W=>ae({...ee,date:W.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Time"}),p.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:ee.time,onChange:W=>ae({...ee,time:W.target.value}),required:!0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Guest Name"}),p.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",placeholder:"John Doe",value:ee.customerName,onChange:W=>ae({...ee,customerName:W.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Phone"}),p.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",placeholder:"+91...",value:ee.customerPhone,onChange:W=>ae({...ee,customerPhone:W.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Guests"}),p.jsx("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:ee.guests,onChange:W=>ae({...ee,guests:parseInt(W.target.value)}),required:!0})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Notes (Optional)"}),p.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",placeholder:"Anniversary, High Chair, etc.",value:ee.notes,onChange:W=>ae({...ee,notes:W.target.value}),rows:2})]})]}),p.jsxs("div",{className:"pt-2 flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>q(!1),className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-100 rounded-xl",children:"Cancel"}),p.jsx("button",{type:"submit",className:"flex-1 py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-700 shadow-md",children:"Confirm Booking"})]})]})]})})]})},aJ=()=>{const{customers:e,orders:t,updateCustomer:n,loyaltySettings:r}=or(),[a,s]=_.useState(""),[o,c]=_.useState(null),[f,h]=_.useState(!1),[m,v]=_.useState({}),y=e.filter(A=>A.name.toLowerCase().includes(a.toLowerCase())||A.phone.includes(a)),x=A=>t.filter(T=>T.customerPhone===A&&T.status===Ut.COMPLETED).reduce((T,D)=>T+(D.total-(D.amountPaid||0)),0),w=A=>{const T=t.filter(U=>U.customerPhone===A&&U.status!==Ut.CANCELLED),D=T.reduce((U,$)=>U+$.total,0),M=T.length,k=M>0?D/M:0,K=new Map;T.forEach(U=>{(U.items||[]).forEach($=>{K.set($.name,(K.get($.name)||0)+$.qty)})});const te=Array.from(K.entries()).sort((U,$)=>$[1]-U[1]).slice(0,3).map(U=>U[0]);return{customerOrders:T,totalSpent:D,visitCount:M,avgOrderValue:k,topItems:te}},S=A=>{c(A),h(!1)},E=()=>{o&&(v(o),h(!0))},C=A=>{A.preventDefault(),m.phone&&o&&(n({...o,...m}),c({...o,...m}),h(!1))},j=o?w(o.phone):null;return p.jsxs("div",{className:"flex h-screen bg-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"w-1/3 bg-white border-r border-slate-200 flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Customers"}),p.jsx("input",{type:"text",placeholder:"Search name or phone...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:a,onChange:A=>s(A.target.value)})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.map(A=>{const T=x(A.phone);return p.jsxs("div",{onClick:()=>S(A),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(o==null?void 0:o.phone)===A.phone?"bg-indigo-50 border-l-4 border-l-indigo-600":""}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800",children:A.name}),p.jsx("p",{className:"text-sm text-slate-500",children:A.phone})]}),T>1&&p.jsxs("span",{className:"text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded-full font-bold",children:["Due: ",Math.round(T)]})]}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[A.notes&&p.jsx("span",{className:"inline-block text-[10px] bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full font-bold uppercase",children:"Note"}),A.loyaltyPoints>0&&p.jsxs("span",{className:"inline-block text-[10px] bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full font-bold uppercase",children:[A.loyaltyPoints," Pts"]})]})]},A.phone)}),y.length===0&&p.jsx("div",{className:"p-8 text-center text-slate-400",children:"No customers found."})]})]}),p.jsx("div",{className:"flex-1 bg-slate-50 flex flex-col h-full overflow-hidden",children:o&&j?p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"bg-white p-6 border-b border-slate-200 shadow-sm flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:o.name}),p.jsxs("div",{className:"flex gap-4 mt-2 text-slate-500",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[" ",o.phone]}),o.email&&p.jsxs("span",{className:"flex items-center gap-1",children:[" ",o.email]})]}),o.address&&p.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[" ",o.address]})]}),p.jsx("button",{onClick:E,className:"text-indigo-600 font-bold hover:bg-indigo-50 px-4 py-2 rounded-lg transition-colors",children:"Edit Profile"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:f?p.jsxs("form",{onSubmit:C,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 max-w-2xl",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit Customer Details"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Name"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:m.name||"",onChange:A=>v({...m,name:A.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:m.email||"",onChange:A=>v({...m,email:A.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Phone (Read-only)"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-200 rounded-lg bg-slate-100 text-slate-500 outline-none",value:m.phone||"",readOnly:!0})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Address"}),p.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:m.address||"",onChange:A=>v({...m,address:A.target.value})})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Notes (VIP, Allergies, etc.)"}),p.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:m.notes||"",onChange:A=>v({...m,notes:A.target.value})})]})]}),p.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[p.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-500",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded font-bold",children:"Save Changes"})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Total Spent"}),p.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",j.totalSpent.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Total Visits"}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:j.visitCount})]}),p.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Avg Order Value"}),p.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",Math.round(j.avgOrderValue)]})]}),p.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Last Visit"}),p.jsx("p",{className:"text-lg font-bold text-slate-800 truncate",children:o.lastVisit?new Date(o.lastVisit).toLocaleDateString():"N/A"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.enabled&&p.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-purple-800 p-6 rounded-xl text-white shadow-lg relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full transform translate-x-10 -translate-y-10"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest",children:"Loyalty Balance"}),p.jsxs("h3",{className:"text-4xl font-bold mt-1",children:[o.loyaltyPoints||0," ",p.jsx("span",{className:"text-lg opacity-70",children:"Pts"})]}),p.jsxs("p",{className:"text-xs text-indigo-300 mt-1",children:["Value: ",(o.loyaltyPoints||0)*r.redemptionValue]})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:p.jsx("span",{className:"text-2xl",children:""})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-white/10 pt-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] text-indigo-300 uppercase",children:"Total Earned"}),p.jsx("p",{className:"font-bold",children:o.totalPointsEarned||0})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] text-indigo-300 uppercase",children:"Total Redeemed"}),p.jsx("p",{className:"font-bold",children:o.totalPointsRedeemed||0})]})]})]})]}),p.jsxs("div",{className:"bg-amber-50 p-6 rounded-xl border border-amber-100 h-full",children:[p.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:" Notes & Preferences"}),p.jsx("p",{className:"text-amber-800 whitespace-pre-wrap mb-4",children:o.notes||"No notes added."}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-auto",children:j.topItems.map(A=>p.jsxs("span",{className:"bg-white text-amber-700 px-2 py-1 rounded-md text-xs font-bold shadow-sm border border-amber-100",children:[" ",A]},A))})]})]}),p.jsxs("div",{className:"space-y-6",children:[r.enabled&&(o.loyaltyHistory||[]).length>0&&p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 font-bold text-slate-700 flex justify-between",children:[p.jsx("span",{children:"Points History"}),p.jsx("span",{className:"text-xs text-slate-400 font-normal",children:"Last 5 transactions"})]}),p.jsxs("table",{className:"w-full text-left text-sm",children:[p.jsx("thead",{className:"text-slate-500 border-b border-slate-100 bg-slate-50/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3 font-medium",children:"Date"}),p.jsx("th",{className:"p-3 font-medium",children:"Description"}),p.jsx("th",{className:"p-3 font-medium text-center",children:"Type"}),p.jsx("th",{className:"p-3 font-medium text-right",children:"Points"}),p.jsx("th",{className:"p-3 font-medium text-right",children:"Expiry"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:[...o.loyaltyHistory||[]].sort((A,T)=>T.date-A.date).slice(0,5).map(A=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3 text-slate-600",children:new Date(A.date).toLocaleDateString()}),p.jsx("td",{className:"p-3 text-slate-800",children:A.description||"-"}),p.jsx("td",{className:"p-3 text-center",children:p.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold uppercase ${A.type==="EARNED"?"bg-green-100 text-green-700":A.type==="REDEEMED"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:A.type})}),p.jsxs("td",{className:`p-3 text-right font-bold ${A.type==="EARNED"?"text-green-600":"text-red-500"}`,children:[A.type==="EARNED"?"+":"-",A.points]}),p.jsx("td",{className:"p-3 text-right text-xs text-slate-500",children:A.expiryDate?new Date(A.expiryDate).toLocaleDateString():"-"})]},A.id))})]})]}),p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:[p.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 font-bold text-slate-700",children:"Order History"}),p.jsxs("table",{className:"w-full text-left text-sm",children:[p.jsx("thead",{className:"text-slate-500 border-b border-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-medium",children:"Date"}),p.jsx("th",{className:"p-4 font-medium",children:"Order ID"}),p.jsx("th",{className:"p-4 font-medium",children:"Items"}),p.jsx("th",{className:"p-4 font-medium text-right",children:"Total"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:j.customerOrders.sort((A,T)=>T.timestamp-A.timestamp).map(A=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-4 text-slate-600",children:new Date(A.timestamp).toLocaleDateString()}),p.jsxs("td",{className:"p-4 font-mono text-slate-500",children:["#",A.id.slice(-6)]}),p.jsx("td",{className:"p-4 text-slate-800 max-w-xs truncate",title:(A.items||[]).map(T=>T.name).join(", "),children:(A.items||[]).map(T=>T.name).join(", ")}),p.jsxs("td",{className:"p-4 text-right font-bold text-slate-800",children:["",A.total]})]},A.id))})]})]})]})]})})]}):p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[p.jsx("span",{className:"text-6xl mb-4",children:""}),p.jsx("p",{className:"text-xl",children:"Select a customer to view details"})]})})]})},PT=["#4f46e5","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],lJ=()=>{const{orders:e,products:t,expenses:n,auditLogs:r,shifts:a,staffList:s}=or(),o=Yc(),[c,f]=_.useState("SALES"),[h,m]=_.useState("ALL"),v=()=>{const P=new Date,q=new Date(P.getFullYear(),P.getMonth(),P.getDate()).getTime(),ee=new Date(P.getTime()-10080*60*1e3).getTime(),ae=new Date(P.getFullYear(),P.getMonth(),1).getTime();return e.filter(L=>L.status===Ut.CANCELLED?!1:h==="TODAY"?L.timestamp>=q:h==="WEEK"?L.timestamp>=ee:h==="MONTH"?L.timestamp>=ae:!0)},y=_.useMemo(()=>v(),[e,h]),x=(P,q)=>{const ee=s.find(ae=>ae.id===P);return ee?ee.name:q},w=_.useMemo(()=>{let P=0,q=0,ee=0;const ae={CASH:0,CARD:0,UPI:0,DUE:0},L={},X={},se={},he={},ve=[];return y.forEach(R=>{P+=R.total,q+=R.discount,ee+=R.tax;let Z=0;(R.payments||[]).forEach(me=>{ae[me.method]=(ae[me.method]||0)+me.amount,Z+=me.amount}),R.total>Z&&(ae.DUE=(ae.DUE||0)+(R.total-Z)),(R.items||[]).forEach(me=>{L[me.category]=(L[me.category]||0)+me.price*me.qty,X[me.name]||(X[me.name]={qty:0,amount:0}),X[me.name].qty+=me.qty,X[me.name].amount+=me.price*me.qty});const ue=new Date(R.timestamp).getHours();se[ue]=(se[ue]||0)+R.total;const oe=R.tableId||"Other";he[oe]=(he[oe]||0)+R.total,R.discount>0&&ve.push(R)}),{totalSales:P,totalDiscount:q,totalTax:ee,paymentBreakdown:ae,categorySales:L,itemSales:X,hourlySales:se,tableSales:he,discountedOrdersList:ve}},[y]),S=_.useMemo(()=>{let P=0,q=0,ee=0,ae=0,L=e.filter(X=>X.status===Ut.CANCELLED).length;return y.forEach(X=>{const se=X.deliveryAddress||X.tableId&&X.tableId.toLowerCase().includes("delivery"),he=X.tableId&&X.tableId.toLowerCase().includes("takeaway");se?q++:he?ee++:P++;const ve=new Set((X.items||[]).map(R=>R.kotId).filter(Boolean));ae+=ve.size}),{dineIn:P,delivery:q,takeaway:ee,totalKots:ae,cancelledOrders:L}},[y,e]),E=_.useMemo(()=>{let P=0,q=0,ee=0;return t.forEach(ae=>{P+=ae.price*ae.stock,ae.stock===0?ee++:ae.stock<10&&q++}),{totalValue:P,lowStockItems:q,outOfStockItems:ee}},[t]),C=_.useMemo(()=>{const P=n.reduce((ee,ae)=>ee+ae.amount,0),q=w.totalSales-w.totalTax-P;return{totalExpenses:P,netProfit:q}},[w,n]);Object.entries(w.categorySales).map(([P,q])=>({name:P,value:q}));const j=Object.entries(w.paymentBreakdown).map(([P,q])=>({name:P,value:q})),A=Object.entries(w.hourlySales).sort((P,q)=>Number(P[0])-Number(q[0])).map(([P,q])=>({hour:`${P}:00`,sales:Number(q)})),T=Object.entries(w.tableSales).map(([P,q])=>({name:P,sales:Number(q)})).sort((P,q)=>q.sales-P.sales),D=Object.entries(w.itemSales).map(([P,q])=>({name:P,qty:q.qty,amount:q.amount})).sort((P,q)=>q.amount-P.amount).slice(0,10),[M,k]=_.useState(!1),[K,te]=_.useState({description:"",amount:"",category:"Utilities"}),{addExpense:U}=or(),$=P=>{P.preventDefault(),K.description&&K.amount&&(U({description:K.description,amount:parseFloat(K.amount),category:K.category,recordedBy:"Admin"}),k(!1),te({description:"",amount:"",category:"Utilities"}))};return p.jsxs("div",{className:"flex h-screen bg-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"w-64 bg-white border-r border-slate-200 flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100",children:[p.jsx("button",{onClick:()=>o("/"),className:"flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-indigo-600 mb-4 transition-colors",children:" Back to Dashboard"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reports"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Analytics & Insights"})]}),p.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"SALES",label:"Sales Reports"},{id:"ORDERS",label:"Order Reports"},{id:"INVENTORY",label:"Inventory"},{id:"STAFF",label:"Staff & Audit"},{id:"FINANCE",label:"Finance"}].map(P=>p.jsx("button",{onClick:()=>f(P.id),className:`w-full flex items-center px-4 py-3 rounded-xl transition-all font-medium text-left ${c===P.id?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-slate-50"}`,children:P.label},P.id))}),p.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Time Period"}),p.jsxs("select",{value:h,onChange:P=>m(P.target.value),className:"w-full p-2 border border-slate-200 rounded-lg text-sm bg-white outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"TODAY",children:"Today"}),p.jsx("option",{value:"WEEK",children:"This Week"}),p.jsx("option",{value:"MONTH",children:"This Month"}),p.jsx("option",{value:"ALL",children:"All Time"})]})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[c==="SALES"&&p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Sales Performance"}),p.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total Revenue"}),p.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["",w.totalSales.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total Tax Collected"}),p.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",w.totalTax.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Discounts Given"}),p.jsxs("p",{className:"text-2xl font-bold text-red-500",children:["",w.totalDiscount.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Cash Sales"}),p.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",(w.paymentBreakdown.CASH||0).toLocaleString()]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm h-80",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Hourly Sales Trend"}),p.jsx(fo,{width:"100%",height:"100%",children:p.jsxs(WI,{data:A,children:[p.jsx(Rc,{strokeDasharray:"3 3",vertical:!1}),p.jsx(Ic,{dataKey:"hour",fontSize:12}),p.jsx(kc,{fontSize:12}),p.jsx(ho,{}),p.jsx(y1,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",fill:"#e0e7ff"})]})})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm h-80",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Payment Methods"}),p.jsx(fo,{width:"100%",height:"100%",children:p.jsxs(TT,{children:[p.jsx(Kb,{data:j,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:j.map((P,q)=>p.jsx(al,{fill:PT[q%PT.length]},`cell-${q}`))}),p.jsx(ho,{})]})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm h-80",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Table-wise Performance"}),T.length>0?p.jsx(fo,{width:"100%",height:"100%",children:p.jsxs(GI,{data:T,margin:{bottom:20},children:[p.jsx(Rc,{strokeDasharray:"3 3",vertical:!1}),p.jsx(Ic,{dataKey:"name",fontSize:12,interval:0,angle:-30,textAnchor:"end"}),p.jsx(kc,{fontSize:12}),p.jsx(ho,{cursor:{fill:"#f8fafc"}}),p.jsx(m1,{dataKey:"sales",fill:"#10b981",radius:[4,4,0,0]})]})}):p.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:"No data available"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-80",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Top Selling Items"}),p.jsx("div",{className:"overflow-y-auto flex-1",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"text-slate-500 border-b sticky top-0 bg-white",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left py-2",children:"Item"}),p.jsx("th",{className:"text-right py-2",children:"Qty"}),p.jsx("th",{className:"text-right py-2",children:"Amount"})]})}),p.jsx("tbody",{children:D.map((P,q)=>p.jsxs("tr",{className:"border-b border-slate-50 last:border-0",children:[p.jsx("td",{className:"py-2",children:P.name}),p.jsx("td",{className:"py-2 text-right",children:P.qty}),p.jsxs("td",{className:"py-2 text-right font-bold",children:["",P.amount.toLocaleString()]})]},q))})]})})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Discount Report Details"}),p.jsxs("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-bold",children:[w.discountedOrdersList.length," Orders with Discounts"]})]}),p.jsx("div",{className:"overflow-x-auto max-h-60 overflow-y-auto",children:w.discountedOrdersList.length===0?p.jsx("div",{className:"text-center py-6 text-slate-400 italic",children:"No discounts given in this period."}):p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-100 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"Date"}),p.jsx("th",{className:"px-4 py-2",children:"Order ID"}),p.jsx("th",{className:"px-4 py-2",children:"Table"}),p.jsx("th",{className:"px-4 py-2",children:"Customer"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"Bill Amount"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"Discount"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:w.discountedOrdersList.map(P=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"px-4 py-2 text-slate-500",children:new Date(P.timestamp).toLocaleString()}),p.jsxs("td",{className:"px-4 py-2 font-mono",children:["#",P.id.slice(-6)]}),p.jsx("td",{className:"px-4 py-2",children:P.tableId||"-"}),p.jsx("td",{className:"px-4 py-2 text-slate-600",children:P.customerName||"Guest"}),p.jsxs("td",{className:"px-4 py-2 text-right",children:["",(P.total+P.discount).toLocaleString()]}),p.jsxs("td",{className:"px-4 py-2 text-right font-bold text-red-600",children:["-",P.discount.toLocaleString()]})]},P.id))})]})})]})]}),c==="ORDERS"&&p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Order Analytics"}),p.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total Orders"}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:y.length})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Cancelled"}),p.jsx("p",{className:"text-2xl font-bold text-red-600",children:S.cancelledOrders})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"KOTs Generated"}),p.jsx("p",{className:"text-2xl font-bold text-amber-600",children:S.totalKots})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Avg Order Value"}),p.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["",Math.round(y.length?w.totalSales/y.length:0)]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm h-80 flex flex-col items-center justify-center",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4 self-start",children:"Order Type Distribution"}),p.jsx(fo,{width:"100%",height:"100%",children:p.jsxs(TT,{children:[p.jsxs(Kb,{data:[{name:"Dine-In",value:S.dineIn},{name:"Delivery",value:S.delivery},{name:"Takeaway",value:S.takeaway}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,fill:"#8884d8",dataKey:"value",label:!0,children:[p.jsx(al,{fill:"#4f46e5"}),p.jsx(al,{fill:"#10b981"}),p.jsx(al,{fill:"#f59e0b"})]}),p.jsx(ho,{})]})}),p.jsxs("div",{className:"flex gap-4 text-sm mt-4",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"})," Dine-In (",S.dineIn,")"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"})," Delivery (",S.delivery,")"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"})," Takeaway (",S.takeaway,")"]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Recent KOT Activity"}),p.jsx("div",{className:"overflow-y-auto max-h-60",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-slate-50 text-slate-500",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 text-left",children:"Time"}),p.jsx("th",{className:"py-2 text-left",children:"Table"}),p.jsx("th",{className:"py-2 text-right",children:"Items"})]})}),p.jsx("tbody",{children:y.slice(0,10).map(P=>(new Set((P.items||[]).map(q=>q.kotId)).size,p.jsxs("tr",{className:"border-b border-slate-50",children:[p.jsx("td",{className:"py-2",children:new Date(P.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),p.jsx("td",{className:"py-2 font-bold",children:P.tableId}),p.jsx("td",{className:"py-2 text-right",children:(P.items||[]).length})]},P.id)))})]})})]})]})]}),c==="INVENTORY"&&p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Inventory Valuation & Health"}),p.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Total Inventory Value"}),p.jsxs("p",{className:"text-3xl font-bold text-emerald-600",children:["",E.totalValue.toLocaleString()]}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"*Based on Retail Price"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Low Stock Items"}),p.jsx("p",{className:"text-3xl font-bold text-amber-500",children:E.lowStockItems}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Less than 10 units"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Out of Stock"}),p.jsx("p",{className:"text-3xl font-bold text-red-500",children:E.outOfStockItems})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Product Availability Status"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3",children:"Product Name"}),p.jsx("th",{className:"px-4 py-3",children:"Category"}),p.jsx("th",{className:"px-4 py-3",children:"Price"}),p.jsx("th",{className:"px-4 py-3",children:"Status"}),p.jsx("th",{className:"px-4 py-3",children:"Stock Level"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(P=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:P.name}),p.jsx("td",{className:"px-4 py-3 text-slate-600",children:P.category}),p.jsxs("td",{className:"px-4 py-3",children:["",P.price]}),p.jsx("td",{className:"px-4 py-3",children:P.stock===0?p.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded text-xs",children:"Out of Stock"}):P.stock<10?p.jsx("span",{className:"text-amber-600 font-bold bg-amber-50 px-2 py-1 rounded text-xs",children:"Low Stock"}):p.jsx("span",{className:"text-emerald-600 font-bold bg-emerald-50 px-2 py-1 rounded text-xs",children:"Available"})}),p.jsx("td",{className:"px-4 py-3",children:p.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 max-w-[100px]",children:p.jsx("div",{className:`h-2 rounded-full ${P.stock<10?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(P.stock,100)}%`}})})})]},P.id))})]})})]})]}),c==="STAFF"&&p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Staff & Shift Reports"})}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 font-bold text-slate-700",children:"Shift History"}),p.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"text-slate-500 bg-white border-b border-slate-100 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Shift ID"}),p.jsx("th",{className:"px-6 py-3",children:"Staff"}),p.jsx("th",{className:"px-6 py-3",children:"Time Range"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Cash Collected"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Expected Cash"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Actual Count"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Variance"}),p.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-400 italic",children:"No shifts recorded yet."})}):a.sort((P,q)=>q.startTime-P.startTime).map(P=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"px-6 py-3 font-mono text-slate-600",children:P.id}),p.jsx("td",{className:"px-6 py-3 font-medium",children:x(P.staffId,P.staffName)}),p.jsxs("td",{className:"px-6 py-3 text-slate-500",children:[new Date(P.startTime).toLocaleString()," -",P.endTime?new Date(P.endTime).toLocaleTimeString():"Active"]}),p.jsxs("td",{className:"px-6 py-3 text-right font-medium",children:["",P.cashSales]}),p.jsxs("td",{className:"px-6 py-3 text-right text-slate-500",children:["",P.expectedCash]}),p.jsx("td",{className:"px-6 py-3 text-right font-bold text-slate-700",children:P.actualCash!==void 0?`${P.actualCash}`:"-"}),p.jsx("td",{className:`px-6 py-3 text-right font-bold ${(P.variance||0)<0?"text-red-600":(P.variance||0)>0?"text-green-600":"text-slate-400"}`,children:P.variance!==void 0?`${P.variance}`:"-"}),p.jsx("td",{className:"px-6 py-3",children:p.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${P.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:P.status})})]},P.id))})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 font-bold text-slate-700",children:"System Audit Trail"}),p.jsx("div",{className:"overflow-x-auto max-h-60 overflow-y-auto",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"text-slate-500 bg-white border-b border-slate-100 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Time"}),p.jsx("th",{className:"px-6 py-3",children:"User"}),p.jsx("th",{className:"px-6 py-3",children:"Action"}),p.jsx("th",{className:"px-6 py-3",children:"Details"}),p.jsx("th",{className:"px-6 py-3",children:"Severity"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:r.map(P=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"px-6 py-3 text-slate-500",children:new Date(P.timestamp).toLocaleTimeString()}),p.jsx("td",{className:"px-6 py-3 font-medium",children:P.user}),p.jsx("td",{className:"px-6 py-3 font-mono text-xs text-indigo-600",children:P.action}),p.jsx("td",{className:"px-6 py-3 text-slate-600",children:P.details}),p.jsx("td",{className:"px-6 py-3",children:p.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${P.severity==="CRITICAL"?"bg-red-100 text-red-700":P.severity==="WARNING"?"bg-amber-100 text-amber-700":"bg-blue-50 text-blue-700"}`,children:P.severity})})]},P.id))})]})})]})]})]}),c==="FINANCE"&&p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Financial Overview"}),p.jsx("button",{onClick:()=>k(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 shadow-sm font-medium",children:"+ Record Expense"})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl border border-emerald-100 shadow-sm",children:[p.jsx("p",{className:"text-xs text-emerald-700 font-bold uppercase",children:"Net Revenue (Excl Tax)"}),p.jsxs("p",{className:"text-3xl font-bold text-emerald-900",children:["",(w.totalSales-w.totalTax).toLocaleString()]})]}),p.jsxs("div",{className:"bg-red-50 p-6 rounded-xl border border-red-100 shadow-sm",children:[p.jsx("p",{className:"text-xs text-red-700 font-bold uppercase",children:"Total Expenses"}),p.jsxs("p",{className:"text-3xl font-bold text-red-900",children:["",C.totalExpenses.toLocaleString()]})]}),p.jsxs("div",{className:"bg-indigo-50 p-6 rounded-xl border border-indigo-100 shadow-sm",children:[p.jsx("p",{className:"text-xs text-indigo-700 font-bold uppercase",children:"Net Profit"}),p.jsxs("p",{className:"text-3xl font-bold text-indigo-900",children:["",C.netProfit.toLocaleString()]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Tax / GST Report"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-slate-50 pb-2",children:[p.jsx("span",{className:"text-slate-600",children:"Total Taxable Sales"}),p.jsxs("span",{className:"font-bold",children:["",(w.totalSales-w.totalTax).toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between items-center border-b border-slate-50 pb-2",children:[p.jsx("span",{className:"text-slate-600",children:"Total Tax Collected (5%)"}),p.jsxs("span",{className:"font-bold text-red-600",children:["",w.totalTax.toLocaleString()]})]}),p.jsxs("div",{className:"mt-4 bg-slate-50 p-4 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tax Liability"}),p.jsxs("p",{className:"text-xl font-bold text-slate-800",children:["",w.totalTax.toLocaleString()]})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[p.jsx("h3",{className:"font-bold text-slate-700 mb-4",children:"Expense Ledger"}),p.jsx("div",{className:"overflow-y-auto flex-1 max-h-60",children:n.length===0?p.jsx("p",{className:"text-slate-400 italic text-center py-8",children:"No expenses recorded."}):p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"text-slate-500 border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2",children:"Date"}),p.jsx("th",{className:"py-2",children:"Description"}),p.jsx("th",{className:"py-2",children:"Category"}),p.jsx("th",{className:"py-2 text-right",children:"Amount"})]})}),p.jsx("tbody",{children:n.map(P=>p.jsxs("tr",{className:"border-b border-slate-50 last:border-0",children:[p.jsx("td",{className:"py-2 text-slate-500",children:new Date(P.timestamp).toLocaleDateString()}),p.jsx("td",{className:"py-2 font-medium",children:P.description}),p.jsx("td",{className:"py-2 text-xs uppercase text-slate-400",children:P.category}),p.jsxs("td",{className:"py-2 text-right font-bold text-red-600",children:["",P.amount]})]},P.id))})]})})]})]})]})]}),M&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-6",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Record New Expense"}),p.jsxs("form",{onSubmit:$,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Description"}),p.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 rounded-lg px-3 py-2 outline-none focus:border-indigo-500",placeholder:"e.g. Electricity Bill",value:K.description,onChange:P=>te({...K,description:P.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Category"}),p.jsxs("select",{className:"w-full border border-slate-300 rounded-lg px-3 py-2 outline-none focus:border-indigo-500 bg-white",value:K.category,onChange:P=>te({...K,category:P.target.value}),children:[p.jsx("option",{children:"Utilities"}),p.jsx("option",{children:"Rent"}),p.jsx("option",{children:"Inventory Purchase"}),p.jsx("option",{children:"Salaries"}),p.jsx("option",{children:"Maintenance"}),p.jsx("option",{children:"Marketing"}),p.jsx("option",{children:"Other"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Amount ()"}),p.jsx("input",{type:"number",required:!0,min:"0",className:"w-full border border-slate-300 rounded-lg px-3 py-2 outline-none focus:border-indigo-500",placeholder:"0.00",value:K.amount,onChange:P=>te({...K,amount:P.target.value})})]}),p.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[p.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg font-medium shadow-sm",children:"Save Expense"})]})]})]})})]})},sJ=()=>{const{loyaltySettings:e,updateLoyaltySettings:t,staffList:n,addStaff:r,removeStaff:a,currentUser:s}=or(),[o,c]=_.useState(e),[f,h]=_.useState(!1),[m,v]=_.useState({id:"",name:"",pin:"",role:"CASHIER"}),[y,x]=_.useState(!1),[w,S]=_.useState("");_.useEffect(()=>{c(e)},[e]);const E=A=>{A.preventDefault(),t({...o,earningRate:Number(o.earningRate),redemptionValue:Number(o.redemptionValue),minPointsToRedeem:Number(o.minPointsToRedeem),minOrderValueToRedeem:Number(o.minOrderValueToRedeem),expiryMonths:Number(o.expiryMonths)}),h(!0),setTimeout(()=>h(!1),3e3)},C=A=>{if(A.preventDefault(),!m.id||!m.name||!m.pin){alert("Please fill all staff fields");return}if(n.some(T=>T.id===m.id)){alert("Staff ID already exists");return}S(""),x(!0)},j=()=>{if(w!==(s==null?void 0:s.pin)){alert("Incorrect Admin PIN. Staff creation failed.");return}const A={id:m.id,name:m.name,pin:m.pin,role:m.role};r(A),x(!1),v({id:"",name:"",pin:"",role:"CASHIER"}),alert("Staff created successfully!")};return p.jsxs("div",{className:"p-8 h-full bg-slate-100 overflow-y-auto",children:[p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Settings & Configuration"}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Staff Management"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Create login credentials for cashiers, chefs, and managers"})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-8 p-4 bg-indigo-50/50 border border-indigo-100 rounded-xl",children:[p.jsx("h4",{className:"font-bold text-indigo-900 mb-4 text-sm uppercase tracking-wide",children:"Create New Staff"}),p.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Staff ID"}),p.jsx("input",{type:"text",placeholder:"e.g. ST001",className:"w-full px-3 py-2 border border-slate-300 rounded-lg outline-none focus:border-indigo-500 bg-white",value:m.id,onChange:A=>v({...m,id:A.target.value}),required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Full Name"}),p.jsx("input",{type:"text",placeholder:"Employee Name",className:"w-full px-3 py-2 border border-slate-300 rounded-lg outline-none focus:border-indigo-500 bg-white",value:m.name,onChange:A=>v({...m,name:A.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Login PIN"}),p.jsx("input",{type:"text",placeholder:"4-6 Digits",className:"w-full px-3 py-2 border border-slate-300 rounded-lg outline-none focus:border-indigo-500 bg-white",value:m.pin,onChange:A=>v({...m,pin:A.target.value}),required:!0,maxLength:6})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Role"}),p.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg outline-none focus:border-indigo-500 bg-white",value:m.role,onChange:A=>v({...m,role:A.target.value}),children:[p.jsx("option",{value:"CASHIER",children:"Cashier"}),p.jsx("option",{value:"CHEF",children:"Chef"}),p.jsx("option",{value:"MANAGER",children:"Manager"}),p.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),p.jsx("div",{className:"md:col-span-5 flex justify-end mt-2",children:p.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700 transition-colors shadow-sm",children:"+ Create Staff"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-700 mb-3 text-sm",children:"Existing Users"}),p.jsx("div",{className:"overflow-hidden border border-slate-200 rounded-lg",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"ID"}),p.jsx("th",{className:"px-4 py-2",children:"Name"}),p.jsx("th",{className:"px-4 py-2",children:"Role"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(A=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"px-4 py-2 font-mono text-slate-600",children:A.id}),p.jsxs("td",{className:"px-4 py-2 font-medium text-slate-800",children:[A.name," ",A.id===(s==null?void 0:s.id)&&"(You)"]}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${A.role==="ADMIN"?"bg-purple-100 text-purple-700":A.role==="MANAGER"?"bg-blue-100 text-blue-700":A.role==="CHEF"?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"}`,children:A.role})}),p.jsx("td",{className:"px-4 py-2 text-right",children:A.id!=="admin123"&&A.id!==(s==null?void 0:s.id)&&p.jsx("button",{onClick:()=>{confirm("Delete this user?")&&a(A.id)},className:"text-red-500 hover:text-red-700 text-xs font-bold hover:underline",children:"Remove"})})]},A.id))})]})})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Loyalty Program Rules"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Configure how customers earn and redeem points"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-sm font-bold text-slate-700",children:o.enabled?"Enabled":"Disabled"}),p.jsx("button",{type:"button",onClick:()=>c(A=>({...A,enabled:!A.enabled})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${o.enabled?"bg-indigo-600":"bg-slate-200"}`,children:p.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.enabled?"translate-x-6":"translate-x-1"}`})})]})]}),p.jsx("div",{className:"p-8",children:p.jsxs("form",{onSubmit:E,className:"space-y-6",children:[p.jsx("h4",{className:"font-bold text-slate-600 border-b pb-2",children:"Earning Rules"}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Earning Rate (Spend)"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),p.jsx("input",{type:"number",min:"1",className:"w-full pl-8 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:o.earningRate,onChange:A=>c({...o,earningRate:Number(A.target.value)}),disabled:!o.enabled})]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Spend ",o.earningRate," to earn 1 Point"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Expiry Period"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",min:"1",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:o.expiryMonths,onChange:A=>c({...o,expiryMonths:Number(A.target.value)}),disabled:!o.enabled}),p.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 text-sm font-medium",children:"Months"})]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Points expire after ",o.expiryMonths," months from earning"]})]})]}),p.jsx("h4",{className:"font-bold text-slate-600 border-b pb-2 pt-4",children:"Redemption Rules"}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Redemption Value (Per Point)"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),p.jsx("input",{type:"number",min:"0.1",step:"0.1",className:"w-full pl-8 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:o.redemptionValue,onChange:A=>c({...o,redemptionValue:Number(A.target.value)}),disabled:!o.enabled})]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["1 Point = ",o.redemptionValue]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Min Points to Redeem"}),p.jsx("input",{type:"number",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:o.minPointsToRedeem,onChange:A=>c({...o,minPointsToRedeem:Number(A.target.value)}),disabled:!o.enabled}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Customer needs ",o.minPointsToRedeem," pts to start redeeming"]})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Min Bill Amount to Redeem"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),p.jsx("input",{type:"number",min:"0",className:"w-full pl-8 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-slate-800",value:o.minOrderValueToRedeem||0,onChange:A=>c({...o,minOrderValueToRedeem:Number(A.target.value)}),disabled:!o.enabled})]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Customer can only redeem points if total bill is above ",o.minOrderValueToRedeem||0]})]})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsx("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-bold shadow-md transition-all active:scale-95 disabled:opacity-50",children:f?"Settings Saved!":"Save Configuration"})})]})})]})]}),y&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm text-center",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("span",{className:"text-4xl",children:""}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-2",children:"Admin Authorization"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Please enter your Admin PIN to create new staff."})]}),p.jsx("input",{type:"password",className:"w-full px-4 py-3 text-center text-2xl font-bold tracking-widest border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none mb-4",placeholder:"",autoFocus:!0,value:w,onChange:A=>S(A.target.value)}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg",children:"Cancel"}),p.jsx("button",{onClick:j,className:"flex-1 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700",children:"Confirm"})]})]})})]})},z0=[{id:"P1",name:"Classic Chicken Burger",price:189,category:"Food",stock:50,taxRate:5,isVeg:!1,variants:[{id:"v1",name:"Size",options:[{id:"o1",name:"Regular",priceModifier:0},{id:"o2",name:"Large",priceModifier:60}]},{id:"v2",name:"Add-ons",options:[{id:"a1",name:"Cheese Slice",priceModifier:20},{id:"a2",name:"Extra Patty",priceModifier:80}]}]},{id:"P2",name:"Veggie Supreme Pizza",price:349,category:"Food",stock:20,taxRate:5,isVeg:!0,variants:[{id:"v_crust",name:"Crust",options:[{id:"c1",name:"Pan",priceModifier:0},{id:"c2",name:"Thin Crust",priceModifier:30},{id:"c3",name:"Cheese Burst",priceModifier:90}]}]},{id:"P3",name:"Peri Peri Fries",price:129,category:"Food",stock:100,taxRate:5,isVeg:!0},{id:"P4",name:"Cappuccino",price:149,category:"Beverage",stock:200,taxRate:18,isVeg:!0},{id:"P5",name:"Iced Lemon Tea",price:119,category:"Beverage",stock:150,taxRate:18,isVeg:!0},{id:"P6",name:"Chocolate Brownie",price:169,category:"Dessert",stock:30,taxRate:5,isVeg:!1},{id:"P7",name:"Mineral Water (500ml)",price:20,category:"Beverage",stock:500,taxRate:18,isVeg:!0},{id:"P8",name:"Paneer Tikka Wrap",price:229,category:"Food",stock:40,taxRate:5,isVeg:!0}],MT=[{id:"T1",name:"Table 1",floor:"Ground Floor"},{id:"T2",name:"Table 2",floor:"Ground Floor"},{id:"T3",name:"Table 3",floor:"Ground Floor"},{id:"T4",name:"Table 4",floor:"Ground Floor"},{id:"T5",name:"Family 1",floor:"First Floor"},{id:"T6",name:"Family 2",floor:"First Floor"},{id:"DEL-01",name:"Delivery 1",floor:"Delivery"},{id:"TK-01",name:"Takeaway",floor:"Counter"}],oJ=()=>{};var RT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(e,t){if(!e)throw Jo(t)},Jo=function(e){return new Error("Firebase Database ("+XI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},uJ=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[n++],o=e[n++],c=e[n++],f=((a&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return t.join("")},w1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const s=e[a],o=a+1<e.length,c=o?e[a+1]:0,f=a+2<e.length,h=f?e[a+2]:0,m=s>>2,v=(s&3)<<4|c>>4;let y=(c&15)<<2|h>>6,x=h&63;f||(x=64,o||(y=64)),r.push(n[m],n[v],n[y],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(QI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uJ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const s=n[e.charAt(a++)],c=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,s==null||c==null||h==null||v==null)throw new cJ;const y=s<<2|c>>4;if(r.push(y),h!==64){const x=c<<4&240|h>>2;if(r.push(x),v!==64){const w=h<<6&192|v;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZI=function(e){const t=QI(e);return w1.encodeByteArray(t,!0)},cm=function(e){return ZI(e).replace(/\./g,"")},Zb=function(e){try{return w1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(e){return JI(void 0,e)}function JI(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!fJ(n)||(e[n]=JI(e[n],t[n]));return e}function fJ(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ=()=>hJ().__FIREBASE_DEFAULTS__,pJ=()=>{if(typeof process>"u"||typeof RT>"u")return;const e=RT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vJ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zb(e[1]);return t&&JSON.parse(t)},ek=()=>{try{return oJ()||mJ()||pJ()||vJ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gJ=e=>{var t,n;return(n=(t=ek())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},yJ=e=>{const t=gJ(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tk=()=>{var e;return(e=ek())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bJ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[cm(JSON.stringify(n)),cm(JSON.stringify(o)),""].join(".")}const fc={};function _J(){const e={prod:[],emulator:[]};for(const t of Object.keys(fc))fc[t]?e.emulator.push(t):e.prod.push(t);return e}function wJ(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let IT=!1;function SJ(e,t){if(typeof window>"u"||typeof document>"u"||!S1(window.location.host)||fc[e]===t||fc[e]||IT)return;fc[e]=t;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=_J().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{IT=!0,o()},y}function m(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=wJ(r),x=n("text"),w=document.getElementById(x)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),j=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;c(A),m(E,S);const T=h();f(j,C),A.append(j,w,E,T),document.body.appendChild(A)}s?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(EJ())}function NJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CJ(){return XI.NODE_ADMIN===!0}function AJ(){try{return typeof indexedDB=="object"}catch{return!1}}function OJ(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="FirebaseError";class xd extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=jJ,Object.setPrototypeOf(this,xd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rk.prototype.create)}}class rk{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,s=this.errors[t],o=s?TJ(s,r):"Error",c=`${this.serviceName}: ${o} (${a}).`;return new xd(a,c,r)}}function TJ(e,t){return e.replace(DJ,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const DJ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(e){return JSON.parse(e)}function xn(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(e){let t={},n={},r={},a="";try{const s=e.split(".");t=Lc(Zb(s[0])||""),n=Lc(Zb(s[1])||""),a=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:a}},PJ=function(e){const t=ik(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MJ=function(e){const t=ik(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ds(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function kT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dm(e,t,n){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}function fm(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const s=e[a],o=t[a];if(LT(s)&&LT(o)){if(!fm(s,o))return!1}else if(s!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function LT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)r[v]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let v=16;v<80;v++){const y=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(y<<1|y>>>31)&4294967295}let a=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],f=this.chain_[4],h,m;for(let v=0;v<80;v++){v<40?v<20?(h=c^s&(o^c),m=1518500249):(h=s^o^c,m=1859775393):v<60?(h=s&o|c&(s|o),m=2400959708):(h=s^o^c,m=3395469782);const y=(a<<5|a>>>27)+h+f+m+r[v]&4294967295;f=c,c=o,o=(s<<30|s>>>2)&4294967295,s=a,a=y}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let a=0;const s=this.buf_;let o=this.inbuf_;for(;a<n;){if(o===0)for(;a<=r;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<n;)if(s[o]=t.charCodeAt(a),++o,++a,o===this.blockSize){this.compress_(s),o=0;break}}else for(;a<n;)if(s[o]=t[a],++o,++a,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let a=0;a<5;a++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[a]>>s&255,++r;return t}}function _p(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);if(a>=55296&&a<=56319){const s=a-55296;r++,ce(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;a=65536+(s<<10)+o}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},wp=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){return e&&e._delegate?e._delegate:e}class zc{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new eu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BJ(t))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(t=Gl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gl){return this.instances.has(t)}getOptions(t=Gl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(a)}return a}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&t(s,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zJ(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gl){return this.component?this.component.multipleInstances?t:Gl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zJ(e){return e===Gl?void 0:e}function BJ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new LJ(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const $J={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},HJ=Ot.INFO,qJ={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},FJ=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=qJ[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ak{constructor(t){this.name=t,this._logLevel=HJ,this._logHandler=FJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$J[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const KJ=(e,t)=>t.some(n=>e instanceof n);let zT,BT;function VJ(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GJ(){return BT||(BT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lk=new WeakMap,Jb=new WeakMap,sk=new WeakMap,B0=new WeakMap,E1=new WeakMap;function YJ(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ol(e.result)),a()},o=()=>{r(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&lk.set(n,e)}).catch(()=>{}),E1.set(t,e),t}function WJ(e){if(Jb.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),a()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Jb.set(e,t)}let ex={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Jb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sk.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ol(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XJ(e){ex=e(ex)}function QJ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(U0(this),t,...n);return sk.set(r,t.sort?t.sort():[t]),ol(r)}:GJ().includes(e)?function(...t){return e.apply(U0(this),t),ol(lk.get(this))}:function(...t){return ol(e.apply(U0(this),t))}}function ZJ(e){return typeof e=="function"?QJ(e):(e instanceof IDBTransaction&&WJ(e),KJ(e,VJ())?new Proxy(e,ex):e)}function ol(e){if(e instanceof IDBRequest)return YJ(e);if(B0.has(e))return B0.get(e);const t=ZJ(e);return t!==e&&(B0.set(e,t),E1.set(t,e)),t}const U0=e=>E1.get(e);function JJ(e,t,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const o=indexedDB.open(e,t),c=ol(o);return r&&o.addEventListener("upgradeneeded",f=>{r(ol(o.result),f.oldVersion,f.newVersion,ol(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const eee=["get","getKey","getAll","getAllKeys","count"],tee=["put","add","delete","clear"],$0=new Map;function UT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($0.get(t))return $0.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=tee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||eee.includes(n)))return;const s=async function(o,...c){const f=this.transaction(o,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),a&&f.done]))[0]};return $0.set(t,s),s}XJ(e=>({...e,get:(t,n,r)=>UT(t,n)||e.get(t,n,r),has:(t,n)=>!!UT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ree(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ree(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const tx="@firebase/app",$T="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new ak("@firebase/app"),iee="@firebase/app-compat",aee="@firebase/analytics-compat",lee="@firebase/analytics",see="@firebase/app-check-compat",oee="@firebase/app-check",uee="@firebase/auth",cee="@firebase/auth-compat",dee="@firebase/database",fee="@firebase/data-connect",hee="@firebase/database-compat",mee="@firebase/functions",pee="@firebase/functions-compat",vee="@firebase/installations",gee="@firebase/installations-compat",yee="@firebase/messaging",bee="@firebase/messaging-compat",xee="@firebase/performance",_ee="@firebase/performance-compat",wee="@firebase/remote-config",See="@firebase/remote-config-compat",Eee="@firebase/storage",Nee="@firebase/storage-compat",Cee="@firebase/firestore",Aee="@firebase/ai",Oee="@firebase/firestore-compat",jee="firebase",Tee="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="[DEFAULT]",Dee={[tx]:"fire-core",[iee]:"fire-core-compat",[lee]:"fire-analytics",[aee]:"fire-analytics-compat",[oee]:"fire-app-check",[see]:"fire-app-check-compat",[uee]:"fire-auth",[cee]:"fire-auth-compat",[dee]:"fire-rtdb",[fee]:"fire-data-connect",[hee]:"fire-rtdb-compat",[mee]:"fire-fn",[pee]:"fire-fn-compat",[vee]:"fire-iid",[gee]:"fire-iid-compat",[yee]:"fire-fcm",[bee]:"fire-fcm-compat",[xee]:"fire-perf",[_ee]:"fire-perf-compat",[wee]:"fire-rc",[See]:"fire-rc-compat",[Eee]:"fire-gcs",[Nee]:"fire-gcs-compat",[Cee]:"fire-fst",[Oee]:"fire-fst-compat",[Aee]:"fire-vertex","fire-js":"fire-js",[jee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map,Pee=new Map,rx=new Map;function HT(e,t){try{e.container.addComponent(t)}catch(n){xa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mm(e){const t=e.name;if(rx.has(t))return xa.debug(`There were multiple attempts to register component ${t}.`),!1;rx.set(t,e);for(const n of hm.values())HT(n,e);for(const n of Pee.values())HT(n,e);return!0}function Mee(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ree(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new rk("app","Firebase",Iee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee=Tee;function ok(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:nx,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw ul.create("bad-app-name",{appName:String(a)});if(n||(n=tk()),!n)throw ul.create("no-options");const s=hm.get(a);if(s){if(fm(n,s.options)&&fm(r,s.config))return s;throw ul.create("duplicate-app",{appName:a})}const o=new UJ(a);for(const f of rx.values())o.addComponent(f);const c=new kee(n,r,o);return hm.set(a,c),c}function zee(e=nx){const t=hm.get(e);if(!t&&e===nx&&tk())return ok();if(!t)throw ul.create("no-app",{appName:e});return t}function xo(e,t,n){let r=Dee[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${r}" with version "${t}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xa.warn(o.join(" "));return}mm(new zc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee="firebase-heartbeat-database",Uee=1,Bc="firebase-heartbeat-store";let H0=null;function uk(){return H0||(H0=JJ(Bee,Uee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(e=>{throw ul.create("idb-open",{originalErrorMessage:e.message})})),H0}async function $ee(e){try{const n=(await uk()).transaction(Bc),r=await n.objectStore(Bc).get(ck(e));return await n.done,r}catch(t){if(t instanceof xd)xa.warn(t.message);else{const n=ul.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xa.warn(n.message)}}}async function qT(e,t){try{const r=(await uk()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(t,ck(e)),await r.done}catch(n){if(n instanceof xd)xa.warn(n.message);else{const r=ul.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xa.warn(r.message)}}}function ck(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee=1024,qee=30;class Fee{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>qee){const o=Gee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xa.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FT(),{heartbeatsToSend:r,unsentEntries:a}=Kee(this._heartbeatsCache.heartbeats),s=cm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xa.warn(n),""}}}function FT(){return new Date().toISOString().substring(0,10)}function Kee(e,t=Hee){const n=[];let r=e.slice();for(const a of e){const s=n.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),KT(n)>t){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),KT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vee{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AJ()?OJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $ee(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return qT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return qT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function KT(e){return cm(JSON.stringify({version:2,heartbeats:e})).length}function Gee(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(e){mm(new zc("platform-logger",t=>new nee(t),"PRIVATE")),mm(new zc("heartbeat",t=>new Fee(t),"PRIVATE")),xo(tx,$T,e),xo(tx,$T,"esm2020"),xo("fire-js","")}Yee("");var Wee="firebase",Xee="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xo(Wee,Xee,"app");var VT={};const GT="@firebase/database",YT="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dk="";function Qee(e){dk=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),xn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Lc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return _i(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Zee(t)}}catch{}return new Jee},Zl=fk("localStorage"),ete=fk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new ak("@firebase/database"),hk=(function(){let e=1;return function(){return e++}})(),mk=function(e){const t=kJ(e),n=new IJ;n.update(t);const r=n.digest();return w1.encodeByteArray(r)},_d=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=_d.apply(null,r):typeof r=="object"?t+=xn(r):t+=r,t+=" "}return t};let hc=null,WT=!0;const tte=function(e,t){ce(!0,"Can't turn on custom loggers persistently."),_o.logLevel=Ot.VERBOSE,hc=_o.log.bind(_o)},Kn=function(...e){if(WT===!0&&(WT=!1,hc===null&&ete.get("logging_enabled")===!0&&tte()),hc){const t=_d.apply(null,e);hc(t)}},wd=function(e){return function(...t){Kn(e,...t)}},ix=function(...e){const t="FIREBASE INTERNAL ERROR: "+_d(...e);_o.error(t)},_a=function(...e){const t=`FIREBASE FATAL ERROR: ${_d(...e)}`;throw _o.error(t),new Error(t)},ar=function(...e){const t="FIREBASE WARNING: "+_d(...e);_o.warn(t)},nte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},N1=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},rte=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Do="[MIN_NAME]",fs="[MAX_NAME]",ys=function(e,t){if(e===t)return 0;if(e===Do||t===fs)return-1;if(t===Do||e===fs)return 1;{const n=XT(e),r=XT(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},ite=function(e,t){return e===t?0:e<t?-1:1},ic=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xn(t))},C1=function(e){if(typeof e!="object"||e===null)return xn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=xn(t[r]),n+=":",n+=C1(e[t[r]]);return n+="}",n},pk=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let a=0;a<n;a+=t)a+t>n?r.push(e.substring(a,n)):r.push(e.substring(a,a+t));return r};function Vn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const vk=function(e){ce(!N1(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let a,s,o,c,f;e===0?(s=0,o=0,a=1/e===-1/0?1:0):(a=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,o=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const h=[];for(f=n;f;f-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(f=t;f;f-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(a?1:0),h.reverse();const m=h.join("");let v="";for(f=0;f<64;f+=8){let y=parseInt(m.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},ate=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lte=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ste(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const ote=new RegExp("^-?(0*)\\d{1,10}$"),ute=-2147483648,cte=2147483647,XT=function(e){if(ote.test(e)){const t=Number(e);if(t>=ute&&t<=cte)return t}return null},tu=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ar("Exception was thrown by user callback.",n),t},Math.floor(0))}},dte=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mc=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Ree(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ar(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Kn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ar(t)}}class vh{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}vh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="5",gk="v",yk="s",bk="r",xk="f",_k=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wk="ls",Sk="p",ax="ac",Ek="websocket",Nk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,n,r,a,s=!1,o="",c=!1,f=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zl.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function mte(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Ak(e,t,n){ce(typeof t=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let r;if(t===Ek)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Nk)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);mte(e)&&(n.ns=e.namespace);const a=[];return Vn(n,(s,o)=>{a.push(s+"="+o)}),r+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(){this.counters_={}}incrementCounter(t,n=1){_i(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return dJ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={},F0={};function O1(e){const t=e.toString();return q0[t]||(q0[t]=new pte),q0[t]}function vte(e,t){const n=e.toString();return F0[n]||(F0[n]=t()),F0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&tu(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="start",yte="close",bte="pLPCommand",xte="pRTLPCB",Ok="id",jk="pw",Tk="ser",_te="cb",wte="seg",Ste="ts",Ete="d",Nte="dframe",Dk=1870,Pk=30,Cte=Dk-Pk,Ate=25e3,Ote=3e4;class vo{constructor(t,n,r,a,s,o,c){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=a,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wd(t),this.stats_=O1(n),this.urlFn=f=>(this.appCheckToken&&(f[ax]=this.appCheckToken),Ak(n,Nk,f))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gte(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ote)),rte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j1((...s)=>{const[o,c,f,h,m]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===QT)this.id=c,this.password=f;else if(o===yte)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[QT]="t",r[Tk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_te]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gk]=A1,this.transportSessionId&&(r[yk]=this.transportSessionId),this.lastSessionId&&(r[wk]=this.lastSessionId),this.applicationId&&(r[Sk]=this.applicationId),this.appCheckToken&&(r[ax]=this.appCheckToken),typeof location<"u"&&location.hostname&&_k.test(location.hostname)&&(r[bk]=xk);const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vo.forceAllow_=!0}static forceDisallow(){vo.forceDisallow_=!0}static isAvailable(){return vo.forceAllow_?!0:!vo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ate()&&!lte()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=xn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZI(n),a=pk(r,Cte);for(let s=0;s<a.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Nte]="t",r[Ok]=t,r[jk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=xn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class j1{constructor(t,n,r,a){this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hk(),window[bte+this.uniqueCallbackIdentifier]=t,window[xte+this.uniqueCallbackIdentifier]=n,this.myIFrame=j1.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Kn("frame writing exception"),c.stack&&Kn(c.stack),Kn(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Kn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Ok]=this.myID,t[jk]=this.myPW,t[Tk]=this.currentSerial;let n=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pk+r.length<=Dk;){const o=this.pendingSegs.shift();r=r+"&"+wte+a+"="+o.seg+"&"+Ste+a+"="+o.ts+"&"+Ete+a+"="+o.d,a++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(r,Math.floor(Ate)),s=()=>{clearTimeout(a),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||a==="loaded"||a==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Kn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte=16384,Tte=45e3;let pm=null;typeof MozWebSocket<"u"?pm=MozWebSocket:typeof WebSocket<"u"&&(pm=WebSocket);class mi{constructor(t,n,r,a,s,o,c){this.connId=t,this.applicationId=r,this.appCheckToken=a,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wd(this.connId),this.stats_=O1(n),this.connURL=mi.connectionURL_(n,o,c,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,a,s){const o={};return o[gk]=A1,typeof location<"u"&&location.hostname&&_k.test(location.hostname)&&(o[bk]=xk),n&&(o[yk]=n),r&&(o[wk]=r),a&&(o[ax]=a),s&&(o[Sk]=s),Ak(t,Ek,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zl.set("previous_websocket_failure",!0);try{let r;CJ(),this.mySock=new pm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){mi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&pm!==null&&!mi.forceDisallow_}static previouslyFailed(){return Zl.isInMemoryStorage||Zl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Lc(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ce(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=xn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pk(n,jte);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tte))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mi.responsesRequiredToBeHealthy=2;mi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{static get ALL_TRANSPORTS(){return[vo,mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=mi&&mi.isAvailable();let r=n&&!mi.previouslyFailed();if(t.webSocketOnly&&(n||ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mi];else{const a=this.transports_=[];for(const s of Uc.ALL_TRANSPORTS)s&&s.isAvailable()&&a.push(s);Uc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=6e4,Pte=5e3,Mte=10*1024,Rte=100*1024,K0="t",ZT="d",Ite="s",JT="r",kte="e",e2="o",t2="a",n2="n",r2="p",Lte="h";class zte{constructor(t,n,r,a,s,o,c,f,h,m){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=f,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wd("c:"+this.id+":"),this.transportManager_=new Uc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=mc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rte?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Mte?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(K0 in t){const n=t[K0];n===t2?this.upgradeIfSecondaryHealthy_():n===JT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===e2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ic("t",t),r=ic("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:r2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:t2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:n2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ic("t",t),r=ic("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ic(K0,t);if(ZT in t){const r=t[ZT];if(n===Lte){const a={...r};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===n2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ite?this.onConnectionShutdown_(r):n===JT?this.onReset_(r):n===kte?ix("Server Error: "+r):n===e2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ix("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),A1!==r&&ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),mc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dte))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Pte))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:r2,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{put(t,n,r,a){}merge(t,n,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.allowedEvents_=t,this.listeners_={},ce(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const a=this.getInitialEvent(t);a&&n.apply(r,a)}off(t,n,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let s=0;s<a.length;s++)if(a[s].callback===n&&(!r||r===a[s].context)){a.splice(s,1);return}}validateEventType_(t){ce(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends Rk{static getInstance(){return new vm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ce(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=32,a2=768;class yt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function et(){return new yt("")}function $e(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function gl(e){return e.pieces_.length-e.pieceNum_}function jt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new yt(e.pieces_,t)}function T1(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Bte(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function $c(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Ik(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new yt(t,0)}function en(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof yt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&n.push(r[a])}return new yt(n,0)}function Ke(e){return e.pieceNum_>=e.pieces_.length}function ir(e,t){const n=$e(e),r=$e(t);if(n===null)return t;if(n===r)return ir(jt(e),jt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ute(e,t){const n=$c(e,0),r=$c(t,0);for(let a=0;a<n.length&&a<r.length;a++){const s=ys(n[a],r[a]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function D1(e,t){if(gl(e)!==gl(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ri(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(gl(e)>gl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class $te{constructor(t,n){this.errorPrefix_=n,this.parts_=$c(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wp(this.parts_[r]);kk(this)}}function Hte(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=wp(t),kk(e)}function qte(e){const t=e.parts_.pop();e.byteLength_-=wp(t),e.parts_.length>0&&(e.byteLength_-=1)}function kk(e){if(e.byteLength_>a2)throw new Error(e.errorPrefix_+"has a key path longer than "+a2+" bytes ("+e.byteLength_+").");if(e.parts_.length>i2)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+i2+") or object contains a cycle "+Yl(e))}function Yl(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Rk{static getInstance(){return new P1}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return ce(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=1e3,Fte=300*1e3,l2=30*1e3,Kte=1.3,Vte=3e4,Gte="server_kill",s2=3;class da extends Mk{constructor(t,n,r,a,s,o,c,f){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=da.nextPersistentConnectionId_++,this.log_=wd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ac,this.maxReconnectDelay_=Fte,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");P1.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const a=++this.requestNumber_,s={r:a,a:t,b:n};this.log_(xn(s)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[a]=r)}get(t){this.initConnection_();const n=new eu,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,a){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:a,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+r+" for "+a);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,c=>{const f=c.d,h=c.s;da.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(a))===t&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,a),t.onComplete&&t.onComplete(h,f))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&_i(t,"w")){const r=ds(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||MJ(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=l2)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=PJ(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,a=>{const s=a.s,o=a.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,t._queryObject,n)}sendUnlisten_(t,n,r,a){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";a&&(s.q=r,s.t=a),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,a){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{a&&setTimeout(()=>{a(o.s,o.d)},Math.floor(0))})}put(t,n,r,a){this.putInternal("p",t,n,r,a)}merge(t,n,r,a){this.putInternal("m",t,n,r,a)}putInternal(t,n,r,a,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:a}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+xn(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):ix("Unrecognized action received from server: "+xn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Vte&&(this.reconnectDelay_=ac),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Kte)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+da.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const f=function(){c?c.close():(o=!0,r())},h=function(v){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:f,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);o?Kn("getToken() completed but was canceled"):(Kn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new zte(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,x=>{ar(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(Gte)},s))}catch(v){this.log_("Failed to get token: "+v),o||(this.repoInfo_.nodeAdmin&&ar(v),f())}}}interrupt(t){Kn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Kn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],kT(this.interruptReasons_)&&(this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>C1(s)).join("$"):r="default";const a=this.removeListen_(t,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,n){const r=new yt(t).toString();let a;if(this.listens.has(r)){const s=this.listens.get(r);a=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(t,n){Kn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=s2&&(this.reconnectDelay_=l2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Kn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=s2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+dk.replace(/\./g,"-")]=1,nk()?t["framework.cordova"]=1:NJ()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vm.getInstance().currentlyOnline();return kT(this.interruptReasons_)&&t}}da.nextPersistentConnectionId_=0;da.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new He(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new He(Do,t),a=new He(Do,n);return this.compare(r,a)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;class Lk extends Sp{static get __EMPTY_NODE(){return sh}static set __EMPTY_NODE(t){sh=t}compare(t,n){return ys(t.name,n.name)}isDefinedOn(t){throw Jo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return He.MIN}maxPost(){return new He(fs,sh)}makePost(t,n){return ce(typeof t=="string","KeyIndex indexValue must always be a string."),new He(t,sh)}toString(){return".key"}}const wo=new Lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n,r,a,s=null){this.isReverse_=a,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,a&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Pn{constructor(t,n,r,a,s){this.key=t,this.value=n,this.color=r??Pn.RED,this.left=a??br.EMPTY_NODE,this.right=s??br.EMPTY_NODE}copy(t,n,r,a,s){return new Pn(t??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const s=r(t,a.key);return s<0?a=a.copy(null,null,null,a.left.insert(t,n,r),null):s===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return br.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,a;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return br.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Pn.RED=!0;Pn.BLACK=!1;class Yte{copy(t,n,r,a,s){return this}insert(t,n,r){return new Pn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class br{constructor(t,n=br.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new br(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Pn.BLACK,null,null))}remove(t){return new br(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Pn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,a=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(a=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new oh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new oh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new oh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new oh(this.root_,null,this.comparator_,!0,t)}}br.EMPTY_NODE=new Yte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(e,t){return ys(e.name,t.name)}function M1(e,t){return ys(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx;function Xte(e){lx=e}const zk=function(e){return typeof e=="number"?"number:"+vk(e):"string:"+e},Bk=function(e){if(e.isLeafNode()){const t=e.val();ce(typeof t=="string"||typeof t=="number"||typeof t=="object"&&_i(t,".sv"),"Priority must be a string or number.")}else ce(e===lx||e.isEmpty(),"priority of unexpected type.");ce(e===lx||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o2;class Tn{static set __childrenNodeConstructor(t){o2=t}static get __childrenNodeConstructor(){return o2}constructor(t,n=Tn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bk(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Tn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Tn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ke(t)?this:$e(t)===".priority"?this.priorityNode_:Tn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Tn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=$e(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||gl(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tn.__childrenNodeConstructor.EMPTY_NODE.updateChild(jt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+zk(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=vk(this.value_):t+=this.value_,this.lazyHash_=mk(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Tn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Tn.__childrenNodeConstructor?-1:(ce(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,a=Tn.VALUE_TYPE_ORDER.indexOf(n),s=Tn.VALUE_TYPE_ORDER.indexOf(r);return ce(a>=0,"Unknown leaf type: "+n),ce(s>=0,"Unknown leaf type: "+r),a===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uk,$k;function Qte(e){Uk=e}function Zte(e){$k=e}class Jte extends Sp{compare(t,n){const r=t.node.getPriority(),a=n.node.getPriority(),s=r.compareTo(a);return s===0?ys(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return He.MIN}maxPost(){return new He(fs,new Tn("[PRIORITY-POST]",$k))}makePost(t,n){const r=Uk(t);return new He(n,new Tn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Kt=new Jte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=Math.log(2);class tne{constructor(t){const n=s=>parseInt(Math.log(s)/ene,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const a=r(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const gm=function(e,t,n,r){e.sort(t);const a=function(f,h){const m=h-f;let v,y;if(m===0)return null;if(m===1)return v=e[f],y=n?n(v):v,new Pn(y,v.node,Pn.BLACK,null,null);{const x=parseInt(m/2,10)+f,w=a(f,x),S=a(x+1,h);return v=e[x],y=n?n(v):v,new Pn(y,v.node,Pn.BLACK,w,S)}},s=function(f){let h=null,m=null,v=e.length;const y=function(w,S){const E=v-w,C=v;v-=w;const j=a(E+1,C),A=e[E],T=n?n(A):A;x(new Pn(T,A.node,S,null,j))},x=function(w){h?(h.left=w,h=w):(m=w,h=w)};for(let w=0;w<f.count;++w){const S=f.nextBitIsOne(),E=Math.pow(2,f.count-(w+1));S?y(E,Pn.BLACK):(y(E,Pn.BLACK),y(E,Pn.RED))}return m},o=new tne(e.length),c=s(o);return new br(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0;const so={};class sa{static get Default(){return ce(so&&Kt,"ChildrenNode.ts has not been loaded"),V0=V0||new sa({".priority":so},{".priority":Kt}),V0}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=ds(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof br?n:null}hasIndex(t){return _i(this.indexSet_,t.toString())}addIndex(t,n){ce(t!==wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const s=n.getIterator(He.Wrap);let o=s.getNext();for(;o;)a=a||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;a?c=gm(r,t.getCompare()):c=so;const f=t.toString(),h={...this.indexSet_};h[f]=t;const m={...this.indexes_};return m[f]=c,new sa(m,h)}addToIndexes(t,n){const r=dm(this.indexes_,(a,s)=>{const o=ds(this.indexSet_,s);if(ce(o,"Missing index implementation for "+s),a===so)if(o.isDefinedOn(t.node)){const c=[],f=n.getIterator(He.Wrap);let h=f.getNext();for(;h;)h.name!==t.name&&c.push(h),h=f.getNext();return c.push(t),gm(c,o.getCompare())}else return so;else{const c=n.get(t.name);let f=a;return c&&(f=f.remove(new He(t.name,c))),f.insert(t,t.node)}});return new sa(r,this.indexSet_)}removeFromIndexes(t,n){const r=dm(this.indexes_,a=>{if(a===so)return a;{const s=n.get(t.name);return s?a.remove(new He(t.name,s)):a}});return new sa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;class Me{static get EMPTY_NODE(){return lc||(lc=new Me(new br(M1),null,sa.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bk(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lc}updatePriority(t){return this.children_.isEmpty()?this:new Me(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?lc:n}}getChild(t){const n=$e(t);return n===null?this:this.getImmediateChild(n).getChild(jt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ce(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new He(t,n);let a,s;n.isEmpty()?(a=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=a.isEmpty()?lc:this.priorityNode_;return new Me(a,o,s)}}updateChild(t,n){const r=$e(t);if(r===null)return n;{ce($e(t)!==".priority"||gl(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild(jt(t),n);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,a=0,s=!0;if(this.forEachChild(Kt,(o,c)=>{n[o]=c.val(t),r++,s&&Me.INTEGER_REGEXP_.test(o)?a=Math.max(a,Number(o)):s=!1}),!t&&s&&a<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+zk(this.getPriority().val())+":"),this.forEachChild(Kt,(n,r)=>{const a=r.hash();a!==""&&(t+=":"+n+":"+a)}),this.lazyHash_=t===""?"":mk(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const a=this.resolveIndex_(r);if(a){const s=a.getPredecessorKey(new He(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new He(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new He(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,He.Wrap);let s=a.peek();for(;s!=null&&n.compare(s,t)<0;)a.getNext(),s=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,He.Wrap);let s=a.peek();for(;s!=null&&n.compare(s,t)>0;)a.getNext(),s=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Sd?-1:0}withIndex(t){if(t===wo||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Me(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===wo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Kt),a=n.getIterator(Kt);let s=r.getNext(),o=a.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=a.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===wo?null:this.indexMap_.get(t.toString())}}Me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nne extends Me{constructor(){super(new br(M1),Me.EMPTY_NODE,sa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Me.EMPTY_NODE}isEmpty(){return!1}}const Sd=new nne;Object.defineProperties(He,{MIN:{value:new He(Do,Me.EMPTY_NODE)},MAX:{value:new He(fs,Sd)}});Lk.__EMPTY_NODE=Me.EMPTY_NODE;Tn.__childrenNodeConstructor=Me;Xte(Sd);Zte(Sd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne=!0;function hn(e,t=null){if(e===null)return Me.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ce(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Tn(n,hn(t))}if(!(e instanceof Array)&&rne){const n=[];let r=!1;if(Vn(e,(o,c)=>{if(o.substring(0,1)!=="."){const f=hn(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new He(o,f)))}}),n.length===0)return Me.EMPTY_NODE;const s=gm(n,Wte,o=>o.name,M1);if(r){const o=gm(n,Kt.getCompare());return new Me(s,hn(t),new sa({".priority":o},{".priority":Kt}))}else return new Me(s,hn(t),sa.Default)}else{let n=Me.EMPTY_NODE;return Vn(e,(r,a)=>{if(_i(e,r)&&r.substring(0,1)!=="."){const s=hn(a);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hn(t))}}Qte(hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine extends Sp{constructor(t){super(),this.indexPath_=t,ce(!Ke(t)&&$e(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),a=this.extractChild(n.node),s=r.compareTo(a);return s===0?ys(t.name,n.name):s}makePost(t,n){const r=hn(t),a=Me.EMPTY_NODE.updateChild(this.indexPath_,r);return new He(n,a)}maxPost(){const t=Me.EMPTY_NODE.updateChild(this.indexPath_,Sd);return new He(fs,t)}toString(){return $c(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane extends Sp{compare(t,n){const r=t.node.compareTo(n.node);return r===0?ys(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(t,n){const r=hn(t);return new He(n,r)}toString(){return".value"}}const lne=new ane;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e){return{type:"value",snapshotNode:e}}function Po(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function sne(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this.index_=t}updateChild(t,n,r,a,s,o){ce(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(n);return c.getChild(a).equals(r.getChild(a))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Hc(n,c)):ce(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Po(n,r)):o.trackChildChange(qc(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Kt,(a,s)=>{n.hasChild(a)||r.trackChildChange(Hc(a,s))}),n.isLeafNode()||n.forEachChild(Kt,(a,s)=>{if(t.hasChild(a)){const o=t.getImmediateChild(a);o.equals(s)||r.trackChildChange(qc(a,s,o))}else r.trackChildChange(Po(a,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Me.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t){this.indexedFilter_=new R1(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fc.getStartPost_(t),this.endPost_=Fc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,a,s,o){return this.matches(new He(n,r))||(r=Me.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,a,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Me.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Me.EMPTY_NODE);const s=this;return n.forEachChild(Kt,(o,c)=>{s.matches(new He(o,c))||(a=a.updateImmediateChild(o,Me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,a,s,o){return this.rangedFilter_.matches(new He(n,r))||(r=Me.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,a,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let a;if(n.isLeafNode()||n.isEmpty())a=Me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Me.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))a=a.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Me.EMPTY_NODE);let s;this.reverse_?s=a.getReverseIterator(this.index_):s=a.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:a=a.updateImmediateChild(c.name,Me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,a,s){let o;if(this.reverse_){const v=this.index_.getCompare();o=(y,x)=>v(x,y)}else o=this.index_.getCompare();const c=t;ce(c.numChildren()===this.limit_,"");const f=new He(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(c.hasChild(n)){const v=c.getImmediateChild(n);let y=a.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=a.getChildAfterChild(this.index_,y,this.reverse_);const x=y==null?1:o(y,f);if(m&&!r.isEmpty()&&x>=0)return s!=null&&s.trackChildChange(qc(n,r,v)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Hc(n,v));const S=c.updateImmediateChild(n,Me.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(s!=null&&s.trackChildChange(Po(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}}else return r.isEmpty()?t:m&&o(h,f)>=0?(s!=null&&(s.trackChildChange(Hc(h.name,h.node)),s.trackChildChange(Po(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Me.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Do}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kt}copy(){const t=new I1;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function une(e){return e.loadsAllData()?new R1(e.getIndex()):e.hasLimit()?new one(e):new Fc(e)}function u2(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Kt?n="$priority":e.index_===lne?n="$value":e.index_===wo?n="$key":(ce(e.index_ instanceof ine,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=xn(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=xn(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+xn(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=xn(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+xn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function c2(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Kt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends Mk{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ce(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=wd("p:rest:"),this.listens_={}}listen(t,n,r,a){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=ym.getListenId_(t,r),c={};this.listens_[o]=c;const f=u2(t._queryParams);this.restRequest_(s+".json",f,(h,m)=>{let v=m;if(h===404&&(v=null,h=null),h===null&&this.onDataUpdate_(s,v,!1,r),ds(this.listens_,o)===c){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",a(y,null)}})}unlisten(t,n){const r=ym.getListenId_(t,n);delete this.listens_[r]}get(t){const n=u2(t._queryParams),r=t._path.toString(),a=new eu;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),a.resolve(c)):a.reject(new Error(c))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,s])=>{a&&a.accessToken&&(n.auth=a.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+RJ(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=Lc(c.responseText)}catch{ar("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&ar("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(){this.rootNode_=Me.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){return{value:null,children:new Map}}function qk(e,t,n){if(Ke(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=$e(t);e.children.has(r)||e.children.set(r,bm());const a=e.children.get(r);t=jt(t),qk(a,t,n)}}function sx(e,t,n){e.value!==null?n(t,e.value):dne(e,(r,a)=>{const s=new yt(t.toString()+"/"+r);sx(a,s,n)})}function dne(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Vn(this.last_,(r,a)=>{n[r]=n[r]-a}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=10*1e3,hne=30*1e3,mne=300*1e3;class pne{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fne(t);const r=d2+(hne-d2)*Math.random();mc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Vn(t,(a,s)=>{s>0&&_i(this.statsToReport_,a)&&(n[a]=s,r=!0)}),r&&this.server_.reportStats(n),mc(this.reportStats_.bind(this),Math.floor(Math.random()*2*mne))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pi||(pi={}));function k1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function L1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function z1(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=pi.ACK_USER_WRITE,this.source=k1()}operationForChild(t){if(Ke(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new yt(t));return new xm(et(),n,this.revert)}}else return ce($e(this.path)===t,"operationForChild called for unrelated child."),new xm(jt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n){this.source=t,this.path=n,this.type=pi.LISTEN_COMPLETE}operationForChild(t){return Ke(this.path)?new Kc(this.source,et()):new Kc(this.source,jt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=pi.OVERWRITE}operationForChild(t){return Ke(this.path)?new hs(this.source,et(),this.snap.getImmediateChild(t)):new hs(this.source,jt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=pi.MERGE}operationForChild(t){if(Ke(this.path)){const n=this.children.subtree(new yt(t));return n.isEmpty()?null:n.value?new hs(this.source,et(),n.value):new Mo(this.source,et(),n)}else return ce($e(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Mo(this.source,jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ke(t))return this.isFullyInitialized()&&!this.filtered_;const n=$e(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function gne(e,t,n,r){const a=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sne(o.childName,o.snapshotNode))}),sc(e,a,"child_removed",t,r,n),sc(e,a,"child_added",t,r,n),sc(e,a,"child_moved",s,r,n),sc(e,a,"child_changed",t,r,n),sc(e,a,"value",t,r,n),a}function sc(e,t,n,r,a,s){const o=r.filter(c=>c.type===n);o.sort((c,f)=>bne(e,c,f)),o.forEach(c=>{const f=yne(e,c,s);a.forEach(h=>{h.respondsTo(c.type)&&t.push(h.createEvent(f,e.query_))})})}function yne(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function bne(e,t,n){if(t.childName==null||n.childName==null)throw Jo("Should only compare child_ events.");const r=new He(t.childName,t.snapshotNode),a=new He(n.childName,n.snapshotNode);return e.index_.compare(r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e,t){return{eventCache:e,serverCache:t}}function pc(e,t,n,r){return Ep(new yl(t,n,r),e.serverCache)}function Fk(e,t,n,r){return Ep(e.eventCache,new yl(t,n,r))}function _m(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ms(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0;const xne=()=>(G0||(G0=new br(ite)),G0);class At{static fromObject(t){let n=new At(null);return Vn(t,(r,a)=>{n=n.set(new yt(r),a)}),n}constructor(t,n=xne()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:et(),value:this.value};if(Ke(t))return null;{const r=$e(t),a=this.children.get(r);if(a!==null){const s=a.findRootMostMatchingPathAndValue(jt(t),n);return s!=null?{path:en(new yt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ke(t))return this;{const n=$e(t),r=this.children.get(n);return r!==null?r.subtree(jt(t)):new At(null)}}set(t,n){if(Ke(t))return new At(n,this.children);{const r=$e(t),s=(this.children.get(r)||new At(null)).set(jt(t),n),o=this.children.insert(r,s);return new At(this.value,o)}}remove(t){if(Ke(t))return this.children.isEmpty()?new At(null):new At(null,this.children);{const n=$e(t),r=this.children.get(n);if(r){const a=r.remove(jt(t));let s;return a.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,a),this.value===null&&s.isEmpty()?new At(null):new At(this.value,s)}else return this}}get(t){if(Ke(t))return this.value;{const n=$e(t),r=this.children.get(n);return r?r.get(jt(t)):null}}setTree(t,n){if(Ke(t))return n;{const r=$e(t),s=(this.children.get(r)||new At(null)).setTree(jt(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new At(this.value,o)}}fold(t){return this.fold_(et(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((a,s)=>{r[a]=s.fold_(en(t,a),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,et(),n)}findOnPath_(t,n,r){const a=this.value?r(n,this.value):!1;if(a)return a;if(Ke(t))return null;{const s=$e(t),o=this.children.get(s);return o?o.findOnPath_(jt(t),en(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,et(),n)}foreachOnPath_(t,n,r){if(Ke(t))return this;{this.value&&r(n,this.value);const a=$e(t),s=this.children.get(a);return s?s.foreachOnPath_(jt(t),en(n,a),r):new At(null)}}foreach(t){this.foreach_(et(),t)}foreach_(t,n){this.children.inorderTraversal((r,a)=>{a.foreach_(en(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.writeTree_=t}static empty(){return new gi(new At(null))}}function vc(e,t,n){if(Ke(t))return new gi(new At(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const a=r.path;let s=r.value;const o=ir(a,t);return s=s.updateChild(o,n),new gi(e.writeTree_.set(a,s))}else{const a=new At(n),s=e.writeTree_.setTree(t,a);return new gi(s)}}}function ox(e,t,n){let r=e;return Vn(n,(a,s)=>{r=vc(r,en(t,a),s)}),r}function f2(e,t){if(Ke(t))return gi.empty();{const n=e.writeTree_.setTree(t,new At(null));return new gi(n)}}function ux(e,t){return bs(e,t)!=null}function bs(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ir(n.path,t)):null}function h2(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Kt,(r,a)=>{t.push(new He(r,a))}):e.writeTree_.children.inorderTraversal((r,a)=>{a.value!=null&&t.push(new He(r,a.value))}),t}function cl(e,t){if(Ke(t))return e;{const n=bs(e,t);return n!=null?new gi(new At(n)):new gi(e.writeTree_.subtree(t))}}function cx(e){return e.writeTree_.isEmpty()}function Ro(e,t){return Kk(et(),e.writeTree_,t)}function Kk(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((a,s)=>{a===".priority"?(ce(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Kk(en(e,a),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(en(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(e,t){return Wk(t,e)}function _ne(e,t,n,r,a){ce(r>e.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(e.visibleWrites=vc(e.visibleWrites,t,n)),e.lastWriteId=r}function wne(e,t,n,r){ce(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ox(e.visibleWrites,t,n),e.lastWriteId=r}function Sne(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Ene(e,t){const n=e.allWrites.findIndex(c=>c.writeId===t);ce(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let a=r.visible,s=!1,o=e.allWrites.length-1;for(;a&&o>=0;){const c=e.allWrites[o];c.visible&&(o>=n&&Nne(c,r.path)?a=!1:ri(r.path,c.path)&&(s=!0)),o--}if(a){if(s)return Cne(e),!0;if(r.snap)e.visibleWrites=f2(e.visibleWrites,r.path);else{const c=r.children;Vn(c,f=>{e.visibleWrites=f2(e.visibleWrites,en(r.path,f))})}return!0}else return!1}function Nne(e,t){if(e.snap)return ri(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ri(en(e.path,n),t))return!0;return!1}function Cne(e){e.visibleWrites=Vk(e.allWrites,Ane,et()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Ane(e){return e.visible}function Vk(e,t,n){let r=gi.empty();for(let a=0;a<e.length;++a){const s=e[a];if(t(s)){const o=s.path;let c;if(s.snap)ri(n,o)?(c=ir(n,o),r=vc(r,c,s.snap)):ri(o,n)&&(c=ir(o,n),r=vc(r,et(),s.snap.getChild(c)));else if(s.children){if(ri(n,o))c=ir(n,o),r=ox(r,c,s.children);else if(ri(o,n))if(c=ir(o,n),Ke(c))r=ox(r,et(),s.children);else{const f=ds(s.children,$e(c));if(f){const h=f.getChild(jt(c));r=vc(r,et(),h)}}}else throw Jo("WriteRecord should have .snap or .children")}}return r}function Gk(e,t,n,r,a){if(!r&&!a){const s=bs(e.visibleWrites,t);if(s!=null)return s;{const o=cl(e.visibleWrites,t);if(cx(o))return n;if(n==null&&!ux(o,et()))return null;{const c=n||Me.EMPTY_NODE;return Ro(o,c)}}}else{const s=cl(e.visibleWrites,t);if(!a&&cx(s))return n;if(!a&&n==null&&!ux(s,et()))return null;{const o=function(h){return(h.visible||a)&&(!r||!~r.indexOf(h.writeId))&&(ri(h.path,t)||ri(t,h.path))},c=Vk(e.allWrites,o,t),f=n||Me.EMPTY_NODE;return Ro(c,f)}}}function One(e,t,n){let r=Me.EMPTY_NODE;const a=bs(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Kt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=cl(e.visibleWrites,t);return n.forEachChild(Kt,(o,c)=>{const f=Ro(cl(s,new yt(o)),c);r=r.updateImmediateChild(o,f)}),h2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=cl(e.visibleWrites,t);return h2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function jne(e,t,n,r,a){ce(r||a,"Either existingEventSnap or existingServerSnap must exist");const s=en(t,n);if(ux(e.visibleWrites,s))return null;{const o=cl(e.visibleWrites,s);return cx(o)?a.getChild(n):Ro(o,a.getChild(n))}}function Tne(e,t,n,r){const a=en(t,n),s=bs(e.visibleWrites,a);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=cl(e.visibleWrites,a);return Ro(o,r.getNode().getImmediateChild(n))}else return null}function Dne(e,t){return bs(e.visibleWrites,t)}function Pne(e,t,n,r,a,s,o){let c;const f=cl(e.visibleWrites,t),h=bs(f,et());if(h!=null)c=h;else if(n!=null)c=Ro(f,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const m=[],v=o.getCompare(),y=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let x=y.getNext();for(;x&&m.length<a;)v(x,r)!==0&&m.push(x),x=y.getNext();return m}else return[]}function Mne(){return{visibleWrites:gi.empty(),allWrites:[],lastWriteId:-1}}function wm(e,t,n,r){return Gk(e.writeTree,e.treePath,t,n,r)}function B1(e,t){return One(e.writeTree,e.treePath,t)}function m2(e,t,n,r){return jne(e.writeTree,e.treePath,t,n,r)}function Sm(e,t){return Dne(e.writeTree,en(e.treePath,t))}function Rne(e,t,n,r,a,s){return Pne(e.writeTree,e.treePath,t,n,r,a,s)}function U1(e,t,n){return Tne(e.writeTree,e.treePath,t,n)}function Yk(e,t){return Wk(en(e.treePath,t),e.writeTree)}function Wk(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const s=a.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,qc(r,t.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hc(r,a.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Po(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,qc(r,t.snapshotNode,a.oldSnap));else throw Jo("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Xk=new kne;class $1{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new yl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return U1(this.writes_,t,r)}}getChildAfterChild(t,n,r){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ms(this.viewCache_),s=Rne(this.writes_,a,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(e){return{filter:e}}function zne(e,t){ce(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ce(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Bne(e,t,n,r,a){const s=new Ine;let o,c;if(n.type===pi.OVERWRITE){const h=n;h.source.fromUser?o=dx(e,t,h.path,h.snap,r,a,s):(ce(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered()&&!Ke(h.path),o=Em(e,t,h.path,h.snap,r,a,c,s))}else if(n.type===pi.MERGE){const h=n;h.source.fromUser?o=$ne(e,t,h.path,h.children,r,a,s):(ce(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered(),o=fx(e,t,h.path,h.children,r,a,c,s))}else if(n.type===pi.ACK_USER_WRITE){const h=n;h.revert?o=Fne(e,t,h.path,r,a,s):o=Hne(e,t,h.path,h.affectedTree,r,a,s)}else if(n.type===pi.LISTEN_COMPLETE)o=qne(e,t,n.path,r,s);else throw Jo("Unknown operation type: "+n.type);const f=s.getChanges();return Une(t,o,f),{viewCache:o,changes:f}}function Une(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=_m(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Hk(_m(t)))}}function Qk(e,t,n,r,a,s){const o=t.eventCache;if(Sm(r,n)!=null)return t;{let c,f;if(Ke(n))if(ce(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const h=ms(t),m=h instanceof Me?h:Me.EMPTY_NODE,v=B1(r,m);c=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{const h=wm(r,ms(t));c=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const h=$e(n);if(h===".priority"){ce(gl(n)===1,"Can't have a priority with additional path components");const m=o.getNode();f=t.serverCache.getNode();const v=m2(r,n,m,f);v!=null?c=e.filter.updatePriority(m,v):c=o.getNode()}else{const m=jt(n);let v;if(o.isCompleteForChild(h)){f=t.serverCache.getNode();const y=m2(r,n,o.getNode(),f);y!=null?v=o.getNode().getImmediateChild(h).updateChild(m,y):v=o.getNode().getImmediateChild(h)}else v=U1(r,h,t.serverCache);v!=null?c=e.filter.updateChild(o.getNode(),h,v,m,a,s):c=o.getNode()}}return pc(t,c,o.isFullyInitialized()||Ke(n),e.filter.filtersNodes())}}function Em(e,t,n,r,a,s,o,c){const f=t.serverCache;let h;const m=o?e.filter:e.filter.getIndexedFilter();if(Ke(n))h=m.updateFullNode(f.getNode(),r,null);else if(m.filtersNodes()&&!f.isFiltered()){const x=f.getNode().updateChild(n,r);h=m.updateFullNode(f.getNode(),x,null)}else{const x=$e(n);if(!f.isCompleteForPath(n)&&gl(n)>1)return t;const w=jt(n),E=f.getNode().getImmediateChild(x).updateChild(w,r);x===".priority"?h=m.updatePriority(f.getNode(),E):h=m.updateChild(f.getNode(),x,E,w,Xk,null)}const v=Fk(t,h,f.isFullyInitialized()||Ke(n),m.filtersNodes()),y=new $1(a,v,s);return Qk(e,v,n,a,y,c)}function dx(e,t,n,r,a,s,o){const c=t.eventCache;let f,h;const m=new $1(a,t,s);if(Ke(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,o),f=pc(t,h,!0,e.filter.filtersNodes());else{const v=$e(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),f=pc(t,h,c.isFullyInitialized(),c.isFiltered());else{const y=jt(n),x=c.getNode().getImmediateChild(v);let w;if(Ke(y))w=r;else{const S=m.getCompleteChild(v);S!=null?T1(y)===".priority"&&S.getChild(Ik(y)).isEmpty()?w=S:w=S.updateChild(y,r):w=Me.EMPTY_NODE}if(x.equals(w))f=t;else{const S=e.filter.updateChild(c.getNode(),v,w,y,m,o);f=pc(t,S,c.isFullyInitialized(),e.filter.filtersNodes())}}}return f}function p2(e,t){return e.eventCache.isCompleteForChild(t)}function $ne(e,t,n,r,a,s,o){let c=t;return r.foreach((f,h)=>{const m=en(n,f);p2(t,$e(m))&&(c=dx(e,c,m,h,a,s,o))}),r.foreach((f,h)=>{const m=en(n,f);p2(t,$e(m))||(c=dx(e,c,m,h,a,s,o))}),c}function v2(e,t,n){return n.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function fx(e,t,n,r,a,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f=t,h;Ke(n)?h=r:h=new At(null).setTree(n,r);const m=t.serverCache.getNode();return h.children.inorderTraversal((v,y)=>{if(m.hasChild(v)){const x=t.serverCache.getNode().getImmediateChild(v),w=v2(e,x,y);f=Em(e,f,new yt(v),w,a,s,o,c)}}),h.children.inorderTraversal((v,y)=>{const x=!t.serverCache.isCompleteForChild(v)&&y.value===null;if(!m.hasChild(v)&&!x){const w=t.serverCache.getNode().getImmediateChild(v),S=v2(e,w,y);f=Em(e,f,new yt(v),S,a,s,o,c)}}),f}function Hne(e,t,n,r,a,s,o){if(Sm(a,n)!=null)return t;const c=t.serverCache.isFiltered(),f=t.serverCache;if(r.value!=null){if(Ke(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Em(e,t,n,f.getNode().getChild(n),a,s,c,o);if(Ke(n)){let h=new At(null);return f.getNode().forEachChild(wo,(m,v)=>{h=h.set(new yt(m),v)}),fx(e,t,n,h,a,s,c,o)}else return t}else{let h=new At(null);return r.foreach((m,v)=>{const y=en(n,m);f.isCompleteForPath(y)&&(h=h.set(m,f.getNode().getChild(y)))}),fx(e,t,n,h,a,s,c,o)}}function qne(e,t,n,r,a){const s=t.serverCache,o=Fk(t,s.getNode(),s.isFullyInitialized()||Ke(n),s.isFiltered());return Qk(e,o,n,r,Xk,a)}function Fne(e,t,n,r,a,s){let o;if(Sm(r,n)!=null)return t;{const c=new $1(r,t,a),f=t.eventCache.getNode();let h;if(Ke(n)||$e(n)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=wm(r,ms(t));else{const v=t.serverCache.getNode();ce(v instanceof Me,"serverChildren would be complete if leaf node"),m=B1(r,v)}m=m,h=e.filter.updateFullNode(f,m,s)}else{const m=$e(n);let v=U1(r,m,t.serverCache);v==null&&t.serverCache.isCompleteForChild(m)&&(v=f.getImmediateChild(m)),v!=null?h=e.filter.updateChild(f,m,v,jt(n),c,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(f,m,Me.EMPTY_NODE,jt(n),c,s):h=f,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=wm(r,ms(t)),o.isLeafNode()&&(h=e.filter.updateFullNode(h,o,s)))}return o=t.serverCache.isFullyInitialized()||Sm(r,et())!=null,pc(t,h,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new R1(r.getIndex()),s=une(r);this.processor_=Lne(s);const o=n.serverCache,c=n.eventCache,f=a.updateFullNode(Me.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Me.EMPTY_NODE,c.getNode(),null),m=new yl(f,o.isFullyInitialized(),a.filtersNodes()),v=new yl(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ep(v,m),this.eventGenerator_=new vne(this.query_)}get query(){return this.query_}}function Vne(e){return e.viewCache_.serverCache.getNode()}function Gne(e){return _m(e.viewCache_)}function Yne(e,t){const n=ms(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ke(t)&&!n.getImmediateChild($e(t)).isEmpty())?n.getChild(t):null}function g2(e){return e.eventRegistrations_.length===0}function Wne(e,t){e.eventRegistrations_.push(t)}function y2(e,t,n){const r=[];if(n){ce(t==null,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,a);o&&r.push(o)})}if(t){let a=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))a.push(o);else if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function b2(e,t,n,r){t.type===pi.MERGE&&t.source.queryId!==null&&(ce(ms(e.viewCache_),"We should always have a full cache before handling merges"),ce(_m(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,s=Bne(e.processor_,a,t,n,r);return zne(e.processor_,s.viewCache),ce(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Zk(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Xne(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kt,(s,o)=>{r.push(Po(s,o))}),n.isFullyInitialized()&&r.push(Hk(n.getNode())),Zk(e,r,n.getNode(),t)}function Zk(e,t,n,r){const a=r?[r]:e.eventRegistrations_;return gne(e.eventGenerator_,t,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm;class Jk{constructor(){this.views=new Map}}function Qne(e){ce(!Nm,"__referenceConstructor has already been defined"),Nm=e}function Zne(){return ce(Nm,"Reference.ts has not been loaded"),Nm}function Jne(e){return e.views.size===0}function H1(e,t,n,r){const a=t.source.queryId;if(a!==null){const s=e.views.get(a);return ce(s!=null,"SyncTree gave us an op for an invalid query."),b2(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(b2(o,t,n,r));return s}}function e3(e,t,n,r,a){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let c=wm(n,a?r:null),f=!1;c?f=!0:r instanceof Me?(c=B1(n,r),f=!1):(c=Me.EMPTY_NODE,f=!1);const h=Ep(new yl(c,f,!1),new yl(r,a,!1));return new Kne(t,h)}return o}function ere(e,t,n,r,a,s){const o=e3(e,t,r,a,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Wne(o,n),Xne(o,n)}function tre(e,t,n,r){const a=t._queryIdentifier,s=[];let o=[];const c=bl(e);if(a==="default")for(const[f,h]of e.views.entries())o=o.concat(y2(h,n,r)),g2(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||s.push(h.query));else{const f=e.views.get(a);f&&(o=o.concat(y2(f,n,r)),g2(f)&&(e.views.delete(a),f.query._queryParams.loadsAllData()||s.push(f.query)))}return c&&!bl(e)&&s.push(new(Zne())(t._repo,t._path)),{removed:s,events:o}}function t3(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function dl(e,t){let n=null;for(const r of e.views.values())n=n||Yne(r,t);return n}function n3(e,t){if(t._queryParams.loadsAllData())return Cp(e);{const r=t._queryIdentifier;return e.views.get(r)}}function r3(e,t){return n3(e,t)!=null}function bl(e){return Cp(e)!=null}function Cp(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm;function nre(e){ce(!Cm,"__referenceConstructor has already been defined"),Cm=e}function rre(){return ce(Cm,"Reference.ts has not been loaded"),Cm}let ire=1;class x2{constructor(t){this.listenProvider_=t,this.syncPointTree_=new At(null),this.pendingWriteTree_=Mne(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q1(e,t,n,r,a){return _ne(e.pendingWriteTree_,t,n,r,a),a?nu(e,new hs(k1(),t,n)):[]}function are(e,t,n,r){wne(e.pendingWriteTree_,t,n,r);const a=At.fromObject(n);return nu(e,new Mo(k1(),t,a))}function ll(e,t,n=!1){const r=Sne(e.pendingWriteTree_,t);if(Ene(e.pendingWriteTree_,t)){let s=new At(null);return r.snap!=null?s=s.set(et(),!0):Vn(r.children,o=>{s=s.set(new yt(o),!0)}),nu(e,new xm(r.path,s,n))}else return[]}function Ed(e,t,n){return nu(e,new hs(L1(),t,n))}function lre(e,t,n){const r=At.fromObject(n);return nu(e,new Mo(L1(),t,r))}function sre(e,t){return nu(e,new Kc(L1(),t))}function ore(e,t,n){const r=F1(e,n);if(r){const a=K1(r),s=a.path,o=a.queryId,c=ir(s,t),f=new Kc(z1(o),c);return V1(e,s,f)}else return[]}function Am(e,t,n,r,a=!1){const s=t._path,o=e.syncPointTree_.get(s);let c=[];if(o&&(t._queryIdentifier==="default"||r3(o,t))){const f=tre(o,t,n,r);Jne(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const h=f.removed;if(c=f.events,!a){const m=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(s,(y,x)=>bl(x));if(m&&!v){const y=e.syncPointTree_.subtree(s);if(!y.isEmpty()){const x=dre(y);for(let w=0;w<x.length;++w){const S=x[w],E=S.query,C=s3(e,S);e.listenProvider_.startListening(gc(E),Vc(e,E),C.hashFn,C.onComplete)}}}!v&&h.length>0&&!r&&(m?e.listenProvider_.stopListening(gc(t),null):h.forEach(y=>{const x=e.queryToTagMap.get(Op(y));e.listenProvider_.stopListening(gc(y),x)}))}fre(e,h)}return c}function i3(e,t,n,r){const a=F1(e,r);if(a!=null){const s=K1(a),o=s.path,c=s.queryId,f=ir(o,t),h=new hs(z1(c),f,n);return V1(e,o,h)}else return[]}function ure(e,t,n,r){const a=F1(e,r);if(a){const s=K1(a),o=s.path,c=s.queryId,f=ir(o,t),h=At.fromObject(n),m=new Mo(z1(c),f,h);return V1(e,o,m)}else return[]}function hx(e,t,n,r=!1){const a=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(a,(y,x)=>{const w=ir(y,a);s=s||dl(x,w),o=o||bl(x)});let c=e.syncPointTree_.get(a);c?(o=o||bl(c),s=s||dl(c,et())):(c=new Jk,e.syncPointTree_=e.syncPointTree_.set(a,c));let f;s!=null?f=!0:(f=!1,s=Me.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((x,w)=>{const S=dl(w,et());S&&(s=s.updateImmediateChild(x,S))}));const h=r3(c,t);if(!h&&!t._queryParams.loadsAllData()){const y=Op(t);ce(!e.queryToTagMap.has(y),"View does not exist, but we have a tag");const x=hre();e.queryToTagMap.set(y,x),e.tagToQueryMap.set(x,y)}const m=Np(e.pendingWriteTree_,a);let v=ere(c,t,n,m,s,f);if(!h&&!o&&!r){const y=n3(c,t);v=v.concat(mre(e,t,y))}return v}function Ap(e,t,n){const a=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,c)=>{const f=ir(o,t),h=dl(c,f);if(h)return h});return Gk(a,t,s,n,!0)}function cre(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(h,m)=>{const v=ir(h,n);r=r||dl(m,v)});let a=e.syncPointTree_.get(n);a?r=r||dl(a,et()):(a=new Jk,e.syncPointTree_=e.syncPointTree_.set(n,a));const s=r!=null,o=s?new yl(r,!0,!1):null,c=Np(e.pendingWriteTree_,t._path),f=e3(a,t,c,s?o.getNode():Me.EMPTY_NODE,s);return Gne(f)}function nu(e,t){return a3(t,e.syncPointTree_,null,Np(e.pendingWriteTree_,et()))}function a3(e,t,n,r){if(Ke(e.path))return l3(e,t,n,r);{const a=t.get(et());n==null&&a!=null&&(n=dl(a,et()));let s=[];const o=$e(e.path),c=e.operationForChild(o),f=t.children.get(o);if(f&&c){const h=n?n.getImmediateChild(o):null,m=Yk(r,o);s=s.concat(a3(c,f,h,m))}return a&&(s=s.concat(H1(a,e,r,n))),s}}function l3(e,t,n,r){const a=t.get(et());n==null&&a!=null&&(n=dl(a,et()));let s=[];return t.children.inorderTraversal((o,c)=>{const f=n?n.getImmediateChild(o):null,h=Yk(r,o),m=e.operationForChild(o);m&&(s=s.concat(l3(m,c,f,h)))}),a&&(s=s.concat(H1(a,e,r,n))),s}function s3(e,t){const n=t.query,r=Vc(e,n);return{hashFn:()=>(Vne(t)||Me.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return r?ore(e,n._path,r):sre(e,n._path);{const s=ste(a,n);return Am(e,n,null,s)}}}}function Vc(e,t){const n=Op(t);return e.queryToTagMap.get(n)}function Op(e){return e._path.toString()+"$"+e._queryIdentifier}function F1(e,t){return e.tagToQueryMap.get(t)}function K1(e){const t=e.indexOf("$");return ce(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new yt(e.substr(0,t))}}function V1(e,t,n){const r=e.syncPointTree_.get(t);ce(r,"Missing sync point for query tag that we're tracking");const a=Np(e.pendingWriteTree_,t);return H1(r,n,a,null)}function dre(e){return e.fold((t,n,r)=>{if(n&&bl(n))return[Cp(n)];{let a=[];return n&&(a=t3(n)),Vn(r,(s,o)=>{a=a.concat(o)}),a}})}function gc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(rre())(e._repo,e._path):e}function fre(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const a=Op(r),s=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(s)}}}function hre(){return ire++}function mre(e,t,n){const r=t._path,a=Vc(e,t),s=s3(e,n),o=e.listenProvider_.startListening(gc(t),a,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(a)ce(!bl(c.value),"If we're adding a query, it shouldn't be shadowed");else{const f=c.fold((h,m,v)=>{if(!Ke(h)&&m&&bl(m))return[Cp(m).query];{let y=[];return m&&(y=y.concat(t3(m).map(x=>x.query))),Vn(v,(x,w)=>{y=y.concat(w)}),y}});for(let h=0;h<f.length;++h){const m=f[h];e.listenProvider_.stopListening(gc(m),Vc(e,m))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new G1(n)}node(){return this.node_}}class Y1{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=en(this.path_,t);return new Y1(this.syncTree_,n)}node(){return Ap(this.syncTree_,this.path_)}}const pre=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},_2=function(e,t,n){if(!e||typeof e!="object")return e;if(ce(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return vre(e[".sv"],t,n);if(typeof e[".sv"]=="object")return gre(e[".sv"],t);ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},vre=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+e)}},gre=function(e,t,n){e.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const a=t.node();if(ce(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const o=a.getValue();return typeof o!="number"?r:o+r},o3=function(e,t,n,r){return X1(t,new Y1(n,e),r)},W1=function(e,t,n){return X1(e,new G1(t),n)};function X1(e,t,n){const r=e.getPriority().val(),a=_2(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,c=_2(o.getValue(),t,n);return c!==o.getValue()||a!==o.getPriority().val()?new Tn(c,hn(a)):e}else{const o=e;return s=o,a!==o.getPriority().val()&&(s=s.updatePriority(new Tn(a))),o.forEachChild(Kt,(c,f)=>{const h=X1(f,t.getImmediateChild(c),n);h!==f&&(s=s.updateImmediateChild(c,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function jp(e,t){let n=t instanceof yt?t:new yt(t),r=e,a=$e(n);for(;a!==null;){const s=ds(r.node.children,a)||{children:{},childCount:0};r=new Q1(a,r,s),n=jt(n),a=$e(n)}return r}function xs(e){return e.node.value}function Z1(e,t){e.node.value=t,mx(e)}function u3(e){return e.node.childCount>0}function yre(e){return xs(e)===void 0&&!u3(e)}function Tp(e,t){Vn(e.node.children,(n,r)=>{t(new Q1(n,e,r))})}function c3(e,t,n,r){n&&t(e),Tp(e,a=>{c3(a,t,!0)})}function bre(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Nd(e){return new yt(e.parent===null?e.name:Nd(e.parent)+"/"+e.name)}function mx(e){e.parent!==null&&xre(e.parent,e.name,e)}function xre(e,t,n){const r=yre(n),a=_i(e.node.children,t);r&&a?(delete e.node.children[t],e.node.childCount--,mx(e)):!r&&!a&&(e.node.children[t]=n.node,e.node.childCount++,mx(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=/[\[\].#$\/\u0000-\u001F\u007F]/,wre=/[\[\].#$\u0000-\u001F\u007F]/,Y0=10*1024*1024,J1=function(e){return typeof e=="string"&&e.length!==0&&!_re.test(e)},d3=function(e){return typeof e=="string"&&e.length!==0&&!wre.test(e)},Sre=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d3(e)},f3=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!N1(e)||e&&typeof e=="object"&&_i(e,".sv")},h3=function(e,t,n,r){r&&t===void 0||Cd(_p(e,"value"),t,n)},Cd=function(e,t,n){const r=n instanceof yt?new $te(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Yl(r));if(typeof t=="function")throw new Error(e+"contains a function "+Yl(r)+" with contents = "+t.toString());if(N1(t))throw new Error(e+"contains "+t.toString()+" "+Yl(r));if(typeof t=="string"&&t.length>Y0/3&&wp(t)>Y0)throw new Error(e+"contains a string greater than "+Y0+" utf8 bytes "+Yl(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,s=!1;if(Vn(t,(o,c)=>{if(o===".value")a=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!J1(o)))throw new Error(e+" contains an invalid key ("+o+") "+Yl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hte(r,o),Cd(e,c,r),qte(r)}),a&&s)throw new Error(e+' contains ".value" child '+Yl(r)+" in addition to actual children.")}},Ere=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=$c(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!J1(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Ute);let a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&ri(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Nre=function(e,t,n,r){const a=_p(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const s=[];Vn(t,(o,c)=>{const f=new yt(o);if(Cd(a,c,en(n,f)),T1(f)===".priority"&&!f3(c))throw new Error(a+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),Ere(a,s)},m3=function(e,t,n,r){if(!d3(n))throw new Error(_p(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Cre=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),m3(e,t,n)},Dp=function(e,t){if($e(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Are=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!J1(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Sre(n))throw new Error(_p(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pp(e,t){let n=null;for(let r=0;r<t.length;r++){const a=t[r],s=a.getPath();n!==null&&!D1(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(a)}n&&e.eventLists_.push(n)}function p3(e,t,n){Pp(e,n),v3(e,r=>D1(r,t))}function Br(e,t,n){Pp(e,n),v3(e,r=>ri(r,t)||ri(t,r))}function v3(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const a=e.eventLists_[r];if(a){const s=a.path;t(s)?(jre(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function jre(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();hc&&Kn("event: "+n.toString()),tu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="repo_interrupt",Tre=25;class Dre{constructor(t,n,r,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ore,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bm(),this.transactionQueueTree_=new Q1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pre(e,t,n){if(e.stats_=O1(e.repoInfo_),e.forceRestClient_||dte())e.server_=new ym(e.repoInfo_,(r,a,s,o)=>{w2(e,r,a,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>S2(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new da(e.repoInfo_,t,(r,a,s,o)=>{w2(e,r,a,s,o)},r=>{S2(e,r)},r=>{Mre(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=vte(e.repoInfo_,()=>new pne(e.stats_,e.server_)),e.infoData_=new cne,e.infoSyncTree_=new x2({startListening:(r,a,s,o)=>{let c=[];const f=e.infoData_.getNode(r._path);return f.isEmpty()||(c=Ed(e.infoSyncTree_,r._path,f),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),ew(e,"connected",!1),e.serverSyncTree_=new x2({startListening:(r,a,s,o)=>(e.server_.listen(r,s,a,(c,f)=>{const h=o(c,f);Br(e.eventQueue_,r._path,h)}),[]),stopListening:(r,a)=>{e.server_.unlisten(r,a)}})}function y3(e){const n=e.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ad(e){return pre({timestamp:y3(e)})}function w2(e,t,n,r,a){e.dataUpdateCount++;const s=new yt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(a)if(r){const f=dm(n,h=>hn(h));o=ure(e.serverSyncTree_,s,f,a)}else{const f=hn(n);o=i3(e.serverSyncTree_,s,f,a)}else if(r){const f=dm(n,h=>hn(h));o=lre(e.serverSyncTree_,s,f)}else{const f=hn(n);o=Ed(e.serverSyncTree_,s,f)}let c=s;o.length>0&&(c=Io(e,s)),Br(e.eventQueue_,c,o)}function S2(e,t){ew(e,"connected",t),t===!1&&Lre(e)}function Mre(e,t){Vn(t,(n,r)=>{ew(e,n,r)})}function ew(e,t,n){const r=new yt("/.info/"+t),a=hn(n);e.infoData_.updateSnapshot(r,a);const s=Ed(e.infoSyncTree_,r,a);Br(e.eventQueue_,r,s)}function Mp(e){return e.nextWriteId_++}function Rre(e,t,n){const r=cre(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(a=>{const s=hn(a).withIndex(t._queryParams.getIndex());hx(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=Ed(e.serverSyncTree_,t._path,s);else{const c=Vc(e.serverSyncTree_,t);o=i3(e.serverSyncTree_,t._path,s,c)}return Br(e.eventQueue_,t._path,o),Am(e.serverSyncTree_,t,n,null,!0),s},a=>(ru(e,"get for query "+xn(t)+" failed: "+a),Promise.reject(new Error(a))))}function Ire(e,t,n,r,a){ru(e,"set",{path:t.toString(),value:n,priority:r});const s=Ad(e),o=hn(n,r),c=Ap(e.serverSyncTree_,t),f=W1(o,c,s),h=Mp(e),m=q1(e.serverSyncTree_,t,f,h,!0);Pp(e.eventQueue_,m),e.server_.put(t.toString(),o.val(!0),(y,x)=>{const w=y==="ok";w||ar("set at "+t+" failed: "+y);const S=ll(e.serverSyncTree_,h,!w);Br(e.eventQueue_,t,S),px(e,a,y,x)});const v=nw(e,t);Io(e,v),Br(e.eventQueue_,v,[])}function kre(e,t,n,r){ru(e,"update",{path:t.toString(),value:n});let a=!0;const s=Ad(e),o={};if(Vn(n,(c,f)=>{a=!1,o[c]=o3(en(t,c),hn(f),e.serverSyncTree_,s)}),a)Kn("update() called with empty data.  Don't do anything."),px(e,r,"ok",void 0);else{const c=Mp(e),f=are(e.serverSyncTree_,t,o,c);Pp(e.eventQueue_,f),e.server_.merge(t.toString(),n,(h,m)=>{const v=h==="ok";v||ar("update at "+t+" failed: "+h);const y=ll(e.serverSyncTree_,c,!v),x=y.length>0?Io(e,t):t;Br(e.eventQueue_,x,y),px(e,r,h,m)}),Vn(n,h=>{const m=nw(e,en(t,h));Io(e,m)}),Br(e.eventQueue_,t,[])}}function Lre(e){ru(e,"onDisconnectEvents");const t=Ad(e),n=bm();sx(e.onDisconnect_,et(),(a,s)=>{const o=o3(a,s,e.serverSyncTree_,t);qk(n,a,o)});let r=[];sx(n,et(),(a,s)=>{r=r.concat(Ed(e.serverSyncTree_,a,s));const o=nw(e,a);Io(e,o)}),e.onDisconnect_=bm(),Br(e.eventQueue_,et(),r)}function zre(e,t,n){let r;$e(t._path)===".info"?r=hx(e.infoSyncTree_,t,n):r=hx(e.serverSyncTree_,t,n),p3(e.eventQueue_,t._path,r)}function Bre(e,t,n){let r;$e(t._path)===".info"?r=Am(e.infoSyncTree_,t,n):r=Am(e.serverSyncTree_,t,n),p3(e.eventQueue_,t._path,r)}function Ure(e){e.persistentConnection_&&e.persistentConnection_.interrupt(g3)}function $re(e){e.persistentConnection_&&e.persistentConnection_.resume(g3)}function ru(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Kn(n,...t)}function px(e,t,n,r){t&&tu(()=>{if(n==="ok")t(null);else{const a=(n||"error").toUpperCase();let s=a;r&&(s+=": "+r);const o=new Error(s);o.code=a,t(o)}})}function Hre(e,t,n,r,a,s){ru(e,"transaction on "+t);const o={path:t,update:n,onComplete:r,status:null,order:hk(),applyLocally:s,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=tw(e,t,void 0);o.currentInputSnapshot=c;const f=o.update(c.val());if(f===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Cd("transaction failed: Data returned ",f,o.path),o.status=0;const h=jp(e.transactionQueueTree_,t),m=xs(h)||[];m.push(o),Z1(h,m);let v;typeof f=="object"&&f!==null&&_i(f,".priority")?(v=ds(f,".priority"),ce(f3(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(Ap(e.serverSyncTree_,t)||Me.EMPTY_NODE).getPriority().val();const y=Ad(e),x=hn(f,v),w=W1(x,c,y);o.currentOutputSnapshotRaw=x,o.currentOutputSnapshotResolved=w,o.currentWriteId=Mp(e);const S=q1(e.serverSyncTree_,t,w,o.currentWriteId,o.applyLocally);Br(e.eventQueue_,t,S),Rp(e,e.transactionQueueTree_)}}function tw(e,t,n){return Ap(e.serverSyncTree_,t,n)||Me.EMPTY_NODE}function Rp(e,t=e.transactionQueueTree_){if(t||Ip(e,t),xs(t)){const n=x3(e,t);ce(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&qre(e,Nd(t),n)}else u3(t)&&Tp(t,n=>{Rp(e,n)})}function qre(e,t,n){const r=n.map(h=>h.currentWriteId),a=tw(e,t,r);let s=a;const o=a.hash();for(let h=0;h<n.length;h++){const m=n[h];ce(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=ir(t,m.path);s=s.updateChild(v,m.currentOutputSnapshotRaw)}const c=s.val(!0),f=t;e.server_.put(f.toString(),c,h=>{ru(e,"transaction put response",{path:f.toString(),status:h});let m=[];if(h==="ok"){const v=[];for(let y=0;y<n.length;y++)n[y].status=2,m=m.concat(ll(e.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&v.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Ip(e,jp(e.transactionQueueTree_,t)),Rp(e,e.transactionQueueTree_),Br(e.eventQueue_,t,m);for(let y=0;y<v.length;y++)tu(v[y])}else{if(h==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{ar("transaction at "+f.toString()+" failed: "+h);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=h}Io(e,t)}},o)}function Io(e,t){const n=b3(e,t),r=Nd(n),a=x3(e,n);return Fre(e,a,r),r}function Fre(e,t,n){if(t.length===0)return;const r=[];let a=[];const o=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const f=t[c],h=ir(n,f.path);let m=!1,v;if(ce(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,v=f.abortReason,a=a.concat(ll(e.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=Tre)m=!0,v="maxretry",a=a.concat(ll(e.serverSyncTree_,f.currentWriteId,!0));else{const y=tw(e,f.path,o);f.currentInputSnapshot=y;const x=t[c].update(y.val());if(x!==void 0){Cd("transaction failed: Data returned ",x,f.path);let w=hn(x);typeof x=="object"&&x!=null&&_i(x,".priority")||(w=w.updatePriority(y.getPriority()));const E=f.currentWriteId,C=Ad(e),j=W1(w,y,C);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=j,f.currentWriteId=Mp(e),o.splice(o.indexOf(E),1),a=a.concat(q1(e.serverSyncTree_,f.path,j,f.currentWriteId,f.applyLocally)),a=a.concat(ll(e.serverSyncTree_,E,!0))}else m=!0,v="nodata",a=a.concat(ll(e.serverSyncTree_,f.currentWriteId,!0))}Br(e.eventQueue_,n,a),a=[],m&&(t[c].status=2,(function(y){setTimeout(y,Math.floor(0))})(t[c].unwatcher),t[c].onComplete&&(v==="nodata"?r.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):r.push(()=>t[c].onComplete(new Error(v),!1,null))))}Ip(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)tu(r[c]);Rp(e,e.transactionQueueTree_)}function b3(e,t){let n,r=e.transactionQueueTree_;for(n=$e(t);n!==null&&xs(r)===void 0;)r=jp(r,n),t=jt(t),n=$e(t);return r}function x3(e,t){const n=[];return _3(e,t,n),n.sort((r,a)=>r.order-a.order),n}function _3(e,t,n){const r=xs(t);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);Tp(t,a=>{_3(e,a,n)})}function Ip(e,t){const n=xs(t);if(n){let r=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[r]=n[a],r++);n.length=r,Z1(t,n.length>0?n:void 0)}Tp(t,r=>{Ip(e,r)})}function nw(e,t){const n=Nd(b3(e,t)),r=jp(e.transactionQueueTree_,t);return bre(r,a=>{W0(e,a)}),W0(e,r),c3(r,a=>{W0(e,a)}),n}function W0(e,t){const n=xs(t);if(n){const r=[];let a=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ce(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ce(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),a=a.concat(ll(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Z1(t,void 0):n.length=s+1,Br(e.eventQueue_,Nd(t),a);for(let o=0;o<r.length;o++)tu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kre(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let a=n[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function Vre(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ar(`Invalid query segment '${n}' in query '${e}'`)}return t}const E2=function(e,t){const n=Gre(e),r=n.namespace;n.domain==="firebase.com"&&_a(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_a("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nte();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ck(n.host,n.secure,r,a,t,"",r!==n.subdomain),path:new yt(n.pathString)}},Gre=function(e){let t="",n="",r="",a="",s="",o=!0,c="https",f=443;if(typeof e=="string"){let h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));let m=e.indexOf("/");m===-1&&(m=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(m,v)),m<v&&(a=Kre(e.substring(m,v)));const y=Vre(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(o=c==="https"||c==="wss",f=parseInt(t.substring(h+1),10)):h=t.length;const x=t.slice(0,h);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in y&&(s=y.ns)}return{host:t,port:f,domain:n,subdomain:r,secure:o,scheme:c,pathString:a,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yre=(function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let a;const s=new Array(8);for(a=7;a>=0;a--)s[a]=N2.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(a=11;a>=0&&t[a]===63;a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)o+=N2.charAt(t[a]);return ce(o.length===20,"nextPushId: Length should be 20."),o}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(t,n,r,a){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xn(this.snapshot.exportVal())}}class Xre{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n,r,a){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=a}get key(){return Ke(this._path)?null:T1(this._path)}get ref(){return new ki(this._repo,this._path)}get _queryIdentifier(){const t=c2(this._queryParams),n=C1(t);return n==="{}"?"default":n}get _queryObject(){return c2(this._queryParams)}isEqual(t){if(t=ja(t),!(t instanceof rw))return!1;const n=this._repo===t._repo,r=D1(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return n&&r&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+Bte(this._path)}}class ki extends rw{constructor(t,n){super(t,n,new I1,!1)}get parent(){const t=Ik(this._path);return t===null?null:new ki(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ko{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new yt(t),r=Lo(this.ref,t);return new ko(this._node.getChild(n),r,Kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,a)=>t(new ko(a,Lo(this.ref,r),Kt)))}hasChild(t){const n=new yt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xe(e,t){return e=ja(e),e._checkNotDeleted("ref"),t!==void 0?Lo(e._root,t):e._root}function Lo(e,t){return e=ja(e),$e(e._path)===null?Cre("child","path",t):m3("child","path",t),new ki(e._repo,en(e._path,t))}function oc(e,t){e=ja(e),Dp("push",e._path),h3("push",t,e._path,!0);const n=y3(e._repo),r=Yre(n),a=Lo(e,r),s=Lo(e,r);let o;return t!=null?o=ti(s,t).then(()=>s):o=Promise.resolve(s),a.then=o.then.bind(o),a.catch=o.then.bind(o,void 0),a}function Qre(e){return Dp("remove",e._path),ti(e,null)}function ti(e,t){e=ja(e),Dp("set",e._path),h3("set",t,e._path,!1);const n=new eu;return Ire(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ai(e,t){Nre("update",t,e._path);const n=new eu;return kre(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Zre(e){e=ja(e);const t=new w3(()=>{}),n=new kp(t);return Rre(e._repo,e,n).then(r=>new ko(r,new ki(e._repo,e._path),e._queryParams.getIndex()))}class kp{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Wre("value",this,new ko(t.snapshotNode,new ki(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Xre(this,t,n):null}matches(t){return t instanceof kp?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Jre(e,t,n,r,a){const s=new w3(n,void 0),o=new kp(s);return zre(e._repo,e,o),()=>Bre(e._repo,e,o)}function ei(e,t,n,r){return Jre(e,"value",t)}Qne(ki);nre(ki);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie="FIREBASE_DATABASE_EMULATOR_HOST",vx={};let tie=!1;function nie(e,t,n,r){const a=t.lastIndexOf(":"),s=t.substring(0,a),o=S1(s);e.repoInfo_=new Ck(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function rie(e,t,n,r,a){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||_a("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kn("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=E2(s,a),c=o.repoInfo,f;typeof process<"u"&&VT&&(f=VT[eie]),f?(s=`http://${f}?ns=${c.namespace}`,o=E2(s,a),c=o.repoInfo):o.repoInfo.secure;const h=new hte(e.name,e.options,t);Are("Invalid Firebase Database URL",o),Ke(o.path)||_a("Database URL must point to the root of a Firebase Database (not including a child path).");const m=aie(c,e,h,new fte(e,n));return new lie(m,e)}function iie(e,t){const n=vx[t];(!n||n[e.key]!==e)&&_a(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Ure(e),delete n[e.key]}function aie(e,t,n,r){let a=vx[t.name];a||(a={},vx[t.name]=a);let s=a[e.toURLString()];return s&&_a("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Dre(e,tie,n,r),a[e.toURLString()]=s,s}class lie{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pre(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ki(this._repo,et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&_a("Cannot call "+t+" on a deleted database.")}}function sie(e=zee(),t){const n=Mee(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=yJ("database");r&&oie(n,...r)}return n}function oie(e,t,n,r={}){e=ja(e),e._checkNotDeleted("useEmulator");const a=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&fm(r,s.repoInfo_.emulatorOptions))return;_a("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&_a('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new vh(vh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:xJ(r.mockUserToken,e.app.options.projectId);o=new vh(c)}S1(t)&&(bJ(t),SJ("Database",!0)),nie(s,a,r,o)}function uie(e){e=ja(e),e._checkNotDeleted("goOnline"),$re(e._repo)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(e){Qee(Lee),mm(new zc("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return rie(r,a,s,n)},"PUBLIC").setMultipleInstances(!0)),xo(GT,YT,e),xo(GT,YT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function fie(e,t,n){if(e=ja(e),Dp("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=!0,a=new eu,s=(c,f,h)=>{let m=null;c?a.reject(c):(m=new ko(h,new ki(e._repo,e._path),Kt),a.resolve(new die(f,m)))},o=ei(e,()=>{});return Hre(e._repo,e._path,t,s,o,r),a.promise}da.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};da.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};cie();var ql={};const hie={apiKey:ql.REACT_APP_FIREBASE_API_KEY||"AIzaSyDTF37wXZSd5lQnmOxEkhzssxozWUsOTxU",authDomain:ql.REACT_APP_FIREBASE_AUTH_DOMAIN||"khao-ji.firebaseapp.com",databaseURL:ql.REACT_APP_FIREBASE_DATABASE_URL||"https://khao-ji-default-rtdb.firebaseio.com",projectId:ql.REACT_APP_FIREBASE_PROJECT_ID||"khao-ji",storageBucket:ql.REACT_APP_FIREBASE_STORAGE_BUCKET||"khao-ji.firebasestorage.app",messagingSenderId:ql.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"50219127194",appId:ql.REACT_APP_FIREBASE_APP_ID||"1:50219127194:web:af8028327c59301f61aa23"};let S3=hie;try{const e=localStorage.getItem("nexpos_firebase_config");if(e){const t=JSON.parse(e);t.apiKey&&t.databaseURL&&(S3=t,console.log("Loaded Firebase config from storage"))}}catch(e){console.error("Failed to load firebase config",e)}const mie=ok(S3),Ye=sie(mie),E3=_.createContext(null),or=()=>{const e=_.useContext(E3);if(!e)throw new Error("useStore must be used within StoreProvider");return e},oo=(e,t)=>{if(!t||Object.keys(t).length===0)return e;const n=Object.keys(t).sort().map(r=>`${r}:${t[r].id}`).join("|");return`${e}_${n}`},Zt=e=>JSON.parse(JSON.stringify(e));function ta(e){return e?Object.keys(e).map(t=>({...e[t],id:t})):[]}const pie=({children:e})=>{const[t,n]=_.useState([]),[r,a]=_.useState([]),[s,o]=_.useState([]),[c,f]=_.useState([]),[h,m]=_.useState([]),[v,y]=_.useState([]),[x,w]=_.useState([]),[S,E]=_.useState([]),[C,j]=_.useState([]),[A,T]=_.useState([]),[D,M]=_.useState([]),[k,K]=_.useState(!1),[te,U]=_.useState(null),[$,P]=_.useState({enabled:!0,earningRate:100,redemptionValue:1,minPointsToRedeem:10,minOrderValueToRedeem:0,expiryMonths:12}),[q,ee]=_.useState(null),[ae,L]=_.useState(null),[X,se]=_.useState(!1);_.useCallback(()=>{K(!1),console.log("System running in Offline Mode (Demo Data Loaded)"),n(fe=>fe.length?fe:z0),a(fe=>fe.length?fe:Array.from(new Set(z0.map(de=>de.category)))),m(fe=>fe.length?fe:MT)},[]);const he=_.useCallback(async()=>{console.log("Retrying connection..."),U(null),uie(Ye)},[]);_.useEffect(()=>{const fe=Xe(Ye,".info/connected"),de=ei(fe,Ee=>{Ee.val()===!0?(K(!0),U(null),console.log("RTDB Connected")):K(!1)});return()=>de()},[]),_.useEffect(()=>{const fe=Xe(Ye,"products"),de=ei(fe,lt=>{const Yt=ta(lt.val()).map(st=>({...st,variants:st.variants||[]}));if(Yt.length===0&&!localStorage.getItem("seeded_products")){const st={};z0.forEach(at=>{const Nr=oc(fe).key;Nr&&(st["products/"+Nr]=Zt(at))}),Ai(Xe(Ye),st),localStorage.setItem("seeded_products","true")}else{n(Yt);const st=Array.from(new Set(Yt.map(at=>at.category).filter(at=>!!at)));a(st)}}),Ee=Xe(Ye,"tables"),Te=ei(Ee,lt=>{const Yt=ta(lt.val());if(Yt.length===0&&!localStorage.getItem("seeded_tables")){const st={};MT.forEach(at=>{st["tables/"+at.id]=Zt(at)}),Ai(Xe(Ye),st),localStorage.setItem("seeded_tables","true")}else m(Yt)}),bt=Xe(Ye,"reservations"),Ae=ei(bt,lt=>{const Yt=ta(lt.val());y(Yt.sort((st,at)=>st.reservationTime-at.reservationTime))}),Tt=Xe(Ye,"staff"),Ln=ei(Tt,lt=>{const Yt=lt.val();if(Yt)M(ta(Yt));else{const st={id:"ADMIN123",name:"Super Admin",pin:"1234",role:"ADMIN"};ti(Xe(Ye,"staff/ADMIN123"),st)}}),xt=Xe(Ye,"orders"),Be=ei(xt,lt=>{const st=ta(lt.val()).map(at=>({...at,items:at.items||[],payments:at.payments||[]}));f(st.sort((at,Nr)=>Nr.timestamp-at.timestamp))}),Dt=Xe(Ye,"customers"),Pe=ei(Dt,lt=>{const Yt=lt.val(),st=Yt?Object.values(Yt).map(at=>({...at,loyaltyHistory:at.loyaltyHistory||[]})):[];w(st)}),zn=Xe(Ye,"shifts"),Er=ei(zn,lt=>{const Yt=ta(lt.val());if(T(Yt.sort((st,at)=>at.startTime-st.startTime)),!ae){const st=Yt.find(at=>at.status==="ACTIVE");st&&L(st)}}),Jn=Xe(Ye,"settings/loyalty"),sn=ei(Jn,lt=>{lt.exists()?P(lt.val()):ti(Jn,Zt($))}),ft=Xe(Ye,"expenses"),ht=ei(ft,lt=>E(ta(lt.val()))),Bn=Xe(Ye,"auditLogs"),Da=ei(Bn,lt=>j(ta(lt.val())));return()=>{de(),Te(),Be(),Pe(),Er(),sn(),ht(),Da(),Ln(),Ae()}},[]);const ve=(fe,de,Ee="INFO")=>{const Te={id:`LOG-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,action:fe,details:de,timestamp:Date.now(),user:q?q.name:"System",severity:Ee};oc(Xe(Ye,"auditLogs"),Zt(Te))},R=fe=>{ti(Xe(Ye,"settings/loyalty"),Zt(fe)),ve("SETTINGS_UPDATE","Loyalty program settings updated","WARNING")},Z=(fe,de)=>{const Ee=fe.toUpperCase().trim(),Te=D.find(bt=>bt.id.toUpperCase()===Ee&&bt.pin===de);return Te?(ee(Te),ve("LOGIN",`${Te.name} logged in.`),!0):!1},ue=()=>{if(ae&&(q==null?void 0:q.role)!=="CHEF"){alert("Please end the active shift before logging out.");return}ve("LOGOUT",`${q==null?void 0:q.name} logged out.`),ee(null)},oe=fe=>{const de={...fe,id:fe.id.toUpperCase().trim()};ti(Xe(Ye,"staff/"+de.id),Zt(de)),ve("STAFF_ADD",`New staff member created: ${de.name} (${de.role})`,"WARNING")},me=fe=>{const de=fe.trim();if(de.toUpperCase()==="ADMIN123"){alert("Cannot delete default Super Admin.");return}Qre(Xe(Ye,"staff/"+de)).then(()=>ve("STAFF_REMOVE",`Staff member removed: ${de}`,"WARNING")).catch(Ee=>alert("Error removing staff: "+Ee.message))},Oe=fe=>{if(!q)return;const de=`SHF${Date.now().toString().slice(-4)}`,Ee={id:de,staffId:q.id,staffName:q.name,startTime:Date.now(),status:"ACTIVE",openingBalance:fe,cashSales:0,upiSales:0,cardSales:0,totalSales:0,expectedCash:fe,ordersCount:0,refundsTotal:0,discountsTotal:0};ti(Xe(Ye,"shifts/"+de),Zt(Ee)),L(Ee),ve("SHIFT_START",`Shift ${Ee.id} started by ${q.name}`)},je=fe=>{if(!ae)return;const de=fe-ae.expectedCash,Ee={...ae,endTime:Date.now(),status:"CLOSED",actualCash:fe,variance:de};Ai(Xe(Ye,"shifts/"+ae.id),Zt(Ee)),L(null),se(!1),ve("SHIFT_END",`Shift ${Ee.id} ended. Variance: ${de}`),ee(null)},nt=(fe,de)=>{let Ee=fe.price;de&&Object.values(de).forEach(Te=>Ee+=Te.priceModifier),o(Te=>{const bt=oo(fe.id,de),Ae=Te.findIndex(Tt=>oo(Tt.id,Tt.selectedVariants)===bt);if(Ae>-1){const Tt=[...Te];return Tt[Ae]={...Tt[Ae],qty:Tt[Ae].qty+1},Tt}return[...Te,{...fe,price:Ee,qty:1,selectedVariants:de}]})},J=(fe,de)=>{const Ee=oo(fe,de);o(Te=>Te.filter(bt=>oo(bt.id,bt.selectedVariants)!==Ee))},Ce=(fe,de,Ee)=>{if(de<=0){J(fe,Ee);return}const Te=oo(fe,Ee);o(bt=>bt.map(Ae=>oo(Ae.id,Ae.selectedVariants)===Te?{...Ae,qty:de}:Ae))},Re=()=>o([]),le=async(fe,de,Ee)=>{if(s.length===0)return"";const Te=new Date,bt=`${Te.getFullYear()}-${String(Te.getMonth()+1).padStart(2,"0")}-${String(Te.getDate()).padStart(2,"0")}`,Ae=Xe(Ye,`counters/${bt}`);let Tt=`KOT-${Date.now().toString().slice(-4)}`;try{const Pe=await fie(Ae,zn=>(zn||0)+1);Pe.snapshot.exists()&&(Tt=Pe.snapshot.val().toString())}catch(Pe){console.error("KOT Counter Transaction failed",Pe)}const Ln=s.map(Pe=>({...Pe,kotId:Tt,timestamp:Date.now(),status:"KITCHEN"})),xt=c.find(Pe=>Pe.tableId===fe&&Pe.status===Ut.OPEN);let Be;const Dt={};if(xt){const Pe=[...xt.items||[],...Ln],zn=Pe.reduce((Jn,sn)=>Jn+sn.price*sn.qty,0),Er=Math.round(zn*.05);Be={...xt,items:Pe,subtotal:zn,tax:Er,total:zn+Er-xt.discount,customerName:de||xt.customerName,customerPhone:Ee||xt.customerPhone},Dt["orders/"+xt.id]=Zt(Be)}else{const Pe=Ln.reduce((Jn,sn)=>Jn+sn.price*sn.qty,0),zn=Math.round(Pe*.05),Er=`ORD-${Date.now()}`;Be={id:Er,tableId:fe,items:Ln,subtotal:Pe,tax:zn,discount:0,total:Pe+zn,status:Ut.OPEN,timestamp:Date.now(),payments:[],amountPaid:0,isFullyPaid:!1,shiftId:ae==null?void 0:ae.id,staffId:q==null?void 0:q.id,staffName:q==null?void 0:q.name,customerName:de,customerPhone:Ee},Dt["orders/"+Er]=Zt(Be)}return await Ai(Xe(Ye),Dt),o([]),Tt},Nt=(fe,de,Ee)=>{const Te=c.find(Ae=>Ae.id===fe);if(!Te)return;const bt=Te.items.map(Ae=>Ae.kotId===de?{...Ae,status:Ee}:Ae);Ai(Xe(Ye,"orders/"+fe),Zt({...Te,items:bt}))},Le=(fe,de,Ee,Te,bt,Ae,Tt,Ln,xt=0)=>{const Be=c.find(ft=>ft.tableId===fe&&ft.status===Ut.OPEN);if(!Be)return;const Dt=Be.subtotal+Be.tax-Ee,Pe=de.reduce((ft,ht)=>ft+ht.amount,0),zn=Pe>=Dt-.01,Er={...Be,status:Ut.COMPLETED,discount:Ee,discountNote:Te,total:Dt,customerName:bt,customerPhone:Ae,deliveryAddress:Tt,payments:de,amountPaid:Pe,isFullyPaid:zn,shiftId:(ae==null?void 0:ae.id)||Be.shiftId,staffId:(q==null?void 0:q.id)||Be.staffId,staffName:(q==null?void 0:q.name)||Be.staffName},Jn={};Jn["orders/"+Be.id]=Zt(Er);let sn=0;if($.enabled&&Ae){zn&&(sn=Math.floor(Dt/$.earningRate));const ft=x.find(Bn=>Bn.phone===Ae),ht=ft?{...ft,loyaltyHistory:ft.loyaltyHistory||[],totalPointsEarned:ft.totalPointsEarned||0,totalPointsRedeemed:ft.totalPointsRedeemed||0}:{phone:Ae,name:bt||"Guest",loyaltyPoints:0,loyaltyHistory:[],totalPointsEarned:0,totalPointsRedeemed:0};if(ht.lastVisit=Date.now(),sn>0){const Bn={id:`tx_${Date.now()}_earn`,date:Date.now(),type:"EARNED",points:sn,orderId:Be.id,description:`Earned from Order #${Be.id.slice(-4)}`};ht.loyaltyHistory.push(Bn),ht.totalPointsEarned+=sn}if(xt>0){const Bn={id:`tx_${Date.now()}_redeem`,date:Date.now(),type:"REDEEMED",points:xt,orderId:Be.id,description:`Redeemed on Order #${Be.id.slice(-4)}`};ht.loyaltyHistory.push(Bn),ht.totalPointsRedeemed+=xt}ht.loyaltyPoints=(ht.loyaltyPoints||0)+sn-xt,Jn["customers/"+Ae]=Zt(ht)}if(ae){const ft={...ae};ft.ordersCount+=1,ft.totalSales+=Dt,ft.discountsTotal+=Ee,de.forEach(ht=>{ht.method===gr.CASH?(ft.cashSales+=ht.amount,ft.expectedCash+=ht.amount):ht.method===gr.UPI?ft.upiSales+=ht.amount:ht.method===gr.CARD&&(ft.cardSales+=ht.amount)}),Jn["shifts/"+ae.id]=Zt(ft)}Ai(Xe(Ye),Jn).then(()=>{ve("ORDER_SETTLED",`Order ${Be.id} settled. Total: ${Dt}`)})},W=(fe,de)=>{const Ee=c.filter(Ae=>Ae.customerPhone===fe&&Ae.status===Ut.COMPLETED&&!Ae.isFullyPaid).sort((Ae,Tt)=>Ae.timestamp-Tt.timestamp);let Te=de.amount;const bt={};if(ae){const Ae={...ae};de.method===gr.CASH?(Ae.cashSales+=de.amount,Ae.expectedCash+=de.amount):de.method===gr.UPI?Ae.upiSales+=de.amount:de.method===gr.CARD&&(Ae.cardSales+=de.amount),bt["shifts/"+ae.id]=Zt(Ae)}for(const Ae of Ee){if(Te<=.01)break;const Tt=Ae.total-Ae.amountPaid,Ln=Math.min(Tt,Te),xt=[...Ae.payments||[],{...de,amount:Ln}],Be=Ae.amountPaid+Ln,Dt=Be>=Ae.total-.01,Pe={...Ae,payments:xt,amountPaid:Be,isFullyPaid:Dt};bt["orders/"+Ae.id]=Zt(Pe),Te-=Ln}Ai(Xe(Ye),bt).then(()=>{ve("DUE_PAYMENT",`Customer ${fe} paid due amount: ${de.amount}`)})},pe=(fe,de)=>{Ai(Xe(Ye,"orders/"+fe),{status:de})},ye=fe=>{ti(Xe(Ye,"customers/"+fe.phone),Zt(fe))},Ie=(fe,de)=>{const Ee=fe.replace(/\s+/g,"-");ti(Xe(Ye,"tables/"+Ee),Zt({id:Ee,name:fe,floor:de}))},Lt=async fe=>{if(!fe){console.error("No Table ID provided for deletion");return}console.log("Attempting to delete table:",fe),m(de=>de.filter(Te=>Te.id!==fe));try{await ti(Lo(Xe(Ye),`tables/${fe.trim()}`),null),ve("TABLE_REMOVE",`Table ${fe} removed`)}catch(de){console.error("Failed to delete table from DB:",de);const Ee=await Zre(Xe(Ye,"tables"));Ee.exists()&&m(ta(Ee.val())),alert("Failed to delete table from server: "+de.message)}},ln=fe=>{const de=oc(Xe(Ye,"reservations")),Ee={...fe,id:de.key,createdAt:Date.now(),status:rl.CONFIRMED,createdBy:q==null?void 0:q.name};ti(de,Zt(Ee)),ve("RESERVATION_ADD",`Reserved Table ${fe.tableId} for ${fe.customerName}`)},Sr=(fe,de)=>{Ai(Xe(Ye,`reservations/${fe}`),{status:de}),ve("RESERVATION_UPDATE",`Reservation ${fe} status updated to ${de}`)},Ta=fe=>{const de=Xe(Ye,"products"),Ee=oc(de);ti(Ee,Zt(fe))},Sl=fe=>{const{id:de,...Ee}=fe;Ai(Xe(Ye,"products/"+de),Zt(Ee))},kn=fe=>{const de={...fe,timestamp:Date.now()};oc(Xe(Ye,"expenses"),Zt(de))};return p.jsx(E3.Provider,{value:{products:t,categories:r,cart:s,orders:c,tables:h,reservations:v,customers:x,expenses:S,auditLogs:C,shifts:A,loyaltySettings:$,staffList:D,currentUser:q,currentShift:ae,isDbConnected:k,connectionError:te,login:Z,logout:ue,startShift:Oe,endShift:je,showEndShiftModal:X,setShowEndShiftModal:se,addToCart:nt,removeFromCart:J,updateCartItemQty:Ce,clearCart:Re,sendToKitchen:le,updateKotStatus:Nt,settleOrder:Le,settleCustomerDue:W,updateOrderStatus:pe,addTable:Ie,removeTable:Lt,addProduct:Ta,updateProduct:Sl,updateCustomer:ye,addReservation:ln,updateReservationStatus:Sr,addExpense:kn,logAction:ve,updateLoyaltySettings:R,retryConnection:he,addStaff:oe,removeStaff:me},children:e})},vie=()=>{const{login:e,isDbConnected:t,connectionError:n,retryConnection:r}=or(),[a,s]=_.useState(""),[o,c]=_.useState(""),[f,h]=_.useState(""),m=v=>{v.preventDefault(),e(a,o)?h(""):h("Invalid Staff ID or PIN")};return p.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[p.jsxs("div",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-2 ${t?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-50 animate-pulse":"bg-red-500"}`}),t?"Realtime DB Online":"Offline Mode"]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-sm relative z-10",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"NexPOS"}),p.jsx("p",{className:"text-slate-500",children:"Realtime Edition"})]}),!t&&p.jsxs("div",{className:"bg-amber-50 text-amber-700 text-xs p-3 rounded mb-4 text-center border border-amber-100",children:[n?p.jsxs(p.Fragment,{children:[p.jsx("strong",{className:"block text-red-600 mb-1",children:"Connection Error"}),n]}):p.jsxs(p.Fragment,{children:[p.jsx("strong",{children:"Connecting..."}),p.jsx("br",{}),"Checking Realtime Database status."]}),p.jsx("div",{className:"mt-3",children:p.jsx("button",{onClick:r,className:"w-full bg-red-100 text-red-800 py-2 rounded-lg text-sm font-bold hover:bg-red-200 transition-colors",children:" Retry Connection"})})]}),p.jsxs("form",{onSubmit:m,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Staff ID"}),p.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-center text-lg font-bold uppercase tracking-widest",placeholder:"Enter Staff ID",value:a,onChange:v=>s(v.target.value.toUpperCase()),autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"PIN"}),p.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-center text-lg font-bold tracking-widest",placeholder:"",value:o,maxLength:8,onChange:v=>c(v.target.value)})]}),f&&p.jsx("p",{className:"text-red-500 text-sm text-center font-bold",children:f}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-bold shadow-lg shadow-indigo-500/30 transition-all mt-4",children:"Login"})]})]})]})},gie=()=>{const{startShift:e,currentUser:t,logout:n}=or(),[r,a]=_.useState(""),s=o=>{o.preventDefault();const c=parseFloat(r);!isNaN(c)&&c>=0&&e(c)};return p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl",children:""}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:"Start Shift"}),p.jsxs("p",{className:"text-slate-500 mb-6",children:["Welcome, ",p.jsx("span",{className:"font-bold text-slate-700",children:t==null?void 0:t.name})]}),p.jsxs("form",{onSubmit:s,children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Opening Cash Balance"}),p.jsxs("div",{className:"relative mb-6",children:[p.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),p.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-emerald-500 outline-none text-xl font-bold text-slate-800",placeholder:"0.00",value:r,onChange:o=>a(o.target.value),autoFocus:!0,required:!0})]}),p.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold shadow-lg transition-all",children:"Start Shift"}),p.jsx("button",{type:"button",onClick:n,className:"mt-4 text-slate-400 hover:text-slate-600 text-sm font-medium",children:"Cancel & Logout"})]})]})})},yie=({onClose:e})=>{const{currentShift:t,endShift:n}=or(),[r,a]=_.useState("");if(!t)return null;const s=c=>{c.preventDefault();const f=parseFloat(r);isNaN(f)||n(f)},o=(parseFloat(r)||0)-t.expectedCash;return p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 z-[60] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-lg",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-100 pb-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"End Shift"}),p.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",t.id]})]}),p.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 text-2xl",children:""})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Total Sales"}),p.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",t.totalSales]})]}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"UPI / Card"}),p.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",t.upiSales+t.cardSales]})]}),p.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-100 col-span-2",children:[p.jsx("p",{className:"text-xs text-emerald-700 uppercase font-bold",children:"Expected Cash in Drawer"}),p.jsxs("p",{className:"text-2xl font-bold text-emerald-900",children:["",t.expectedCash]}),p.jsxs("p",{className:"text-[10px] text-emerald-600",children:["Opening (",t.openingBalance,") + Cash Sales (",t.cashSales,")"]})]})]}),p.jsxs("form",{onSubmit:s,children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Enter Physical Cash Count"}),p.jsx("input",{type:"number",className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-red-500 outline-none text-xl font-bold text-slate-800 mb-2",placeholder:"0.00",value:r,onChange:c=>a(c.target.value),required:!0,autoFocus:!0}),r&&p.jsx("div",{className:`text-center p-2 rounded-lg font-bold text-sm mb-4 ${o>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o>=0?`Excess: +${o}`:`Shortage: -${Math.abs(o)}`}),p.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold shadow-lg transition-all",children:"Confirm End Shift"})]})]})})},bie=()=>p.jsx(pie,{children:p.jsx(xie,{})}),xie=()=>{const{currentUser:e,currentShift:t,showEndShiftModal:n,setShowEndShiftModal:r}=or();return e?!t&&e.role!=="CHEF"?p.jsx(gie,{}):p.jsx(o5,{children:p.jsxs("div",{className:"relative",children:[p.jsx(y5,{children:p.jsx(B6,{children:e.role==="CHEF"?p.jsxs(p.Fragment,{children:[p.jsx(Zr,{path:"/kitchen",element:p.jsx(DT,{})}),p.jsx(Zr,{path:"*",element:p.jsx(ey,{to:"/kitchen",replace:!0})})]}):p.jsxs(p.Fragment,{children:[p.jsx(Zr,{path:"/",element:p.jsx(tJ,{})}),p.jsx(Zr,{path:"/pos",element:p.jsx(nJ,{})}),p.jsx(Zr,{path:"/tables",element:p.jsx(iJ,{})}),p.jsx(Zr,{path:"/kitchen",element:p.jsx(DT,{})}),p.jsx(Zr,{path:"/inventory",element:p.jsx(rJ,{})}),p.jsx(Zr,{path:"/crm",element:p.jsx(aJ,{})}),p.jsx(Zr,{path:"/reports",element:p.jsx(lJ,{})}),p.jsx(Zr,{path:"/settings",element:e.role==="ADMIN"?p.jsx(sJ,{}):p.jsx(ey,{to:"/",replace:!0})}),p.jsx(Zr,{path:"*",element:p.jsx(ey,{to:"/",replace:!0})})]})})}),n&&p.jsx(yie,{onClose:()=>r(!1)})]})}):p.jsx(vie,{})},N3=document.getElementById("root");if(!N3)throw new Error("Could not find root element to mount to");const _ie=YL.createRoot(N3);_ie.render(p.jsx(C2.StrictMode,{children:p.jsx(bie,{})}));
